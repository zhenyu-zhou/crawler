(function(h){h.execute(function(){(function(d,g,c){function j(e){return e.join("")}function k(e){var a=f("requestInfoElement"in e?e.requestInfoElement:".p13n-session"),b=a.attr("data-marketplaceId"),d=a.attr("data-mkt"),i=a.attr("data-session"),c=a.attr("data-requestId"),e=a.attr("data-relatedRequestId"),a=a.attr("data-pageid"),b=["?marketplaceId=",b,"&marketplace=",d,"&session=",i,"&requestId=",c];e&&b.push("&relatedRequestId=",e);a&&b.push("&pageId=",a);return j(b)}function l(e){for(var a=[e.widget,
":"],b=0;b<e.asins.length;b++){var d=e.asins[b];a.push(d.asin,"@");f.each(d,function(e,b){e!="asin"&&a.push(e,"=",b,"|")});a.splice(a.length-1,1);a.push(",")}e.asins.length>0&&a.splice(a.length-1,1);a.push(":");a.push("action=",e.action);"page"in e&&a.push(",","p=",e.page);"meta"in e&&f.each(e.meta,function(e,b){a.push(",",e,"=",b)});return j(a)}var f,a=0,i={},b={},m={logEvent:function(e){if(!(a>3)){if("featureElement"in e)e.asins=f.map(f(e.featureElement).find(".p13nimp").filter(":visible"),function(a){var e=
{};f.each(a.attributes,function(a,b){var f=b.nodeName,d=b.nodeValue;if(typeof f==="string"&&f.indexOf("data-")===0&&typeof d==="string"&&d.length!==0)e[f.substring(5)]=b.nodeValue});return e});e.widget in i||(i[e.widget]={});for(var b=0,c=0;c<e.asins.length;c++)e.asins[c].asin in i[e.widget]||(i[e.widget][e.asins[c].asin]=!0,b++);if(!(e.logOnlyOnNew&&b===0))c=new Image,c.onerror=function(){a++},c.src=j([d.location.protocol,"//",d.ue_furl||"fls-na.amazon.com","/1/",e.channel,"/1/OP/p13n/action/",j([e.widget,
"_:",e.action,"@v=",e.eventtime||0,",impressed@v=",b]),"/",l(e),k(e)])}},logAsyncEvent:function(a){var f=(new Date).getTime(),c=typeof a.initialDelay=="number"?a.initialDelay:400;a.widget in b&&d.clearTimeout(b[a.widget]);var i=function(){var c=a.isEventComplete(),g=(new Date).getTime();if(g-f<5E3&&!c)b[a.widget]=d.setTimeout(i,150);else{if(!c){if(!("meta"in a))a.meta={};a.meta.err="notfinished"}a.eventtime=g-f;delete b[a.widget];m.logEvent(a)}};b[a.widget]=d.setTimeout(i,c)},eventPending:function(a){return a in
b}};if(!d.p13nLoggerLoaded){d.p13nLoggerLoaded=!0;var n=typeof g==="object"&&typeof g.when==="function",h=typeof c==="object";if(n&&!h)g.when("jQuery","ready").register("p13n-logger",function(a){f=a;return m});else if(n&&h)g.when("jQuery","ready").register("p13n-logger",function(a){f=a;d.p13n=m;g.execute(function(){c.declareAvailable("p13nlogger")});return m});else if(!n&&h)c.onReady("jQuery",function(){f=typeof f==="undefined"?c.jQuery:f;d.p13n=m;c.declareAvailable("p13nlogger")})}})(window,window.P,
window.amznJQ);(function(d,g,c){var h=function(c){if(typeof c.fn.callOnVisible=="undefined"){var g=null,f=[],a=null;c.fn.callOnVisible=function(i,b){b=typeof b=="undefined"?250:b;g===null&&(g=c(d));this.each(function(){f.push({element:c(this),callback:i,distance:b});if(a===null){var d=0,h=!1;a=function(){if(!h){var b=(new Date).getTime()-d;h=!0;setTimeout(function(){for(var b=g.scrollTop()+g.height(),c=f.length-1;c>=0;c--)f[c].element.parents("body").size()===0?f.splice(c,1):b+f[c].distance>f[c].element.offset().top&&
(f[c].callback.call(f[c].element[0]),f.splice(c,1));f.length===0&&(g.unbind("scroll",a),a=null);h=!1;d=(new Date).getTime()},b<200?200-b:10)}};g.bind("scroll",a)}});a!==null&&a();return this}}};if(!d.callOnVisibleLoaded)d.callOnVisibleLoaded=!0,typeof g==="object"&&typeof g.when==="function"&&g.when("jQuery").register("call-on-visible",function(c){h(c);return{}}),typeof c==="object"&&c.available("jQuery",function(){h(c.jQuery);c.declareAvailable("callOnVisible")})})(window,window.P,window.amznJQ);
h.when("A","jQuery","a-carousel-framework","ready").execute(function(d,g,c){function j(a){if(typeof a!=="undefined"){var c=a.dom.$container;if(c.hasClass(l)){var b=a.getAttr("pageNumber");c.data(f,b);h.when("call-on-visible").execute(function(){a.dom.$container.callOnVisible(function(){k(a,{action:"view",page:b})},0)});d.on("a:carousel:"+a.getAttr("name")+":change:pageSize",function(){var b=a.getAttr("pageNumber");c.data(f,b);k(a,{action:"resize",page:b,logOnlyOnNew:!0})})}}}function k(a,c){h.when("p13n-logger").execute(function(b){var f=
a.dom.$container,d=f.data();b.logAsyncEvent(g.extend(!0,{},{channel:d.p13nChannel,widget:d.p13nWidget,featureElement:f,isEventComplete:function(){return f.find(".a-carousel-card-empty").size()===0&&!a.getAttr("animating")},requestInfoElement:d.p13nRequestInfoElement,meta:d.p13nMetadata},c))})}var l="p13nimp-carousel",f="p13nPreviousPage";d.each(c.getAllCarousels(),function(a){a.dom.$container.hasClass("a-carousel-initialized")&&j(a)});d.on("a:carousel:init",function(a){j(a.carousel)});g(document).delegate("."+
l+" .a-carousel-goto-nextpage","click",function(a){var a=c.getCarousel(a.target),d=a.dom.$container,b=a.getAttr("pageNumber");k(a,{action:"shovel_right",page:b});d.data(f,b)});g(document).delegate("."+l+" .a-carousel-goto-prevpage","click",function(a){var a=c.getCarousel(a.target),d=a.dom.$container,b=a.getAttr("pageNumber");k(a,{action:"shovel_left",page:b});d.data(f,b)});g(document).delegate("."+l+" .a-carousel-restart","click",function(a){var a=c.getCarousel(a.target),d=a.dom.$container,b=a.getAttr("pageNumber");
k(a,{action:"start_over",page:b,meta:{op:d.data(f)}});d.data(f,b)})})})})(function(){var h=window.AmazonUIPageJS||P,d=h.attributeErrors;return d?d("P13NClientSideLoggingAuiJS"):h}());