
/* content-aft.js 6769898 */ (function(A,K){if(A.YAFT!==undefined){return}var a,G=false,M=false,s=false,e=new Date().getTime(),o=false,m=K.documentElement,j={useNormalizeCoverage:true,useCustomSelector:false,canShowVisualReport:true,useNativeStartRender:false,generateHAR:false,maxWaitTime:3000,modules:[],modulesExclude:[],plugins:[]},L=0,B,k=0,E=0,H=0,p=[],h={},r={},C=0,D={};function b(w){var O={},d;for(d in w){if(typeof(w[d])==="object"&&w[d]!==null){O[d]=b(w[d])}else{O[d]=w[d]}}return O}function y(X){var af=navigator.userAgent,S=navigator.appVersion,w,V=a.timing,P=V.navigationStart,Z,Q=new Date(P),T,W,ai,ad,O="200",aa="OK",Y=-1,ab=0,d=0,ah=0,ac=0,ae=-1,R=0,ag=0,U=0;ai={log:{version:"1.2",creator:{name:"YAFT",version:"0.1.0"},browser:{name:af,version:S},pages:[{startedDateTime:Q.toISOString(),id:"Page_1",title:K.location.href,pageTimings:{onContentLoad:V.domInteractive-P,onLoad:V.loadEventStart-P}}],entries:[],comment:""}};for(ad=0;ad<X.length;ad+=1){w=X[ad];Z=new Date(Math.round(P+w.start));ab=Math.round(w.dnsDuration);d=Math.round(w.tcpDuration);ae=Math.round(w.sslDuration);ah=Math.round(w.responseStart-w.requestStart);ac=Math.round(w.responseDuration);R=Math.round(w.duration)-ab-d-ah-ac;ag=Math.round(w.duration);if(R<0){ag=ag-R;R=0}W={pageref:"Page_1",startedDateTime:Z.toISOString(),time:ag,request:{method:"GET",url:w.url,httpVersion:"HTTP/1.1",cookies:[],headers:[],queryString:[],headersSize:-1,bodySize:-1},response:{status:O,statusText:aa,httpVersion:"HTTP/1.0",cookies:[],headers:[],content:{size:Y,compression:0,mimeType:""},redirectURL:"",headersSize:-1,bodySize:Y},cache:{},timings:{blocked:-1,dns:ab,connect:d,send:ah,ssl:ae,wait:R,receive:ac}};ai.log.entries.push(W)}return ai}function t(){var d=[],S,w,Q,R=0,P=[];d.push(i());P=a.getEntriesByType("resource");for(S=0;S<P.length;S+=1){if(P[S].name!=="document"){d.push(n(P[S]))}}Q=document.getElementsByTagName("iframe");if(Q&&Q.length){for(w=0;w<Q.length;w+=1){try{P=Q[w].contentWindow.performance.getEntriesByType("resource");R=Q[w].contentWindow.performance.timing.navigationStart-a.timing.navigationStart;for(S=0;S<P.length;S+=1){if(P[S].name!=="document"){d.push(n(P[S],R))}}}catch(O){}}d.sort(function(U,T){return U.start-T.start})}return d}function n(d,w){if(!(w&&w>0)){w=0}return{url:d.name,start:d.startTime+w,duration:d.duration,durationFromNStart:(d.duration>0)?(d.duration+d.startTime+w):d.startTime+w,redirectStart:d.redirectStart+w,redirectDuration:d.redirectEnd-d.redirectStart,appCacheStart:0,appCacheDuration:0,dnsStart:d.domainLookupStart+w,dnsDuration:d.domainLookupEnd-d.domainLookupStart,tcpStart:d.connectStart+w,tcpDuration:d.connectEnd-d.connectStart,sslStart:(d.secureConnectionStart>0)?d.secureConnectionStart-d.connectStart:0,sslDuration:(d.secureConnectionStart>0)?(d.connectEnd-d.secureConnectionStart):-1,requestStart:d.requestStart+w,requestDuration:d.responseStart-d.requestStart,responseStart:d.responseStart+w,responseDuration:d.responseStart===0?0:d.responseEnd-d.responseStart}}function i(){var d=a.timing;return{url:K.location.href,start:0,duration:d.responseEnd-d.navigationStart,durationFromNStart:d.responseEnd-d.navigationStart,redirectStart:d.redirectStart===0?0:d.redirectStart-d.navigationStart,redirectDuration:d.redirectEnd-d.redirectStart,appCacheStart:0,appCacheDuration:0,dnsStart:d.domainLookupStart-d.navigationStart,dnsDuration:d.domainLookupEnd-d.domainLookupStart,tcpStart:d.connectStart-d.navigationStart,tcpDuration:d.connectEnd-d.connectStart,sslStart:(d.secureConnectionStart>0)?d.secureConnectionStart-d.connectStart:0,sslDuration:(d.secureConnectionStart>0)?(d.connectEnd-d.secureConnectionStart):-1,requestStart:d.requestStart-d.navigationStart,requestDuration:d.responseStart-d.requestStart,responseStart:d.responseStart-d.navigationStart,responseDuration:d.responseEnd-d.responseStart}}function l(){return{win:A,doc:K,docElem:m,viewportWidth:(m.clientWidth<A.innerWidth?A.innerWidth:m.clientWidth),viewportHeight:(m.clientHeight<A.innerHeight?A.innerHeight:m.clientHeight),getScrollXY:function(){return{x:A.scrollX||A.pageXOffset,y:A.scrollY||A.pageYOffset}},getViewportArea:function(){return this.viewportWidth*this.viewportHeight},getElementBounds:function(O,w){var P,d,Q;if(w){d=O}else{d=K.getElementById(O)}P=this.getScrollXY();Q=b(d.getBoundingClientRect());Q.top=Q.top+P.y;Q.bottom=Q.bottom+P.y;Q.left=Q.left+P.x;Q.right=Q.right+P.x;return Q},isInViewport:function(O,w){var d=this.getElementBounds(O,w);return(d.top<this.viewportHeight&&d.left<this.viewportWidth&&d.bottom>=0&&d.right>=0&&this.isVisible(O,w))},isVisible:function(O,w){var P=true,d=O;if(!w){d=K.getElementById(O)}P=P&&d.offsetWidth>0&&d.offsetHeight>0;if(P){while("BODY"!=d.tagName&&P){P=P&&"hidden"!=A.getComputedStyle(d).visibility;d=d.parentElement}}return P},getElementCoverage:function(O){var w=this.getElementBounds(O),d,P;if(w.right<0){d=0}else{if(w.right>this.viewportWidth){if(w.left>=0){d=this.viewportWidth-w.left}else{d=this.viewportWidth}}else{if(w.left<0&&w.right>0){d=w.right}else{d=w.width}}}if(w.bottom<0){P=0}else{if(w.bottom>this.viewportHeight){if(w.top>=0){P=this.viewportHeight-w.top}else{P=this.viewportHeight}}else{if(w.top<0&&w.bottom>0){P=w.bottom}else{P=w.height}}}return d*P},getElementPercentage:function(O){var P=this.getElementCoverage(O),d=this.getViewportArea(),w=(P*100)/d;return Math.round(w)>0?w:0}}}function x(W,U){var X="",Q,O,w,V,d,P,R=false,S=(U&&U.length)?U.length:0,T=(W&&W.length)?W.length:0;for(Q=0;Q<T;Q+=1){V=W[Q];if(j.useCustomSelector){d=K.querySelectorAll(V)}else{d=K.querySelectorAll('div[id^="'+V+'"],section[id^="'+V+'"], ul[id^="'+V+'"], ol[id^="'+V+'"], li[id^="'+V+'"]')}P=d.length;for(O=P-1;O>=0;O--){X=d[O].id;R=false;for(w=0;w<S;w+=1){if(X.search(U[w])!==-1){R=true;break}}if(!R){r[X]=d[O]}}}return r}function z(w,d){var O=w.id;if(!D[O]){D[O]=v(w,d)}}function F(w){var d=0,O;for(O in w){if(w.hasOwnProperty(O)){if(!D[O]){D[O]=v(w[O])}}}return D}function N(){if(j.useNativeStartRender){if(L){return L}else{return YAFT.getStartRenderTime()}}else{return M?a.timing.domContentLoadedEventStart-e:0}}function v(X,S){var T,Q,W=false,w,P=[],R,O=N(),d=N(),Y=X.querySelectorAll("div, img, a, video, span, ul, li"),V=Y.length;function U(aa){var Z="";if(aa.nodeName==="VIDEO"){}else{if(aa.src){Z=aa.src}else{if(aa.style&&aa.style.backgroundImage){Z=aa.style.backgroundImage.slice(4,-1)}}}return Z}if(!S){w=U(X);if(w){R=a.getEntriesByName(w);if(R&&R.length&&R.length>0&&B.isInViewport(X,true)){P.push(n(R[0]))}}if(Y&&V>0){for(T=0;T<V;T+=1){Q=Y[T];w=U(Q);if(w){R=a.getEntriesByName(w);if(R&&R.length&&R.length>0&&B.isInViewport(Q,true)){P.push(n(R[0]))}}}}V=P.length;if(V>0){for(T=0;T<V;T+=1){if(P[T].start>O){O=P[T].start}if(P[T].durationFromNStart>d){d=P[T].durationFromNStart}}}}else{W=true;if(S.modStart){O=S.modStart}if(S.modEnd){d=S.modEnd}}return{isCustom:W,start:O,loadTime:d,name:X.id,resources:P,inViewPort:B.isInViewport(X.id),coverageArea:B.getElementCoverage(X.id),coveragePercentage:B.getElementPercentage(X.id)}}function q(P){var d,O=0,w=0;for(d in P){if(P.hasOwnProperty(d)){O=P[d].coveragePercentage;if(P[d].inViewPort&&Math.round(O)>0){w+=O}}}return w}function f(w){var O,d=w.length;for(O=0;O<d;O+=1){if(j.useNormalizeCoverage){if(Math.round(w[O])===Math.round(H)){return O*100}}else{if(Math.round(w[O])===Math.round(E)){return O*100}}}return 0}function I(P){var S=0,w=a.now(),O=Math.floor(w/100),d=new Array(O),R,T=0,Q;for(R=0;R<O;R+=1){d[R]=0}R=0;for(Q in P){if(P.hasOwnProperty(Q)&&P[Q].inViewPort&&Math.round(P[Q].coveragePercentage)>0){if(j.useNormalizeCoverage){P[Q].normCoveragePercentage=(P[Q].coveragePercentage/E)*100;T+=P[Q].normCoveragePercentage}if(P[Q].loadTime>0){R=Math.round(P[Q].loadTime/100);d[R]+=j.useNormalizeCoverage?P[Q].normCoveragePercentage:P[Q].coveragePercentage}}}if(j.useNormalizeCoverage){S+=(T-d[0])}else{S+=(E-d[0])}for(R=1;R<O;R+=1){d[R]=d[R-1]+d[R];if(j.useNormalizeCoverage){S+=(T-d[R])}else{S+=(E-d[R])}}return{aft:S,aftIntervals:d,normTotalCoveragePercentage:T}}function c(){var d=h.slice(0);d.sort(function(O,w){return w.duration-O.duration});return d}function u(d){var S={},P=0,Q=0,O=YAFT.getPageLoadTime(),w=0,R=0;S.count=d.length;for(P=0;P<S.count;P+=1){if(d[P].start<=O){w+=1}if(d[P].duration<=0){Q+=1;if(d[P].start<=O){R+=1}}}S.cached=Q;S.nonCached=S.count-Q;S.onloadCount=w;S.onloadCached=R;S.onloadNonCached=w-R;return S}function J(aa,Y){var S={},U={},d=YAFT.getPageLoadTime(),P=YAFT.getDomContentLoaded(),ab=YAFT.getDomElementsCount(),w=YAFT.getTTFB(),Z=YAFT.getDomInteractive(),W={},X={},V={},O=[],R=[],Q;L=YAFT.getStartRenderTime();h=t();if(!(h&&h.length&&h.length>0)){Y(null,"No timings available");return}if(j.plugins){for(Q=0;Q<j.plugins.length;Q+=1){if(window["yaft_"+j.plugins[Q].name]){if(j.plugins[Q].isPre){O.push(j.plugins[Q]);YAFT.logToConsole("YAFT plugin "+j.plugins[Q].name+" will be executed before the callback")}else{R.push(j.plugins[Q]);YAFT.logToConsole("YAFT plugin "+j.plugins[Q].name+" will be executed after the callback")}}else{YAFT.logToConsole("YAFT plugin "+j.plugins[Q].name+" not found")}}}if(!B){B=l()}x(j.modules,j.modulesExclude);F(r);W=YAFT.getFinalModulesReport();E=q(W);U=I(W);H=U.normTotalCoveragePercentage;p=c();V=u(p);C=f(U.aftIntervals);if(j.generateHAR){X=y(h)}S={aft:U.aft,pageLoadTime:d,startRender:L,domInteractive:Z,domContentLoaded:P,ttfb:w,event:aa,modulesReport:W,totalCoveragePercentage:E,normTotalCoveragePercentage:H,domElementsCount:ab,resources:h,har:X,costlyResources:p,httpRequests:V,visuallyComplete:C};for(Q=0;Q<O.length;Q+=1){try{window["yaft_"+O[Q].name].execute(O[Q].config,S)}catch(T){YAFT.logToConsole("YAFT plugin "+O[Q].name+" failed to execute");YAFT.logToConsole(T)}}if(Y){YAFT.logToConsole(S);YAFT.logToConsole(U.aftIntervals);Y(S)}for(Q=0;Q<R.length;Q+=1){try{window["yaft_"+R[Q].name].execute(R[Q].config,S)}catch(T){YAFT.logToConsole("YAFT plugin "+R[Q].name+" failed to execute");YAFT.logToConsole(T)}}if(s===true&&j.canShowVisualReport&&A.YAFT_REPORT&&A.YAFT_REPORT.drawReport){A.YAFT_REPORT.drawReport(S,U.aftIntervals)}}function g(w,d){if(o||!G){return}o=true;if(!M){d(null,"Nav or resource timing or both are not available");return false}if(j.maxWaitTime&&j.maxWaitTime>0){setTimeout(function(){J(w,d)},j.maxWaitTime)}else{J(w,d)}}A.YAFT={triggerPerf:g,triggerCustomTiming:function(O,Q,d){if(!M){return false}var w,P;if(YAFT.isInitialized()){if(!B){B=l()}if(this.getConfig().useCustomSelector){w=K.querySelectorAll(O)}else{w=K.querySelectorAll('div[id^="'+O+'"], section[id^="'+O+'"], ul[id^="'+O+'"]')}if(w&&w.length>0){P=w[0];r[P.id]=P;z(P,{modStart:Q,modEnd:d})}}},getFinalModulesReport:function(){return D},reset:function(){G=true;o=false;r=[]},perfExists:function(){return M},isInitialized:function(){return G},getConfig:function(){return j},getPerformance:function(){return A.performance||A.webkitPerformance||A.msPerformance||A.mozPerformance||A.Performance},getRequestAnimationFrame:function(){return A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.msRequestAnimationFrame||function(d){return A.setTimeout(d,1000/60)}},init:function(w,O){var d;this.reset();a=this.getPerformance();if(a&&a.timing&&(a.getEntriesByType!==undefined||a.webkitGetEntriesByType!==undefined)){e=a.timing.navigationStart;a.now=a.now||a.webkitNow||a.msNow||a.mozNow||function(){return new Date().getTime()-e};M=true}else{O(null,"Nav or resource timing or both are not available");return false}if(this.getQueryStrings().showaft){s=true}for(d in w){if(j.hasOwnProperty(d)&&w.hasOwnProperty(d)){if(j[d]!=="undefined"){j[d]=w[d]}}}if(a.timing.loadEventStart>a.timing.navigationStart){YAFT.triggerPerf("deferred",O)}else{if(A.addEventListener){A.addEventListener("load",function(){YAFT.triggerPerf("load",O)},false);A.addEventListener("unload",function(){YAFT.triggerPerf("unload",O)},false)}else{if(A.attachEvent){A.attachEvent("onload",function(){YAFT.triggerPerf("load",O)});A.attachEvent("onunload",function(){YAFT.triggerPerf("unload",O)})}}}},getDomElementsCount:function(){return K.getElementsByTagName("*").length},getTTFB:function(){return M?a.timing.responseStart-e:0},getPageLoadTime:function(){return M?a.timing.loadEventStart-e:0},getDomContentLoaded:function(){return M?a.timing.domContentLoadedEventStart-e:0},getStartRenderTime:function(){var P,O,w,d;if(!M){return 0}P=this.getDomContentLoaded();if("msFirstPaint" in A.performance.timing){O=A.performance.timing.msFirstPaint-e}else{if("chrome" in A&&"loadTimes" in A.chrome&&A.chrome.loadTimes){w=A.chrome.loadTimes();if("firstPaintTime" in w&&w.firstPaintTime>0){d=w.startLoadTime;if("requestTime" in w){d=w.requestTime}if(w.firstPaintTime>=d){O=(w.firstPaintTime-d)*1000}}}}if(O===undefined||O<0||(O>120000&&O>P)){return P}return O},getDomInteractive:function(){return M?a.timing.domInteractive-e:0},getNow:function(){return M?a.now():0},getQueryStrings:function(){var w={},Q="",P=A.location.search.slice(1).split("&"),O=0,d=P.length||0;for(O=0;O<d;O+=1){Q=P[O].split("=");w[Q[0]]=Q[1]||""}return w},getViewport:function(){return B},logToConsole:function(d){if(M&&s&&console&&console.log){console.log(d)}}}})(window,document);
/* yaft2-aftnoad.js e5cc02b */ (function(a){function c(g){var d,f=0,e=0;for(d in g){if(g.hasOwnProperty(d)){f=g[d].coveragePercentage;if(g[d].inViewPort&&Math.round(f)>0){e+=f}}}return e}function b(r,f){var n=0,m=Math.floor(f.visuallyComplete/100),j=new Array(m),g,o=0,k=f.modulesReport,p={},e=r.adModules,l=e.length,h,d=0,q;for(q in k){if(k.hasOwnProperty(q)){h=false;for(g=0;g<l;g+=1){if(q.search(e[g])!==-1){h=true;break}}if(!h){p[q]=k[q]}}}d=c(p);for(g=0;g<m;g+=1){j[g]=0}g=0;for(q in p){if(p.hasOwnProperty(q)&&p[q].inViewPort&&Math.round(p[q].coveragePercentage)>0){if(r.useNormalizeCoverage){p[q].normCoveragePercentage=(p[q].coveragePercentage/d)*100;o+=p[q].normCoveragePercentage}if(p[q].loadTime>0){g=Math.round(p[q].loadTime/100);j[g]+=r.useNormalizeCoverage?p[q].normCoveragePercentage:p[q].coveragePercentage}}}if(r.useNormalizeCoverage){n+=(o-j[0])}else{n+=(d-j[0])}for(g=1;g<m;g+=1){j[g]=j[g-1]+j[g];if(r.useNormalizeCoverage){n+=(o-j[g])}else{n+=(d-j[g])}}f.aftNoAd=n;YAFT.logToConsole("----NOADAFT----");YAFT.logToConsole(p);if(a.YAFT_REPORT&&a.YAFT_REPORT.addExtra){a.YAFT_REPORT.addExtra({name:"aftNoAd",title:"AFTNOAD",value:n,isNumeric:true,needsRounding:true})}return f}a.yaft_aftnoad={execute:b}}(window));