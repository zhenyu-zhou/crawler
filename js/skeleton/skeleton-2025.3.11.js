




var __IntegralASDiagnosticCall = (function() {
	try {
		var alreadySent = {};
		return function(code, err, config) {
			try {
				if (!__IASScope.isDomless) {
					try {
						__IASScope.postMessage(
							{
								code,
								name: 'jsdiag',
								origin: 'ias',
							},
							'*'
						);
					} catch (_) {}
				}

				var gen = function(code, err, config) {
					var url = '//diag.adsafeprotected.com/js?';
					try {
						var errMsg = err && err.message ? encodeURIComponent(err.message.replace(/ /g, '-')).substring(0, 200) : '';
						url += 'code:fwjs-diag-' + code;
						url += '&err:' + errMsg;
						url += '&codeanderr:' + code + '_' + errMsg;
						if (config) {
							
							url += '&version:' + config.version || '';
							url += '&server:' + config.mn || '';
							url += '&region:' + config.region || '';
							url += '&mode:' + config.mode || '';
							url += '&forceAppend:' + config.forceAppend || '';
							url += '&asid:' + config.asid || '';
							url += '&anId:' + config.anId || '';
							url += '&advEntityId:' + config.advEntityId || '';
							url += '&pubEntityId:' + config.pubEntityId || '';
							url += '&mobOrTab:' + config.mobOrTab || '';
							url += '&app:' + config.app || '';
							url += '&mobAppWebview:' + config.mobAppWebview || '';
						}
						url += '&domless:' + __IASScope.isDomless;
					} catch (e) {
						url += '&diagx:' + (e && e.message ? e.message.toString().replace(/ /g, '-') : '');
					}
					return url;
				};

				var send = function(url) {
					if (__IASScope.isDomless && __IASOmidVerificationClient && __IASOmidVerificationClient.sendUrl) {
						__IASOmidVerificationClient.sendUrl(url);
					} else {
						var img = new Image();
						img.src = url;
					}
				};
				if (!alreadySent[code] && Math.random() < 0.01) {
					alreadySent[code] = true;
					send(gen(code, err, config));
				}
			} catch (e) {}
		};
	} catch (e) {
		return function() {};
	}
})();





try {

	var __IntegralASConfig = {
		jsDoSplit: false,
		debug: "false",
		jsDiag: 'true',
		version: '19.8.577',
		exchList: {'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr','n37':'tjnyyrg','p39':'j55p.arg','p40':'c0l.pa','p41':'vcvalbh.pbz','p42':'c0lwferaqre'},
		sp_cdnDomain: 'cdn.adsafeprotected.com',
		sp_cdnScripts: {xsca: "static.adsafeprotected.com/xsca.17.4.85.js", sca: "static.adsafeprotected.com/sca.17.6.4.js", main: "static.adsafeprotected.com/main.19.8.577.js"},
		protocol: 'https',
		jsref: "",
		asid: "19afda75-fe92-11ef-911f-3acde551b559",
		allowViewability: "true",
		jsFeatures: "viewabilityready,rattie,exch,usedtdomain,resolution,usetpl,idMap,offscreen,everySecond:1,slid,fm2:1,largeAd,chromeNativeIO,ios,ancestor,avmm,avgrn,swapids,pIntervals:10,usesca,bustediframe,impFailSafe,yieldmo,sfdetect,pmdetect,novidnodeerr:5,viewabilityOptimization,usehaps,customMetric,sizmek,celtra,groupmCM,avidPropertiesInImpression,abcAudit,mrcAudit:1,bbs,bas,spg,exitOASRSEarly:1,encodeInvalidUrlChars,recoverOmidLostTime,forceKeepGoogleAdNode",
		minimizeCalls: "false",
		adWidth: "-1",
		adHeight: "-1",
		forceAppend: "null",
		forceNoIframe: false,
		sp_imp_maxLength: 10000,
		sp_imp_jsInfo_minLength: 200,
		_onInViewMRC15: __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onInViewMRC: __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onMeasurable: __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onAPIResult: __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewFull: __IntegralASConfig && __IntegralASConfig.onInViewFull,
		_onSuspicious: __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC5: __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		reqquery: "",
		mode: "rjss",
		requrl: "",
		dtBaseURL: "https:\/\/dt.adsafeprotected.com\/dt?advEntityId=33642",
		adsafeSrc: "https:\/\/pixel.adsafeprotected.com\/rfw\/st\/33642\/3584127\/skeleton.js",
		tpiLookupURL: "",
		getTpl: "false",
		use100v: true,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl: "https:\/\/pixel.adsafeprotected.com\/rjss\/st\/33642\/3584127\/skeleton.js",
		accountForSadImps: '',
		fwMonitoring: '',
		mn: "jsserver-primary-8686c4d68f-42zhn",
		mobOrTab: false,
		app: true,
		mobAppWebview: false,
		mobFwUrl: "https:\/\/mobile.adsafeprotected.com\/internal\/monitoring\/app\/initial\/33642\/3584127\/",
		anId: '',
		advEntityId: '33642',
		pubEntityId: '3584127',
		videoId: '',
		rts: {},
		customViewability: [],
		serverSideAppDetection: [],
		groupm_native_publisher: false,
		integration: null,
		staticServer: '\/\/static.adsafeprotected.com\/',
		passback: '',
		iasProxyPartnerDomain: '',
		region: 'or'
	};

try {


	

	__IASScope = typeof window !== "undefined" ? window : this;
	
	__IntegralASConfig.isResolved = !!__IntegralASConfig.jsFeatures;
	__IntegralASConfig.staticMode = !__IntegralASConfig.isResolved;
	__IntegralASConfig.birthdate = new Date().getTime();
	__IntegralASConfig.perfBirth = (typeof __IASScope.performance !== "undefined" && typeof __IASScope.performance.now === 'function') ? __IASScope.performance.now() : null;




;(function(omidGlobal, factory, exports) {
  // CommonJS support
  if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
    factory(omidGlobal, exports);

  // If neither AMD nor CommonJS are used, export to a versioned name in the
  // global context.
  } else {
    var exports = {};
    var versions = ['1.5.3-iab4563'];
    var additionalVersionString = '';
    if (!!additionalVersionString) {
       versions.push(additionalVersionString);
    }

    factory(omidGlobal, exports);

    function deepFreeze(object) {
      for (var key in object) {
        if (object.hasOwnProperty(key)) {
          object[key] = deepFreeze(object[key]);
        }
      }
      return Object.freeze(object);
    }

    // Inject and freeze the exported components of omid.
    for (var key in exports) {
      if (exports.hasOwnProperty(key)) {
        if (Object.getOwnPropertyDescriptor(omidGlobal, key) == null) {
          // Define the top level property in the global scope
          Object.defineProperty(omidGlobal, key, {
//			value: {},       Removed trailing comma for build
            value: {}
          });
        }
        versions.forEach(function(version) {
          if (Object.getOwnPropertyDescriptor(omidGlobal[key], version) == null) {
            var frozenObject = deepFreeze(exports[key]);
            // Define the object exports keyed-off versions
            Object.defineProperty(omidGlobal[key], version, {
              get: function () {
                return frozenObject;
              },
//            enumerable: true,       Removed trailing comma for build
              enumerable: true
            });
          }
        });
      }
    }
  }
}(typeof global === 'undefined' ? this : global, function(omidGlobal, omidExports) {
  var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.createTemplateTagFirstArg = function(a) {
  return a.raw = a;
};
$jscomp.createTemplateTagFirstArgWithRaw = function(a, b) {
  a.raw = b;
  return a;
};
$jscomp.arrayIteratorImpl = function(a) {
  var b = 0;
  return function() {
    return b < a.length ? {done:!1, value:a[b++],} : {done:!0};
  };
};
$jscomp.arrayIterator = function(a) {
  return {next:$jscomp.arrayIteratorImpl(a)};
};
$jscomp.makeIterator = function(a) {
  var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
  if (b) {
    return b.call(a);
  }
  if ("number" == typeof a.length) {
    return $jscomp.arrayIterator(a);
  }
  throw Error(String(a) + " is not an iterable or ArrayLike");
};
$jscomp.arrayFromIterator = function(a) {
  for (var b, c = []; !(b = a.next()).done;) {
    c.push(b.value);
  }
  return c;
};
$jscomp.arrayFromIterable = function(a) {
  return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.SIMPLE_FROUND_POLYFILL = !1;
$jscomp.ISOLATE_POLYFILLS = !1;
$jscomp.FORCE_POLYFILL_PROMISE = !1;
$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;
$jscomp.objectCreate = $jscomp.ASSUME_ES5 || "function" == typeof Object.create ? Object.create : function(a) {
  var b = function() {
  };
  b.prototype = a;
  return new b();
};
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
  if (a == Array.prototype || a == Object.prototype) {
    return a;
  }
  a[b] = c.value;
  return a;
};
$jscomp.getGlobal = function(a) {
  a = ["object" == typeof globalThis && globalThis, a, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global,];
  for (var b = 0; b < a.length; ++b) {
    var c = a[b];
    if (c && c.Math == Math) {
      return c;
    }
  }
  throw Error("Cannot find global object");
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE = "function" === typeof Symbol && "symbol" === typeof Symbol("x");
$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills = {};
$jscomp.propertyToPolyfillSymbol = {};
$jscomp.POLYFILL_PREFIX = "$jscp$";
var $jscomp$lookupPolyfilledValue = function(a, b, c) {
  if (!c || null != a) {
    c = $jscomp.propertyToPolyfillSymbol[b];
    if (null == c) {
      return a[b];
    }
    c = a[c];
    return void 0 !== c ? c : a[b];
  }
};
$jscomp.polyfill = function(a, b, c, d) {
  b && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(a, b, c, d) : $jscomp.polyfillUnisolated(a, b, c, d));
};
$jscomp.polyfillUnisolated = function(a, b, c, d) {
  c = $jscomp.global;
  a = a.split(".");
  for (d = 0; d < a.length - 1; d++) {
    var e = a[d];
    if (!(e in c)) {
      return;
    }
    c = c[e];
  }
  a = a[a.length - 1];
  d = c[a];
  b = b(d);
  b != d && null != b && $jscomp.defineProperty(c, a, {configurable:!0, writable:!0, value:b});
};
$jscomp.polyfillIsolated = function(a, b, c, d) {
  var e = a.split(".");
  a = 1 === e.length;
  d = e[0];
  d = !a && d in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;
  for (var f = 0; f < e.length - 1; f++) {
    var g = e[f];
    if (!(g in d)) {
      return;
    }
    d = d[g];
  }
  e = e[e.length - 1];
  c = $jscomp.IS_SYMBOL_NATIVE && "es6" === c ? d[e] : null;
  b = b(c);
  null != b && (a ? $jscomp.defineProperty($jscomp.polyfills, e, {configurable:!0, writable:!0, value:b}) : b !== c && (void 0 === $jscomp.propertyToPolyfillSymbol[e] && (c = 1E9 * Math.random() >>> 0, $jscomp.propertyToPolyfillSymbol[e] = $jscomp.IS_SYMBOL_NATIVE ? $jscomp.global.Symbol(e) : $jscomp.POLYFILL_PREFIX + c + "$" + e), $jscomp.defineProperty(d, $jscomp.propertyToPolyfillSymbol[e], {configurable:!0, writable:!0, value:b})));
};
$jscomp.getConstructImplementation = function() {
  function a() {
    function c() {
    }
    new c();
    Reflect.construct(c, [], function() {
    });
    return new c() instanceof c;
  }
  if ($jscomp.TRUST_ES6_POLYFILLS && "undefined" != typeof Reflect && Reflect.construct) {
    if (a()) {
      return Reflect.construct;
    }
    var b = Reflect.construct;
    return function(c, d, e) {
      c = b(c, d);
      e && Reflect.setPrototypeOf(c, e.prototype);
      return c;
    };
  }
  return function(c, d, e) {
    void 0 === e && (e = c);
    e = $jscomp.objectCreate(e.prototype || Object.prototype);
    return Function.prototype.apply.call(c, e, d) || e;
  };
};
$jscomp.construct = {valueOf:$jscomp.getConstructImplementation}.valueOf();
$jscomp.underscoreProtoCanBeSet = function() {
  var a = {a:!0}, b = {};
  try {
    return b.__proto__ = a, b.a;
  } catch (c) {
  }
  return !1;
};
$jscomp.setPrototypeOf = $jscomp.TRUST_ES6_POLYFILLS && "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(a, b) {
  a.__proto__ = b;
  if (a.__proto__ !== b) {
    throw new TypeError(a + " is not extensible");
  }
  return a;
} : null;
$jscomp.inherits = function(a, b) {
  a.prototype = $jscomp.objectCreate(b.prototype);
  a.prototype.constructor = a;
  if ($jscomp.setPrototypeOf) {
    var c = $jscomp.setPrototypeOf;
    c(a, b);
  } else {
    for (c in b) {
      if ("prototype" != c) {
        if (Object.defineProperties) {
          var d = Object.getOwnPropertyDescriptor(b, c);
          d && Object.defineProperty(a, c, d);
        } else {
          a[c] = b[c];
        }
      }
    }
  }
  a.superClass_ = b.prototype;
};
$jscomp.getRestArguments = function() {
  for (var a = Number(this), b = [], c = a; c < arguments.length; c++) {
    b[c - a] = arguments[c];
  }
  return b;
};
$jscomp.polyfill("Reflect", function(a) {
  return a ? a : {};
}, "es6", "es3");
$jscomp.polyfill("Reflect.construct", function(a) {
  return $jscomp.construct;
}, "es6", "es3");
$jscomp.polyfill("Reflect.setPrototypeOf", function(a) {
  if (a) {
    return a;
  }
  if ($jscomp.setPrototypeOf) {
    var b = $jscomp.setPrototypeOf;
    return function(c, d) {
      try {
        return b(c, d), !0;
      } catch (e) {
        return !1;
      }
    };
  }
  return null;
}, "es6", "es5");
$jscomp.owns = function(a, b) {
  return Object.prototype.hasOwnProperty.call(a, b);
};
$jscomp.polyfill("Object.values", function(a) {
  return a ? a : function(b) {
    var c = [], d;
    for (d in b) {
      $jscomp.owns(b, d) && c.push(b[d]);
    }
    return c;
  };
}, "es8", "es3");
var module$exports$omid$common$constants = {AdEventType:{IMPRESSION:"impression", LOADED:"loaded", GEOMETRY_CHANGE:"geometryChange", SESSION_START:"sessionStart", SESSION_ERROR:"sessionError", SESSION_FINISH:"sessionFinish", MEDIA:"media", VIDEO:"video", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange", 
PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction", STATE_CHANGE:"stateChange",}, MediaEventType:{LOADED:"loaded", START:"start", FIRST_QUARTILE:"firstQuartile", MIDPOINT:"midpoint", THIRD_QUARTILE:"thirdQuartile", COMPLETE:"complete", PAUSE:"pause", RESUME:"resume", BUFFER_START:"bufferStart", BUFFER_FINISH:"bufferFinish", SKIPPED:"skipped", VOLUME_CHANGE:"volumeChange", PLAYER_STATE_CHANGE:"playerStateChange", AD_USER_INTERACTION:"adUserInteraction",}, ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript", 
UNSPECIFIED:"unspecified", LOADED:"loaded", BEGIN_TO_RENDER:"beginToRender", ONE_PIXEL:"onePixel", VIEWABLE:"viewable", AUDIBLE:"audible", OTHER:"other",}, ErrorType:{GENERIC:"generic", VIDEO:"video", MEDIA:"media",}, AdSessionType:{NATIVE:"native", HTML:"html", JAVASCRIPT:"javascript",}, EventOwner:{NATIVE:"native", JAVASCRIPT:"javascript", NONE:"none",}, SessionOwner:{JAVASCRIPT:"javascript", NATIVE:"native",}, AccessMode:{FULL:"full", DOMAIN:"domain", LIMITED:"limited",}, AppState:{BACKGROUNDED:"backgrounded", 
FOREGROUNDED:"foregrounded",}, DeviceLockState:{LOCKED:"locked", UNLOCKED:"unlocked",}, Environment:{APP:"app", WEB:"web",}, DeviceCategory:{CTV:"ctv", DESKTOP:"desktop", MOBILE:"mobile", OTHER:"other",}, InteractionType:{CLICK:"click", INVITATION_ACCEPT:"invitationAccept",}, CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript", HTML_DISPLAY:"htmlDisplay", NATIVE_DISPLAY:"nativeDisplay", VIDEO:"video", AUDIO:"audio",}, MediaType:{DISPLAY:"display", VIDEO:"video",}, Reason:{NOT_FOUND:"notFound", 
HIDDEN:"hidden", BACKGROUNDED:"backgrounded", PICTURE_IN_PICTURE:"pictureInPicture", DEVICE_LOCKED:"deviceLocked", VIEWPORT:"viewport", OBSTRUCTED:"obstructed", CLIPPED:"clipped", UNMEASURABLE:"unmeasurable", NO_WINDOW_FOCUS:"noWindowFocus", NO_OUTPUT_DEVICE:"noOutputDevice",}, SupportedFeatures:{CONTAINER:"clid", VIDEO:"vlid",}, VideoPosition:{PREROLL:"preroll", MIDROLL:"midroll", POSTROLL:"postroll", STANDALONE:"standalone",}, VideoPlayerState:{MINIMIZED:"minimized", COLLAPSED:"collapsed", NORMAL:"normal", 
EXPANDED:"expanded", FULLSCREEN:"fullscreen",}, NativeViewKeys:{X:"x", LEFT:"left", Y:"y", TOP:"top", WIDTH:"width", HEIGHT:"height", AD_SESSION_ID:"adSessionId", IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor", CLIPS_TO_BOUNDS:"clipsToBounds", CHILD_VIEWS:"childViews", END_X:"endX", END_Y:"endY", OBSTRUCTIONS:"obstructions", OBSTRUCTION_CLASS:"obstructionClass", OBSTRUCTION_PURPOSE:"obstructionPurpose", OBSTRUCTION_REASON:"obstructionReason", PIXELS:"pixels", HAS_WINDOW_FOCUS:"hasWindowFocus",
}, MeasurementStateChangeSource:{CONTAINER:"container", CREATIVE:"creative",}, ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element",}, CommunicationType:{NONE:"NONE", DIRECT:"DIRECT", POST_MESSAGE:"POST_MESSAGE",}, OmidImplementer:{OMSDK:"omsdk",}, MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow",}};
var module$contents$omid$common$InternalMessage_GUID_KEY = "omid_message_guid", module$contents$omid$common$InternalMessage_METHOD_KEY = "omid_message_method", module$contents$omid$common$InternalMessage_VERSION_KEY = "omid_message_version", module$contents$omid$common$InternalMessage_ARGS_KEY = "omid_message_args", module$exports$omid$common$InternalMessage = function(a, b, c, d) {
  this.guid = a;
  this.method = b;
  this.version = c;
  this.args = d;
};
module$exports$omid$common$InternalMessage.isValidSerializedMessage = function(a) {
  return !!a && void 0 !== a[module$contents$omid$common$InternalMessage_GUID_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_METHOD_KEY] && void 0 !== a[module$contents$omid$common$InternalMessage_VERSION_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_GUID_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY] && "string" === typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY] && (void 0 === a[module$contents$omid$common$InternalMessage_ARGS_KEY] || 
  void 0 !== a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
};
module$exports$omid$common$InternalMessage.deserialize = function(a) {
  return new module$exports$omid$common$InternalMessage(a[module$contents$omid$common$InternalMessage_GUID_KEY], a[module$contents$omid$common$InternalMessage_METHOD_KEY], a[module$contents$omid$common$InternalMessage_VERSION_KEY], a[module$contents$omid$common$InternalMessage_ARGS_KEY]);
};
module$exports$omid$common$InternalMessage.prototype.serialize = function() {
  var a = {};
  a = (a[module$contents$omid$common$InternalMessage_GUID_KEY] = this.guid, a[module$contents$omid$common$InternalMessage_METHOD_KEY] = this.method, a[module$contents$omid$common$InternalMessage_VERSION_KEY] = this.version, a);
  void 0 !== this.args && (a[module$contents$omid$common$InternalMessage_ARGS_KEY] = this.args);
  return a;
};
var module$exports$omid$common$Communication = function(a) {
  this.to = a;
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.NONE;
};
module$exports$omid$common$Communication.prototype.sendMessage = function(a, b) {
};
module$exports$omid$common$Communication.prototype.handleMessage = function(a, b) {
  if (this.onMessage) {
    this.onMessage(a, b);
  }
};
module$exports$omid$common$Communication.prototype.serialize = function(a) {
  return JSON.stringify(a);
};
module$exports$omid$common$Communication.prototype.deserialize = function(a) {
  return JSON.parse(a);
};
module$exports$omid$common$Communication.prototype.isDirectCommunication = function() {
  return this.communicationType_ === module$exports$omid$common$constants.CommunicationType.DIRECT;
};
module$exports$omid$common$Communication.prototype.isCrossOrigin = function() {
};
var module$exports$omid$common$logger = {};
function module$contents$omid$common$logger_error() {
  var a = $jscomp.getRestArguments.apply(0, arguments);
  module$contents$omid$common$logger_executeLog(function() {
    throw new (Function.prototype.bind.apply(Error, [null, "Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(a))))();
  }, function() {
    return console.error.apply(console, $jscomp.arrayFromIterable(a));
  });
}
function module$contents$omid$common$logger_debug() {
  var a = $jscomp.getRestArguments.apply(0, arguments);
  module$contents$omid$common$logger_executeLog(function() {
  }, function() {
    return console.error.apply(console, $jscomp.arrayFromIterable(a));
  });
}
function module$contents$omid$common$logger_executeLog(a, b) {
  "undefined" !== typeof jasmine && jasmine ? a() : "undefined" !== typeof console && console && console.error && b();
}
module$exports$omid$common$logger.error = module$contents$omid$common$logger_error;
module$exports$omid$common$logger.debug = module$contents$omid$common$logger_debug;
var module$exports$omid$common$eventTypedefs = {};
var module$exports$omid$common$version = {ApiVersion:"1.0", Version:"1.5.3-iab4563"};
var module$exports$omid$common$argsChecker = {};
function module$contents$omid$common$argsChecker_assertTruthyString(a, b) {
  if (!b) {
    throw Error("Value for " + a + " is undefined, null or blank.");
  }
  if ("string" !== typeof b && !(b instanceof String)) {
    throw Error("Value for " + a + " is not a string.");
  }
  if ("" === b.trim()) {
    throw Error("Value for " + a + " is empty string.");
  }
}
function module$contents$omid$common$argsChecker_assertNotNullObject(a, b) {
  if (null == b) {
    throw Error("Value for " + a + " is undefined or null");
  }
}
function module$contents$omid$common$argsChecker_assertNumber(a, b) {
  if (null == b) {
    throw Error(a + " must not be null or undefined.");
  }
  if ("number" !== typeof b || isNaN(b)) {
    throw Error("Value for " + a + " is not a number");
  }
}
function module$contents$omid$common$argsChecker_assertNumberBetween(a, b, c, d) {
  module$contents$omid$common$argsChecker_assertNumber(a, b);
  if (b < c || b > d) {
    throw Error("Value for " + a + " is outside the range [" + c + "," + d + "]");
  }
}
function module$contents$omid$common$argsChecker_assertFunction(a, b) {
  if (!b) {
    throw Error(a + " must not be truthy.");
  }
}
function module$contents$omid$common$argsChecker_assertPositiveNumber(a, b) {
  module$contents$omid$common$argsChecker_assertNumber(a, b);
  if (0 > b) {
    throw Error(a + " must be a positive number.");
  }
}
module$exports$omid$common$argsChecker.assertTruthyString = module$contents$omid$common$argsChecker_assertTruthyString;
module$exports$omid$common$argsChecker.assertNotNullObject = module$contents$omid$common$argsChecker_assertNotNullObject;
module$exports$omid$common$argsChecker.assertNumber = module$contents$omid$common$argsChecker_assertNumber;
module$exports$omid$common$argsChecker.assertNumberBetween = module$contents$omid$common$argsChecker_assertNumberBetween;
module$exports$omid$common$argsChecker.assertFunction = module$contents$omid$common$argsChecker_assertFunction;
module$exports$omid$common$argsChecker.assertPositiveNumber = module$contents$omid$common$argsChecker_assertPositiveNumber;
var module$exports$omid$common$VersionUtils = {}, module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER = 3;
function module$contents$omid$common$VersionUtils_isValidVersion(a) {
  return /\d+\.\d+\.\d+(-.*)?/.test(a);
}
function module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, b) {
  a = a.split("-")[0].split(".");
  b = b.split("-")[0].split(".");
  for (var c = 0; c < module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER; c++) {
    var d = parseInt(a[c], 10), e = parseInt(b[c], 10);
    if (d > e) {
      break;
    } else if (d < e) {
      return !1;
    }
  }
  return !0;
}
module$exports$omid$common$VersionUtils.isValidVersion = module$contents$omid$common$VersionUtils_isValidVersion;
module$exports$omid$common$VersionUtils.versionGreaterOrEqual = module$contents$omid$common$VersionUtils_versionGreaterOrEqual;
var module$exports$omid$common$ArgsSerDe = {}, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION = "1.0.3";
function module$contents$omid$common$ArgsSerDe_serializeMessageArgs(a, b) {
  return module$contents$omid$common$VersionUtils_isValidVersion(a) && module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b : JSON.stringify(b);
}
function module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(a, b) {
  return module$contents$omid$common$VersionUtils_isValidVersion(a) && module$contents$omid$common$VersionUtils_versionGreaterOrEqual(a, module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION) ? b ? b : [] : b && "string" === typeof b ? JSON.parse(b) : [];
}
module$exports$omid$common$ArgsSerDe.serializeMessageArgs = module$contents$omid$common$ArgsSerDe_serializeMessageArgs;
module$exports$omid$common$ArgsSerDe.deserializeMessageArgs = module$contents$omid$common$ArgsSerDe_deserializeMessageArgs;
var module$exports$omid$common$guid = {};
function module$contents$omid$common$guid_generateGuid() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
    var b = 16 * Math.random() | 0;
    a = "y" === a ? (b & 3 | 8).toString(16) : b.toString(16);
    return a;
  });
}
module$exports$omid$common$guid.generateGuid = module$contents$omid$common$guid_generateGuid;
var module$exports$omid$common$DetectOmid = {OMID_PRESENT_FRAME_NAME:"omid_v1_present", OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web", OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app", getEnvironmentIframeName:function(a) {
  var b = {};
  return (b[module$exports$omid$common$constants.Environment.APP] = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP, b[module$exports$omid$common$constants.Environment.WEB] = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB, b)[a];
}};
function module$contents$omid$common$DetectOmid_isIframePresent(a, b) {
  try {
    return a.frames && !!a.frames[b];
  } catch (c) {
    return !1;
  }
}
module$exports$omid$common$DetectOmid.isOmidPresent = function(a) {
  return [module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,].some(function(b) {
    return module$contents$omid$common$DetectOmid_isIframePresent(a, b);
  });
};
module$exports$omid$common$DetectOmid.getOmidEnvironment = function(a) {
  for (var b = $jscomp.makeIterator(Object.values(module$exports$omid$common$constants.Environment)), c = b.next(); !c.done; c = b.next()) {
    c = c.value;
    var d = module$exports$omid$common$DetectOmid.getEnvironmentIframeName(c);
    if (module$contents$omid$common$DetectOmid_isIframePresent(a, d)) {
      return c;
    }
  }
  return null;
};
function module$contents$omid$common$DetectOmid_writePresenceIframe_(a, b) {
  a.document.write('<iframe style="display:none" id="' + (b + '" name="' + b + '" sandbox></iframe>'));
}
module$exports$omid$common$DetectOmid.declareOmidPresence = function(a, b) {
  a.frames && a.document && ![module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,].some(function(c) {
    return !!a.frames[c];
  }) && (null == a.document.body && module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a) ? module$exports$omid$common$DetectOmid.registerMutationObserver_(a, b) : (b = module$exports$omid$common$DetectOmid.getEnvironmentIframeName(b), a.document.body ? (module$exports$omid$common$DetectOmid.appendPresenceIframe_(a, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME), module$exports$omid$common$DetectOmid.appendPresenceIframe_(a, b)) : (module$contents$omid$common$DetectOmid_writePresenceIframe_(a, 
  module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME), module$contents$omid$common$DetectOmid_writePresenceIframe_(a, b))));
};
module$exports$omid$common$DetectOmid.appendPresenceIframe_ = function(a, b) {
  var c = a.document.createElement("iframe");
  c.id = b;
  c.name = b;
  c.style.display = "none";
  c.sandbox = "";
  a.document.body.appendChild(c);
};
module$exports$omid$common$DetectOmid.isMutationObserverAvailable_ = function(a) {
  return "MutationObserver" in a;
};
module$exports$omid$common$DetectOmid.registerMutationObserver_ = function(a, b) {
  var c = new MutationObserver(function(d) {
    d.forEach(function(e) {
      "BODY" === e.addedNodes[0].nodeName && (e = module$exports$omid$common$DetectOmid.getEnvironmentIframeName(b), module$exports$omid$common$DetectOmid.appendPresenceIframe_(a, module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME), module$exports$omid$common$DetectOmid.appendPresenceIframe_(a, e), c.disconnect());
    });
  });
  c.observe(a.document.documentElement, {childList:!0});
};
var module$exports$omid$common$serviceMethodUtils = {}, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix = {SESSION_SERVICE:"SessionService.", VERIFICATION_SERVICE:"VerificationService.",};
function module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod(a) {
  return null != module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(a);
}
function module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a) {
  return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE);
}
function module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod(a) {
  return null != module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(a);
}
function module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(a, b) {
  return b + a;
}
function module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(a, b) {
  return (a = a.match(new RegExp("^" + b + "(.*)"))) && a[1];
}
module$exports$omid$common$serviceMethodUtils.getPrefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.getPrefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod;
module$exports$omid$common$serviceMethodUtils.getUnprefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.getUnprefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod;
module$exports$omid$common$serviceMethodUtils.isPrefixedSessionServiceMethod = module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod;
module$exports$omid$common$serviceMethodUtils.isPrefixedVerificationServiceMethod = module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod;
var module$exports$omid$common$OmidGlobalProvider = {};
function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal() {
  if ("undefined" !== typeof omidGlobal && omidGlobal) {
    return omidGlobal;
  }
  if ("undefined" !== typeof global && global) {
    return global;
  }
  if ("undefined" !== typeof window && window) {
    return window;
  }
  if ("undefined" !== typeof globalThis && globalThis) {
    return globalThis;
  }
  var a = Function("return this")();
  if (a) {
    return a;
  }
  throw Error("Could not determine global object context.");
}
module$exports$omid$common$OmidGlobalProvider.omidGlobal = module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();
var module$exports$omid$common$exporter = {};
function module$contents$omid$common$exporter_getOmidExports() {
  return "undefined" === typeof omidExports ? null : omidExports;
}
function module$contents$omid$common$exporter_getOrCreateName(a, b) {
  return a && (a[b] || (a[b] = {}));
}
function module$contents$omid$common$exporter_packageExport(a, b, c) {
  if (c = void 0 === c ? module$contents$omid$common$exporter_getOmidExports() : c) {
    a = a.split("."), a.slice(0, a.length - 1).reduce(module$contents$omid$common$exporter_getOrCreateName, c)[a[a.length - 1]] = b;
  }
}
module$exports$omid$common$exporter.packageExport = module$contents$omid$common$exporter_packageExport;
var module$exports$omid$common$windowUtils = {};
function module$contents$omid$common$windowUtils_isValidWindow(a) {
  return null != a && "undefined" !== typeof a.top && null != a.top;
}
function module$contents$omid$common$windowUtils_isCrossOrigin(a) {
  if (a === module$exports$omid$common$OmidGlobalProvider.omidGlobal) {
    return !1;
  }
  try {
    if ("undefined" === typeof a.location.hostname) {
      return !0;
    }
    module$contents$omid$common$windowUtils_isSameOriginForIE(a);
  } catch (b) {
    return !0;
  }
  return !1;
}
function module$contents$omid$common$windowUtils_isSameOriginForIE(a) {
  return "" === a.x || "" !== a.x;
}
function module$contents$omid$common$windowUtils_resolveGlobalContext(a) {
  "undefined" === typeof a && "undefined" !== typeof window && window && (a = window);
  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
}
function module$contents$omid$common$windowUtils_resolveTopWindowContext(a) {
  return module$contents$omid$common$windowUtils_isValidWindow(a) ? a.top : module$exports$omid$common$OmidGlobalProvider.omidGlobal;
}
function module$contents$omid$common$windowUtils_isTopWindowAccessible(a) {
  try {
    return a.top.location.href ? !0 : !1;
  } catch (b) {
    return !1;
  }
}
function module$contents$omid$common$windowUtils_removeDomElements(a) {
  a.type === module$exports$omid$common$constants.AdEventType.SESSION_START && ("undefined" !== typeof a.data.context.videoElement && (a.data.context.videoElement = "Video Element (" + a.data.context.videoElement.id + ")"), "undefined" !== typeof a.data.context.slotElement && (a.data.context.slotElement = "Slot Element (" + a.data.context.slotElement.id + ")"));
  return a;
}
function module$contents$omid$common$windowUtils_evaluatePageUrl(a) {
  if (!module$contents$omid$common$windowUtils_isValidWindow(a)) {
    return null;
  }
  try {
    var b = a.top;
    return module$contents$omid$common$windowUtils_isCrossOrigin(b) ? null : b.location.href;
  } catch (c) {
    return null;
  }
}
module$exports$omid$common$windowUtils.evaluatePageUrl = module$contents$omid$common$windowUtils_evaluatePageUrl;
module$exports$omid$common$windowUtils.isCrossOrigin = module$contents$omid$common$windowUtils_isCrossOrigin;
module$exports$omid$common$windowUtils.removeDomElements = module$contents$omid$common$windowUtils_removeDomElements;
module$exports$omid$common$windowUtils.resolveGlobalContext = module$contents$omid$common$windowUtils_resolveGlobalContext;
module$exports$omid$common$windowUtils.resolveTopWindowContext = module$contents$omid$common$windowUtils_resolveTopWindowContext;
module$exports$omid$common$windowUtils.isTopWindowAccessible = module$contents$omid$common$windowUtils_isTopWindowAccessible;
var module$exports$omid$common$DirectCommunication = function(a) {
  module$exports$omid$common$Communication.call(this, a);
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.DIRECT;
  this.handleExportedMessage = module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this);
};
$jscomp.inherits(module$exports$omid$common$DirectCommunication, module$exports$omid$common$Communication);
module$exports$omid$common$DirectCommunication.prototype.sendMessage = function(a, b) {
  b = void 0 === b ? this.to : b;
  if (!b) {
    throw Error("Message destination must be defined at construction time or when sending the message.");
  }
  b.handleExportedMessage(a.serialize(), this);
};
module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage = function(a, b) {
  module$exports$omid$common$InternalMessage.isValidSerializedMessage(a) && this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a), b);
};
module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin = function() {
  return !1;
};
var module$exports$omid$common$PostMessageCommunication = function(a, b) {
  b = void 0 === b ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : b;
  module$exports$omid$common$Communication.call(this, b);
  var c = this;
  this.communicationType_ = module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;
  a.addEventListener("message", function(d) {
    if ("object" === typeof d.data) {
      var e = d.data;
      module$exports$omid$common$InternalMessage.isValidSerializedMessage(e) && (e = module$exports$omid$common$InternalMessage.deserialize(e), d.source && c.handleMessage(e, d.source));
    }
  });
};
$jscomp.inherits(module$exports$omid$common$PostMessageCommunication, module$exports$omid$common$Communication);
module$exports$omid$common$PostMessageCommunication.isCompatibleContext = function(a) {
  return !!(a && a.addEventListener && a.postMessage);
};
module$exports$omid$common$PostMessageCommunication.prototype.sendMessage = function(a, b) {
  b = void 0 === b ? this.to : b;
  if (!b) {
    throw Error("Message destination must be defined at construction time or when sending the message.");
  }
  b.postMessage(a.serialize(), "*");
};
module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin = function() {
  return this.to ? module$contents$omid$common$windowUtils_isCrossOrigin(this.to) : !0;
};
var module$exports$omid$common$serviceCommunication = {}, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME = ["omid", "v1_SessionServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME = ["omid", "v1_VerificationServiceCommunication"], module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME = ["omidVerificationProperties", "serviceWindow"];
function module$contents$omid$common$serviceCommunication_getValueForKeypath(a, b) {
  return b.reduce(function(c, d) {
    return c && c[d];
  }, a);
}
function module$contents$omid$common$serviceCommunication_startServiceCommunication(a, b, c, d) {
  if (!module$contents$omid$common$windowUtils_isCrossOrigin(b)) {
    try {
      var e = module$contents$omid$common$serviceCommunication_getValueForKeypath(b, c);
      if (e) {
        return new module$exports$omid$common$DirectCommunication(e);
      }
    } catch (f) {
    }
  }
  return d(b) ? new module$exports$omid$common$PostMessageCommunication(a, b) : null;
}
function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, b, c, d) {
  b = $jscomp.makeIterator(b);
  for (var e = b.next(); !e.done; e = b.next()) {
    if (e = module$contents$omid$common$serviceCommunication_startServiceCommunication(a, e.value, c, d)) {
      return e;
    }
  }
  return null;
}
function module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(a, b, c) {
  c = void 0 === c ? module$exports$omid$common$DetectOmid.isOmidPresent : c;
  var d = [a, module$contents$omid$common$windowUtils_resolveTopWindowContext(a)];
  b && d.unshift(b);
  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, d, module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME, c);
}
function module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(a, b) {
  b = void 0 === b ? module$exports$omid$common$DetectOmid.isOmidPresent : b;
  var c = [], d = module$contents$omid$common$serviceCommunication_getValueForKeypath(a, module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);
  d && c.push(d);
  c.push(module$contents$omid$common$windowUtils_resolveTopWindowContext(a));
  return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, c, module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME, b);
}
module$exports$omid$common$serviceCommunication.startSessionServiceCommunication = module$contents$omid$common$serviceCommunication_startSessionServiceCommunication;
module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication = module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication;
var module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION = module$exports$omid$common$version.Version, module$contents$omid$verificationClient$VerificationClient_EventCallback;
function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid() {
  var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;
  return a && "function" === typeof a.registerSessionObserver && "function" === typeof a.addEventListener ? a : null;
}
var module$exports$omid$verificationClient$VerificationClient = function(a) {
  if (this.communication = a || module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(module$contents$omid$common$windowUtils_resolveGlobalContext())) {
    this.communication.onMessage = this.handleMessage_.bind(this);
  } else {
    if (a = module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid()) {
      this.omid3p = a;
    }
  }
//----------this.remoteIntervals_ = this.remoteTimeouts_ = 0;
  this.callbackMap_ = {};
  this.imgCache_ = [];
  this.injectionId_ = (a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties) ? a.injectionId : void 0;
};
module$exports$omid$verificationClient$VerificationClient.prototype.isSupported = function() {
  return this.getEnvironment() !== module$exports$omid$common$constants.Environment.WEB || this.injectionId_ ? !(!this.communication && !this.omid3p) : !1;
};
module$exports$omid$verificationClient$VerificationClient.prototype.getEnvironment = function() {
  var a = module$contents$omid$common$windowUtils_resolveGlobalContext();
  return this.injectionSource() || (0,module$exports$omid$common$DetectOmid.getOmidEnvironment)(a) || (0,module$exports$omid$common$DetectOmid.getOmidEnvironment)(module$contents$omid$common$windowUtils_resolveTopWindowContext(a));
};
module$exports$omid$verificationClient$VerificationClient.prototype.injectionSource = function() {
  var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties;
  if (a && a.injectionSource) {
    return a.injectionSource;
  }
};
module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver = function(a, b) {
  module$contents$omid$common$argsChecker_assertFunction("functionToExecute", a);
  this.omid3p ? this.omid3p.registerSessionObserver(a, b, this.injectionId_) : this.sendMessage_("addSessionListener", a, b, this.injectionId_);
};
module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener = function(a, b) {
  module$contents$omid$common$argsChecker_assertTruthyString("eventType", a);
  module$contents$omid$common$argsChecker_assertFunction("functionToExecute", b);
  this.omid3p ? this.omid3p.addEventListener(a, b, this.injectionId_) : this.sendMessage_("addEventListener", b, a, this.injectionId_);
};
module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl = function(a, b, c) {
  module$contents$omid$common$argsChecker_assertTruthyString("url", a);
  module$exports$omid$common$OmidGlobalProvider.omidGlobal.document && module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement ? this.sendUrlWithImg_(a, b, c) : this.sendMessage_("sendUrl", function(d) {
    d && b ? b() : !d && c && c();
  }, a);
};
module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_ = function(a, b, c) {
  var d = this, e = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");
  this.imgCache_.push(e);
  var f = function(g) {
    var h = d.imgCache_.indexOf(e);
    0 <= h && d.imgCache_.splice(h, 1);
    g && g();
  };
  e.addEventListener("load", f.bind(this, b));
  e.addEventListener("error", f.bind(this, c));
  e.src = a;
};
module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource = function(a, b, c) {
  var d = this;
  module$contents$omid$common$argsChecker_assertTruthyString("url", a);
  module$exports$omid$common$OmidGlobalProvider.omidGlobal.document ? this.injectJavascriptResourceUrlInDom_(a, b, c) : this.sendMessage_("injectJavaScriptResource", function(e, f) {
    e ? (d.evaluateJavaScript_(f, a), b()) : (module$contents$omid$common$logger_error("Service failed to load JavaScript resource."), c());
  }, a);
};
module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_ = function(a, b, c) {
  var d = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document, e = d.body;
  d = d.createElement("script");
  d.onload = b;
  d.onerror = c;
  d.src = a;
  d.type = "application/javascript";
  e.appendChild(d);
};
module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_ = function(a, b) {
  try {
    eval(a);
  } catch (c) {
    module$contents$omid$common$logger_error('Error evaluating the JavaScript resource from "' + b + '".');
  }
};
module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout = function(a, b) {
  module$contents$omid$common$argsChecker_assertFunction("functionToExecute", a);
  module$contents$omid$common$argsChecker_assertPositiveNumber("timeInMillis", b);
  if (this.hasTimeoutMethods_()) {
    return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(a, b);
  }
//----------var c = this.remoteTimeouts_++;
  var c = ((new Date()).getTime() * 1000000) + (Math.floor(Math.random() * 1000000));
  this.sendMessage_("setTimeout", a, c, b);
  return c;
};
module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout = function(a) {
  module$contents$omid$common$argsChecker_assertPositiveNumber("timeoutId", a);
  this.hasTimeoutMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(a) : this.sendOneWayMessage_("clearTimeout", a);
};
module$exports$omid$verificationClient$VerificationClient.prototype.setInterval = function(a, b) {
  module$contents$omid$common$argsChecker_assertFunction("functionToExecute", a);
  module$contents$omid$common$argsChecker_assertPositiveNumber("timeInMillis", b);
  if (this.hasIntervalMethods_()) {
    return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(a, b);
  }
//----------var c = this.remoteIntervals_++;
  var c = ((new Date()).getTime() * 1000000) + (Math.floor(Math.random() * 1000000));
  this.sendMessage_("setInterval", a, c, b);
  return c;
};
module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval = function(a) {
  module$contents$omid$common$argsChecker_assertPositiveNumber("intervalId", a);
  this.hasIntervalMethods_() ? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(a) : this.sendOneWayMessage_("clearInterval", a);
};
module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_ = function() {
  return "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout && "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout;
};
module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_ = function() {
  return "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval && "function" === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval;
};
module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_ = function(a, b) {
  b = a.method;
  var c = a.guid;
  a = a.args;
  if ("response" === b && this.callbackMap_[c]) {
    var d = module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(module$exports$omid$common$version.Version, a);
    this.callbackMap_[c].apply(this, d);
  }
  "error" === b && window.console && module$contents$omid$common$logger_error(a);
};
module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_ = function(a) {
  var b = $jscomp.getRestArguments.apply(1, arguments);
  this.sendMessage_.apply(this, [a, null].concat($jscomp.arrayFromIterable(b)));
};
module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_ = function(a, b) {
  var c = $jscomp.getRestArguments.apply(2, arguments);
  if (this.communication) {
    var d = module$contents$omid$common$guid_generateGuid();
    b && (this.callbackMap_[d] = b);
    c = new module$exports$omid$common$InternalMessage(d, module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(a), module$exports$omid$common$version.Version, module$contents$omid$common$ArgsSerDe_serializeMessageArgs(module$exports$omid$common$version.Version, c));
    this.communication.sendMessage(c);
  }
};
module$contents$omid$common$exporter_packageExport("OmidVerificationClient", module$exports$omid$verificationClient$VerificationClient);

}, typeof exports === 'undefined' ? undefined : exports));



} catch(e) {
	__IntegralASDiagnosticCall('thirdparty', e);
}





	
	__IASScope.isDomless = typeof window === "undefined";
	__IASOmidVerificationClient = { isSupported: function () { return false; } };

	if (typeof __IASScope.OmidVerificationClient !== 'undefined') {
		try {
			__IASOmidVerificationClient = new __IASScope.OmidVerificationClient['1.5.3-iab4563'](); //try standard in-browser instantiation
		}
		catch(e) {
			try {
				__IASOmidVerificationClient = new __IASScope.OmidVerificationClient(); //try domless version which has no version
			}
			catch(e) {
			}
		}
	}

	var isRedirectedStaticCMTag = false;

	if (
		!__IASScope.isDomless &&
		document.currentScript &&
		document.currentScript.src &&
		document.currentScript.src.includes('/jload')
	) {
		isRedirectedStaticCMTag = true;
	}

	__IntegralASConfig.useFIF = __IASScope && !!__IASScope.__IntegralASUseFIF && (__IntegralASConfig.mode === "jload" || isRedirectedStaticCMTag);
	__IntegralASConfig.adRefreshThreshold = __IASScope && __IASScope.__IntegralASAdRefreshThreshold;




__IntegralASConfig.getContextNode = function (win, topWin) {
	'use strict';

	if (__IASScope.isDomless) {
		return;
	}
	
	if (win.location && win.location.href && (win.location.href.includes('fw.html') || win.location.href.includes('/rjsi/'))) {
		return { dataset: {}, parentNode: win.document.body, src: win.location.href };
	}

	if (__IntegralASConfig.useFIF) {
		return __IASScope.frameElement; // Early exit if using FIF
	}

	if (document.currentScript) {
		return document.currentScript;
	}

	var getScripts = function (shouldSearchShadowDom) {
		var scripts = [];

		if (!shouldSearchShadowDom) {
			scripts = [...document.getElementsByTagName('script')];
		} else {
			function traverse(node) {
				if (node.tagName === 'SCRIPT') {
					scripts.push(node);
				}
				
				if (node.shadowRoot) {
					traverse(node.shadowRoot);
				}
				
				var children = node.children;
				for (var i = 0; i < children.length; i++) {
					traverse(children[i]);
				}
			}

			traverse(document.body);
		}

		return scripts;
	}

	var tempScript;
	// TODO: I suspect this will become an issue for static FWJS within a shadow root,
	// which will a) not have a bootstrapper at this point and b) not have a currentScript.
	var scriptUrl = __IntegralASConfig.scriptUrl;
	var shouldSearchShadowDom = scriptUrl && scriptUrl.includes('ias_searchshadowdom=true');
	var scripts = getScripts(shouldSearchShadowDom);
	var result = scripts[scripts.length - 1];
	var scriptIndex = scripts.length;

	try {
		// If you encounter strange behavior with this node traversal (FWJS not selecting the expected script tag),
		// check ContextNodeHelper.js where this code is duplicated and can silently overwrite the context node later.
		while (--scriptIndex >= 0) {
			tempScript = scripts[scriptIndex];
			if (
				tempScript.src &&
				tempScript.src.indexOf(scriptUrl) === 0 &&
				tempScript.getAttribute('data-ias-script-tag') === null
			) {
				result = tempScript;
				tempScript.setAttribute('data-ias-script-tag', 'found');
				break;
			}
		}
	} catch (e) {} // TODO: maybe a jsDiagnostic?

	return result;
};
__IntegralASConfig.getCurrentScript = function () {
	if (document.currentScript) {
		return document.currentScript;
	}
};

__IntegralASConfig.contextNode = __IASScope.isDomless ? undefined : __IntegralASConfig.getContextNode(window, top);
__IntegralASConfig.currentScript = __IASScope.isDomless ? undefined : __IntegralASConfig.getCurrentScript();





__IntegralASConfig.perfFactory = function() {
	'use strict';

	var _marks = {};
	var START_CODE = 'A';
	var END_CODE = 'Z';

	function _addMark(codeName, time) {
		
		_marks[codeName] = time;
	}

	function mark(codeName) {
		_addMark(codeName, Math.round(__IASScope.performance.now()));
	}

	function markStart(baseName) {
		mark(baseName + START_CODE);
	}

	function markEnd(baseName) {
		mark(baseName + END_CODE);
	}

	function markResource(baseName, url) {
		var entry, entries;
		entries = __IASScope.performance.getEntriesByName(url);
		if (entries && entries.length) {
			entry = entries[entries.length - 1];
			if (entry.startTime > 0 && entry.responseEnd > 0) {
				_addMark(baseName + START_CODE, Math.round(entry.startTime));
				
				_addMark(baseName + END_CODE, Math.round(entry.responseEnd));
			}
		}
	}

	function getData() {
		return _marks;
	}

	function getStart(baseName) {
		return _marks[baseName + START_CODE];
	}

	function getEnd(baseName) {
		return _marks[baseName + END_CODE];
	}

	function noop() {}

	function setNoops() {
		_addMark = noop;
		mark = noop;
		markStart = noop;
		markEnd = noop;
		markResource = noop;
	}

	function isFunc(obj) {
		return typeof obj === 'function';
	}

	function _init() {
		var canUsePerformanceAPIs = false;
		var PERF_MARK_BOOTSTRAPPER_EXECUTION = 'be';
		var PERF_MARK_BOOTSTRAPPER_SCRIPT_DOWNLOAD = 'bd';
		var PERF_MARK_MAIN_SCRIPT_DOWNLOAD = 'md'; // note: this code is intentionally the same as the one in globalConstants.js
		var downloadMark;

		try {
			canUsePerformanceAPIs =
				__IASScope.performance &&
				isFunc(__IASScope.performance.getEntriesByName) &&
				isFunc(__IASScope.performance.now) &&
				__IntegralASConfig.perfBirth !== null; // initialized to null or a time in jsAddOns1-birthdate.js

			if (canUsePerformanceAPIs) {
				downloadMark = __IntegralASConfig.jsDoSplit
					? PERF_MARK_BOOTSTRAPPER_SCRIPT_DOWNLOAD
					: PERF_MARK_MAIN_SCRIPT_DOWNLOAD;

				markResource(downloadMark, __IntegralASConfig.scriptUrl); // in split mode, this captures download time for the bootstrapper script, in bundled mode, the bundled/main script
				_addMark(PERF_MARK_BOOTSTRAPPER_EXECUTION + START_CODE, Math.round(__IntegralASConfig.perfBirth)); // put the birthdate that we already captured into our list of marks
				markEnd(PERF_MARK_BOOTSTRAPPER_EXECUTION); // roughly the end time of execution for the bootstrapper script in split mode, in bundled mode, end of the bootstrapper part of the script and start of the module definition part
			} else {
				setNoops();
			}
		} catch (err) {
			// TODO: remove if we never get here?
			setNoops();
			if (isFunc(__IASScope.__IntegralASDiagnosticCall)) {
				__IASScope.__IntegralASDiagnosticCall('perf', err, __IntegralASConfig);
			}
		}
	}

	_init();

	return {
		mark: mark,
		markStart: markStart,
		markEnd: markEnd,
		markResource: markResource,
		getData: getData,
		getStart: getStart,
		getEnd: getEnd
	};
};
__IntegralASConfig.perf = __IntegralASConfig.perfFactory();





} catch(err) {
	__IntegralASConfig = {};
	__IntegralASDiagnosticCall('bootstrapper', err);
}
__IntegralASConfig.initialize=function(e,t,n){var r={};if(Object.assign)e=Object.assign({},e);else{for(var i in e)r[i]=e[i];e=r}const o=({stringOrObject:e})=>{let t=null;if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}return t};class a{constructor(){this.logs=[]}add({storeModelName:e,key:t,value:n,timeStamp:r}){this.logs.push({storeModelName:e,key:t,value:n,timeStamp:r})}getHistory(){return this.logs}logHistory(){}}class s{constructor({storeModelName:e}){this.storeModelName=e,this.storeModelHistory=new a}set(e,t,n={locked:!0}){try{Object.defineProperty(this,e,{value:t,writable:!n.locked,configurable:!1}),this.storeModelHistory.add({storeModelName:this.storeModelName,key:e,value:t,timeStamp:Date.now()})}catch(e){}}get(e){return this[e]}getHistory(){return this.storeModelHistory.getHistory()}logHistory(){this.storeModelHistory.logHistory()}}const c={useSingleEvent:0};class u extends s{constructor(){super({storeModelName:"staticFeatures"}),this.useSingleEvent=function({percentage:e}){return e>100*Yt.random()}({percentage:c.useSingleEvent})}}const d=()=>{let e=!1;try{e=!!t.fence}catch(e){}return e};class g extends s{constructor(){super({storeModelName:"privacySandbox"}),this.isProtectedAudienceAuction=!1,this.isReportEventApiAvailable=!1;const e=d(),n=(()=>{var e;let n=!1;try{n=d()&&$.isFunction(null===(e=t.fence)||void 0===e?void 0:e.reportEvent)}catch(e){}return n})();this.set("isProtectedAudienceAuction",e),this.set("isReportEventApiAvailable",n)}reportEvent({destinationURL:e}){let n=!1;try{e&&this.isReportEventApiAvailable&&(t.fence.reportEvent({destinationURL:e}),n=!0)}catch(e){}return n}}class l extends s{constructor({contextNode:e}){super({storeModelName:"jsConfigRequest"}),this.url="",this.contentType="",this.verificationParameters={},this.contentType="",this.contextNode=e,this.buildRequestUrlFromParameters({contextNode:e})}buildRequestUrlFromParameters({contextNode:e,omidParameters:t}){this.setParameters({contextNode:e,omidParameters:t}),this.buildRequestUrl({contextNode:e})}setParameters({contextNode:t,omidParameters:n}){if(n)if("string"==typeof n)try{const e=JSON.parse(n);this.set("verificationParameters",e,{locked:!1})}catch(e){}else this.set("verificationParameters",n,{locked:!1});else{const n=null==t?void 0:t.dataAttributes,r=(null==n?void 0:n.iasParameters)||e.iasParameters;if("string"==typeof r)try{this.set("verificationParameters",JSON.parse(r),{locked:!1})}catch(e){}else void 0!==r&&this.set("verificationParameters",r,{locked:!1})}this.set("contentType",this.verificationParameters.contentType||"",{locked:!1})}buildRequestUrl({contextNode:n}={}){const r=(({contextNode:t,verificationParameters:n}={})=>{var r;const i=null==t?void 0:t.queryParameters,o=null==i?void 0:i.get("iasConfigHost");let a=null;const s=null==n?void 0:n.config;if(s)a=/iasProxyPartnerId=([\d]+)/g.exec(s);else try{const e=(null===(r=null==t?void 0:t.srcUrl)||void 0===r?void 0:r.href)||"";a=/iasProxyPartnerId=([\d]+)/g.exec(e),a||(a=/iasProxyPartnerId%3D([\d]+)/g.exec(e))}catch(e){}const c=null==a?void 0:a[1];return e.proxyPartnerId=c,(null==n?void 0:n.host)||o||{37103:"https://vfw.amazon-adsystem.com/ias/ivt/j",2:"https://g.bing.com/p/tpv-ias"}[c]||"https://jsconfig.adsafeprotected.com"})({contextNode:n,verificationParameters:this.verificationParameters}),i=(({contextNode:e,verificationParameters:n}={})=>{let r=null==n?void 0:n.config;if(!r)try{let n=null==e?void 0:e.srcUrl;if(!n&&"string"==typeof t.__IASTagUrl&&t.__IASTagUrl.length>0)try{n=new URL(t.__IASTagUrl)}catch(e){}if(!n.href.includes("/fw.js")&&n.href.includes("/jload")){const t=null==e?void 0:e.queryParameters,n=null==t?void 0:t.get("anId");n&&(r=`/jload/${n}`,t&&(r+=`?${t.toString()}`))}else{const e=/iasConfig=([^&#]*)/g.exec(n.href)||/config=([^&#]*)/g.exec(n.href);e&&"string"==typeof e[1]&&(r=decodeURIComponent(e[1]))}}catch(e){}return r})({contextNode:n,verificationParameters:this.verificationParameters});if(i){const t=(({host:e,path:t,queryParams:n,adSessionId:r})=>{const i=t.includes("?");let o=`${e}/jsconfig${t}`;return n&&(o+=`${i?"&":"?"}${n}`),r&&(o+=`&adSessionId=${r}`),o})({host:r,path:i,adSessionId:e.adSessionId,queryParams:null==n?void 0:n.staticFwjsMacros});this.set("url",t,{locked:!1})}}}var f,p,m;!function(e){e.Firewall="Firewall",e.FirewallMonitoring="FirewallMonitoring",e.FirewallBlocking="FirewallBlocking",e.CampaignMonitoring="CampaignMonitoring",e.Amt="Amt"}(f||(f={})),function(e){e.Rjss="rjss",e.Rjsi="rjsi",e.JsVid="jsvid",e.FwjsVid="fwjsvid",e.JsApi="jsapi",e.Jload="jload",e.Jss="jss",e.Jsi="jsi",e.Amt="amtjs"}(p||(p={})),function(e){e.AnId="anId",e.TagType="tagType",e.AdvEntityId="advEntityId",e.PubEntityId="pubEntityId",e.CreativeDomain="creativeDomain",e.CreativePath="creativePath",e.CreativeUrl="creativeUrl"}(m||(m={}));const h={[f.Firewall]:[p.Jss,p.Jsi,p.Rjss,p.Rjsi,p.FwjsVid,p.JsApi],[f.CampaignMonitoring]:[p.Jload,p.JsVid],[f.Amt]:[p.Amt]},v=({globalTagUrl:e})=>{let t=null;if("string"==typeof e)try{const n=new URL(e),r=new URLSearchParams(n.searchParams),i=M({queryParams:r}),o=(null==i?void 0:i.config)||null;o&&(t=b({configPath:o}))}catch(e){}return t},E=({contextNode:e,measurementConfig:t})=>{let n=O({contextNode:e,measurementConfig:t});return n||(n=I({contextNode:e,measurementConfig:t})),n},I=({contextNode:e,measurementConfig:t})=>{let n=null;const r=S({contextNode:e,measurementConfig:t});return r&&(n=A({tagUrl:r})),n},A=({tagUrl:e})=>{let t,n=null,r=null,i=null;try{r=e?new URL(e):null,t=null==r?void 0:r.pathname,i=U({pathname:t})}catch(e){}return r&&t&&i===f.Firewall&&(n=x({parsedUrl:r})),r&&t&&i===f.CampaignMonitoring&&(n=F({parsedUrl:r})),r&&t&&i===f.Amt&&(n=L({parsedUrl:r})),n},S=({contextNode:e,measurementConfig:t})=>{let n=null;const{currentScript:r,isFrameInFrame:i,isLegacyTagRedirectedToStatic:o}=t;return n=i?T({currentScript:r}):y({contextNode:e}),n&&!(null==n?void 0:n.startsWith("http"))&&(n=P({url:n})),n},y=({contextNode:e})=>{let t=null;const n=null==e?void 0:e.src;return n&&(t=n),t},T=({currentScript:e})=>{let t=null;const n=null==e?void 0:e.getAttribute("src");return n&&(t=n),t},O=({contextNode:e,measurementConfig:t})=>{let n=null;const r=D({contextNode:e,measurementConfig:t});return r&&(n=b({configPath:r})),n},D=({contextNode:e,measurementConfig:t})=>{let n=null;const{isStaticMode:r,iasParameters:i,isSingleInstance:o,isStaticIframeTag:a}=t;return o?n=w({iasParameters:i}):(r||a)&&(n=N({contextNode:e})),n},w=({iasParameters:e})=>{let t=null;if(e){const n=V({jsonOrObject:e});if(n){const{config:e}=n;e&&(t=e)}}return t},N=({contextNode:e})=>{const t=C({contextNode:e});return(null==t?void 0:t.config)||null},b=({configPath:e})=>{let t=null;const n=(({configPath:e})=>{let t=null;const n=null==e?void 0:e.split("?"),r=Array.isArray(n)&&n[0],i=Array.isArray(n)&&n[1];if(r&&(t={pathname:r}),(null==t?void 0:t.pathname)&&i)try{const e=new URLSearchParams(i);t.search=`?${i}`,t.searchParams=e}catch(e){}return t})({configPath:e}),r=null==n?void 0:n.pathname,i=U({pathname:r});return r&&i===f.Firewall&&(t=x({parsedUrl:n})),r&&i===f.CampaignMonitoring&&(t=F({parsedUrl:n})),r&&i===f.Amt&&(t=L({parsedUrl:n})),t},C=({contextNode:e})=>{let t={};const n=R({contextNode:e}),r=_({contextNode:e});return t=n||r,t},R=({contextNode:e})=>{var t;let n=null;const r=null===(t=null==e?void 0:e.dataAttributes)||void 0===t?void 0:t.iasParameters;if(r){const e=V({jsonOrObject:r});n=(null==e?void 0:e.config)?e:null}return n},_=({contextNode:e})=>{let t=null;if(null==e?void 0:e.queryParameters){const n=M({queryParams:e.queryParameters});t=(null==n?void 0:n.config)?n:null}return t},M=({queryParams:e})=>({config:e.get("config")||e.get("iasConfig"),host:e.get("host")||e.get("iasConfigHost"),contentType:e.get("iasConfigContentType"),sca:e.get("iasSca"),xsca:e.get("iasXsca"),h:e.get("iasHeight"),w:e.get("iasWidth")}),P=({url:e})=>`https:${e}`,V=({jsonOrObject:e})=>{let t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return t},F=({parsedUrl:e})=>{var t;let n;const r=e.pathname.split("/").splice(1),[i,o]=r;return n=o||(null===(t=e.searchParams)||void 0===t?void 0:t.get("anId")),{anId:n,tagType:i}},x=({parsedUrl:e})=>{const t=e.search,n=e.pathname.split("/").splice(1),[r,i,o,a,...s]=n,c=`/${s.join("/")}`;let u=i&&c?`//${i}${c}`:null;return t&&(u+=t),{tagType:r,advEntityId:o,pubEntityId:a,creativeDomain:i,creativePath:c,creativeUrl:u}},L=({parsedUrl:e})=>{var t,n;const r=e.pathname.split("/").splice(1),[i]=r;return{tagType:i,contractId:(null===(t=e.searchParams)||void 0===t?void 0:t.get("ias_cId"))||"",tagId:(null===(n=e.searchParams)||void 0===n?void 0:n.get("ias_tId"))||""}},U=function({pathname:e}){let t=null;const n=Object.keys(h).find((t=>h[t].some((t=>null==e?void 0:e.includes(t)))));return n&&(t=n),t};class k extends s{constructor({isDomless:n,contextNode:r,measurementConfig:i}){super({storeModelName:"adTag"}),this.anId=null,this.pubEntityId=null,this.advEntityId=null,this.tagId=null,this.contractId=null,this.tagType=null,this.creativeDomain=null,this.creativePath=null,this.creativeUrl=null,this.staticTagParams=null;const o=(({isDomless:e,contextNode:n,measurementConfig:r})=>{let i=null;return i=v({globalTagUrl:t.__IASTagUrl}),e||i||(i=E({contextNode:n,measurementConfig:r})),i})({isDomless:n,contextNode:r,measurementConfig:i});this.anId=null==o?void 0:o.anId,this.pubEntityId=null==o?void 0:o.pubEntityId,this.advEntityId=null==o?void 0:o.advEntityId,this.tagId=null==o?void 0:o.tagId,this.contractId=null==o?void 0:o.contractId,this.tagType=(null==o?void 0:o.tagType)||e.mode,this.creativeDomain=null==o?void 0:o.creativeDomain,this.creativePath=null==o?void 0:o.creativePath,this.creativeUrl=null==o?void 0:o.creativeUrl}updateWithVerificationParameters({verificationParameters:e}){var t,n,r,i,o,a,s,c,u;const d=(({verificationParameters:e})=>{let t=null,n=null;const r=V({jsonOrObject:e});if(r){const{config:e}=r;e&&(t=e),t&&(n=b({configPath:t}))}return n})({verificationParameters:e});this.anId=null!==(t=this.anId)&&void 0!==t?t:null==d?void 0:d.anId,this.pubEntityId=null!==(n=this.pubEntityId)&&void 0!==n?n:null==d?void 0:d.pubEntityId,this.advEntityId=null!==(r=this.advEntityId)&&void 0!==r?r:null==d?void 0:d.advEntityId,this.tagId=null!==(i=this.tagId)&&void 0!==i?i:null==d?void 0:d.tagId,this.contractId=null!==(o=this.contractId)&&void 0!==o?o:null==d?void 0:d.contractId,this.tagType=null!==(a=this.tagType)&&void 0!==a?a:null==d?void 0:d.tagType,this.creativeDomain=null!==(s=this.creativeDomain)&&void 0!==s?s:null==d?void 0:d.creativeDomain,this.creativePath=null!==(c=this.creativePath)&&void 0!==c?c:null==d?void 0:d.creativePath,this.creativeUrl=null!==(u=this.creativeUrl)&&void 0!==u?u:null==d?void 0:d.creativeUrl}updateWithResolvedJsConfig({jsConfig:e,measurementConfig:t}){t.isStaticMode&&!this.tagType&&(this.tagType=null==e?void 0:e.mode)}}class W extends s{constructor({bootstrapper:e}){super({storeModelName:"baseUrls"}),this.dtBaseUrl=null==e?void 0:e.dtBaseURL,this.cmEventBaseUrl=null==e?void 0:e.requrl,this.fwEventBaseUrl=null==e?void 0:e.adsafeSrc,this.mobileAppEventBaseUrl=null==e?void 0:e.mobFwUrl,this.eventBaseUrl=this.fwEventBaseUrl||this.cmEventBaseUrl}updateWithVerificationParameters({verificationParameters:e}){const t=o({stringOrObject:e});if("object"==typeof t){const e=null==t?void 0:t.iasImpBaseUrl,n=null==t?void 0:t.iasDtBaseUrl,r=null==t?void 0:t.iasMobileAppImpBaseUrl;n&&(this.dtBaseUrl=n),e&&(this.cmEventBaseUrl=e,this.fwEventBaseUrl=e,this.eventBaseUrl=e),(r||e)&&(this.mobileAppEventBaseUrl=r||e)}}updateWithResolvedJsConfig({jsConfig:e}){this.dtBaseUrl||(this.dtBaseUrl=null==e?void 0:e.dtBaseURL),this.cmEventBaseUrl||(this.cmEventBaseUrl=null==e?void 0:e.requrl),this.fwEventBaseUrl||(this.fwEventBaseUrl=null==e?void 0:e.adsafeSrc),this.mobileAppEventBaseUrl||(this.mobileAppEventBaseUrl=null==e?void 0:e.mobFwUrl),this.eventBaseUrl||(this.eventBaseUrl=this.fwEventBaseUrl||this.cmEventBaseUrl)}}var B;!function(e){e.Iframe="i",e.Script="s"}(B||(B={}));class G extends s{constructor({isDomless:e,currentWindow:t,defaultBootstrapperConfig:n}){super({storeModelName:"measurementConfig"}),this.setDefaultProps(),this.setBaseProps({defaultBootstrapperConfig:n}),e||this.setDomOnlyProps({currentWindow:t,isStaticMode:this.isStaticMode,currentScript:this.currentScript})}setDefaultProps(){this.set("tagDeliveryType",B.Script,{locked:!1})}setBaseProps({defaultBootstrapperConfig:e}){this.set("adRefreshThreshold",e.adRefreshThreshold),this.set("birthdate",e.birthdate),this.set("isResolved",e.isResolved,{locked:!1}),this.set("perfBirth",e.perfBirth),this.set("staticMode",e.staticMode),this.set("useFIF",e.useFIF),this.set("currentScript",e.currentScript),this.set("iasParameters",e.iasParameters),this.set("jsDiag",!0),this.set("spImpJsInfoMinLength",200),this.set("spImpMaxLength",1e4),this.set("isStaticMode",e.staticMode,{locked:!1}),this.set("isFrameInFrame",e.useFIF),this.set("isStaticFrameInFrame",this.get("isStaticMode")&&this.get("isFrameInFrame")),this.setDebugProp()}setDomOnlyProps({currentWindow:e,isStaticMode:t,currentScript:n}){this.setSingleInstanceProps(),this.setTagDeliveryTypeProps({currentWindow:e}),this.setStaticRedirectProps({isStaticMode:t,currentScript:n})}setSingleInstanceProps(){try{this.set("adSlots",null===top||void 0===top?void 0:top.iasAdSlots,{locked:!1}),this.set("isSingleInstance",null===top||void 0===top?void 0:top.isSingleIASInstance,{locked:!1})}catch(e){}}setTagDeliveryTypeProps({currentWindow:e}){var t,n;const r=(null===(n=null===(t=null==e?void 0:e.location)||void 0===t?void 0:t.href)||void 0===n?void 0:n.includes("fw.html"))?B.Iframe:B.Script,i=r?r===B.Iframe:void 0,o=r?r===B.Script:void 0;this.set("tagDeliveryType",r),this.set("isStaticIframeTag",i,{locked:!1}),this.set("isStaticScriptTag",o,{locked:!1})}setStaticRedirectProps({isStaticMode:e,currentScript:t}){e&&(null==t?void 0:t.src)&&(t.src.includes("/jload")&&(this.set("isJloadRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/jsvid")&&(this.set("isJsvidRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/rjss")&&(this.set("isRjssRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/fwjsvid")&&(this.set("isFwjsvidRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/amt.js")&&(this.set("isAmtRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)))}setDebugProp(){this.set("debug",!1)}updateWithVerificationParameters({verificationParameters:e}){const t=o({stringOrObject:e});"object"==typeof t&&((null==t?void 0:t.iasImpBaseUrl)&&(this.impressionNodeType="img"),(null==t?void 0:t.iasImpNodeType)&&(this.impressionNodeType=null==t?void 0:t.iasImpNodeType))}}new class{constructor(){this.eventMap={}}on(e,t){this.eventMap[e]||(this.eventMap[e]=new Set),this.eventMap[e].add(t)}off(e,t){this.eventMap[e]&&this.eventMap[e].delete(t)}emit(e,...t){this.eventMap[e]&&this.eventMap[e].forEach((e=>e(...t)))}};const H=({url:e})=>{let t;const n=["config","iasConfig"];return e&&e.includes("fw.js")&&(n.forEach((t=>{e&&(e=(({url:e,queryParamName:t})=>{const n=new URL(e).search,r=new URLSearchParams(n);r.delete(t);const i=new URL(e);return i.search=r.toString(),i.toString()})({url:e,queryParamName:t}))})),e.includes("?")&&(t=e.split("?")[1])),t};class j extends s{constructor({contextNodeElement:e}){if(super({storeModelName:"contextNode"}),e){const t=new URL(e.src);this.set("element",e),this.set("srcUrl",t),this.set("src",t.href),this.set("path",t.pathname),this.set("protocol",t.protocol),this.set("dataAttributes",e.dataset),this.set("queryParameters",t.searchParams),this.set("staticFwjsMacros",H({url:t.href}))}}}const q=new class{addModel(e){try{Object.defineProperty(this,e.storeModelName,{value:e,writable:!1,configurable:!1,enumerable:!0})}catch(e){}return this[e.storeModelName]}getHistory(){return Object.keys(this).reduce(((e,t)=>{const n=this[t].getHistory();return e.concat(n)}),[])}logHistory(){}};function Y(){var t,n;e.executedContinueMain||(q.measurementConfig.isStaticMode&&q.baseUrls.updateWithResolvedJsConfig({jsConfig:e}),q.adTag.updateWithResolvedJsConfig({jsConfig:e,measurementConfig:q.measurementConfig}),e.executedContinueMain=!0,e.perf.markStart(ae),me(e).verifyContextNode(),t=function(t,n,r,i,o,a,s,c,u,d,g){var l,f;try{new mo({contextNode:e.contextNode,features:u,bootstrapper:e}).start()}catch(e){o.add(te.ERROR_CODES.AD_SERVER_POST_IMPRESSION_MACRO)}e.perf.markStart(ce),e[be.B11]="1"===e[be.AdHeight]&&"1"===e.adWidth?"true":"false",e[be.CNod]=e[be.ContextNode]?"true":"false",ee.getAggregator().trigger(De.AddOutputItem,{output:q.measurementConfig.mainBirthdate},be.MainFunctionStartedNow,{type:te.IMPRESSION_EVENT});var p=e.hasOwnProperty("origMobOrTab")?e.origMobOrTab:e.mobOrTab;ee.getAggregator().trigger(De.AddOutputItem,{output:p?"1":"0"},be.BootstrapperMobOrTab,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:e.app?"1":"0"},be.BootstrapperApp,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:e.mobAppWebview?"1":"0"},be.BootstrapperMobAppWebview,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:q.measurementConfig.tagDeliveryType},be.TagDeliveryType,{type:te.IMPRESSION_EVENT});var m=rt().getUserAgent(),h=ee.getAggregator().request(Ne.MobileApp);!(h&&h.isMobileAppEnvironment&&h.isMobileAppEnvironment())&&m.indexOf("IMDb-flg")>-1&&(ee.getAggregator().trigger(De.AddOutputItem,{output:"1"},be.MobileAppEnvironment,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:"a_imdb"},be.MatchedMobileAppDetectionRule,{type:te.IMPRESSION_EVENT}));X(r,i,u,o);try{a.isApplicable(s,d)&&a.start(),f=c.detectTopURL(),u.on("exch")&&(new Vt).createInstance(o,i).parse(f),(l=Zi()).isApplicable(u)&&l.start(u),d.usesGroupMCustomMetric()&&Me(),g.start()}catch(e){o.add(te.ERROR_CODES.IMPRESSION_LEADUP)}return e.perf.markEnd(ce),f}((n=function(){var t,n,r,i,o,a,s,c,u,d,g,l={};e.perf.markStart(se);var f=ee.getAggregator();(function(){var t,n,r;r=ee.getAggregator().request(Ne.OmidAdSessionContext),t=r.app&&r.isDisplay&&!r.isWeb,(n=e.mobFwUrl&&e.mobFwUrl.indexOf("/blocking/")>-1)&&r.isLimitedSandbox&&"1"===e.adWidth&&"1"===e[be.AdHeight]&&(r.isLimitedSandbox=!1);t&&n&&(r.delayingViewabilityEvents=!0);"app"!==r.environment&&!0!==e.mobAppWebview||(e.origMobOrTab=e[be.MobOrTab],e[be.MobOrTab]=!0)})(),l.mFeatures=f.request(Ne.Features),l.mFeatures||(l.mFeatures=f.provide(Ne.Features,Lt()));e.integration&&l.mFeatures.setReportedBootstrapFeatures("intblk","integration");e.autotagSizeSet&&l.mFeatures.setReportedBootstrapFeatures("ats","autotagSizeSet");e.encodeInvalidUrlChars=!Nt.isDomless()&&l.mFeatures.on("encodeInvalidUrlChars"),f.provide(Ne.MobileApp,(function(){return t=t||new pi(l.mFeatures)})),f.provide(Ne.Context,Nt),l.mBrowser=f.request(Ne.Browser),l.mErrors=f.request(Ne.Errors),l.mIds=f.request(Ne.IDS),l.iOutput=Be(f),f.request(Ne.JSONP),l.mComm=f.request(Ne.Communication),l.viewabilityMeasurement=new nr(rr(l.mIds),l.mFeatures,l.mBrowser).create(),function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger(De.AddOutputItem,{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:te.IMPRESSION_EVENT})}(f.request(Ne.OmidAdSessionContext),f),l.mFeatures.on("swapids")&&(e.oid=e.asid,e.asid=l.mIds.unq);return l.mAdTalk=(new fn).createInstance(l.mFeatures),n=Pe(),r=Zt(f),i=f.provide(Ne.Page,(new Kt).createInstance()),l.mAncestorOrigins=f.request(Ne.AncestorOrigins),l.mPageUrls=f.request(Ne.PageURLS),l.mAncestorOrigins=Ze(),l.mPageUrls=f.provide(Ne.PageURLS,(new zt).createInstance(l.mAncestorOrigins,Yt)),o=f.provide(Ne.ScreenEvents,en()),a=Ut(l.mBrowser),g=function(t,n){return!Nt.isVideo()||Nt.isOmid()||Nt.isInMobiMraidVideo()?{}:Fi(e.videoId,t,n)}(l.mFeatures,o),l.mVideo=f.provide(Ne.Video,g),Wi(Gi.build()),s=(new gi).createInstance(l.mErrors,a,l.mFeatures),c=(new He).createInstance(s,l.mErrors,i,Nt),u=f.provide(Ne.JobFactory,Gt()),l.mDataTransfer=Rt(s,l.mErrors,l.mFeatures,l.mIds,l.iOutput,l.mBrowser,o,n),d=tt(l.mErrors,l.mFeatures,f,r),l.mMode=qt(d,l.mFeatures,l.viewabilityMeasurement.isImmediate()),l.mViewability=f.provide(Ne.Viewability,xr(Fe(),l.viewabilityMeasurement,l.mBrowser,l.mDataTransfer,l.mFeatures,f,l.iOutput,c,o,l.mVideo)),function(t,n,r,i){var o=function(t){var n=new Or(t,Nt),r=new Tr,i=new wr(t,Nt),o=Dr(t,Nt),a=new br(e,Nt,t).resolve(),s=[n],c=[];o.applies()&&s.push(o);i.applies()&&s.push(i);r.applies(t,Nt)&&s.push(r);$(a).each((function(e,t){s.push(new Nr(t,Nt)),c.push(t.id)})),c.length>0&&(ee.getAggregator().trigger(De.AddOutputItem,{output:c.join(".")},be.MetricIdEventCall,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:c},be.MetricIdList,{type:te.DT_CODES.UNLOAD,asION:!0}));return s}(t);ee.getAggregator().provide(Ne.ViewabilityDefinitions,o),$(o).map(function(e,t,n,r){return function(i,o){var a,s,c,u=Fr(o,t),d=yr(n,e,o.rts).getCallbacks(),g=Ue(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId));return o.sendOtherwiseInViewSignal&&(c=Fr(o,t,o.sendOtherwiseInViewSignal),s=Ue(r.createPingJobs(o.type,o.timeInViewThresholds,d,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=d,o.thresholdType===te.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?a=Vr(u,o,g,Nt.isVideo()):(a=Pr(u,Je(o.minUnit),g),o.sendOtherwiseInViewSignal&&Pr(c,Je(o.minUnit),s,o.sendOtherwiseInViewSignal).start()),a.start(),a}}(t,n,r,i))}(l.mFeatures,l.mViewability,r,u),l.loopDelay=Nn(),l.renderDetector=Te(),l.mDataTransfer.setViewabilityMod(l.mViewability),e.perf.markEnd(se),l}()).mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,Nt,n.renderDetector),function(t,n,r,i,o,a,s,c,u){try{Ki(t,n,r,i,o,a,s).send(c),$.isFunction(u.triggerInitializationEvents)&&u.triggerInitializationEvents()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),function(t,n,r,i,o,a,s,c,u,d,g,l,f){try{e.perf.markStart(ue),(p=Li()).start(),p.addFieldTypes([te.DT_SLOT.IM,te.DT_SLOT.FF,te.DT_SLOT.ENVIRONMENT,te.DT_SLOT.FF_EXP]),ho(f),function(e,t,n,r){var i=_n(e,t,n);i.isApplicable(r)&&i.start()}(t,n,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&et(t,n,r,i,o).init()}(i,o,a,s,n,c),function(t,n,r,i,o,a,s,c,u){var d;"true"!==e.minimizeCalls&&(d=(new Date).getTime(),Yt.execAtEndOfThread((function(){K(t,n,r,i,d,o,a,s,c,u)})))}(c,u,d,s,i,o,a,n,l),function(e){e&&e.start&&e.start()}(g),((e,t)=>{if(!e.isDomless()){const n=no();let r=["sca","xsca","rsrch"];e&&e.isAMZN()&&(r=[]),n.start(r,t)}})(f,i),Qe(),ee.runTier(te.TIERS.VIEWABILITY),function(t){var n=Ui();n.isApplicable(t)&&(n.start(),ji.recordBlockingTime(),e.perf.mark(de),ji.setupOnLoadTracking(),ji.setupBrowserDelayTracking())}(i),e.perf.markEnd(ue)}catch(e){s.add(te.ERROR_CODES.POST_IMPRESSION)}var p}(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,Nt),q&&q.pageMetrics&&q.pageMetrics.sendPageMetricsData(),e.perf.markEnd(ae))}function K(t,n,r,i,o,a,s,c,u,d){try{if(e.perf.markStart(ge),e.tpiLookupURL)Wt(s,c).init(e.tpiLookupURL);Nt.isDomless()||d.isStarted()&&d.sendOriginList(),ee.runAll(),Yt.execAtEndOfThread((function(){!function(t,n,r,i,o,a){var s;try{e.perf.markStart(le),s={output:(new Date).getTime()-o},t.addItem(s,"sinceFw",{type:te.DT_CODES.ADTALK}),$.isDef(n.loopStarted())&&t.addItem({output:n.loopStarted()},"readyFired",{type:te.DT_CODES.ADTALK}),e.perf.markEnd(le),e.isSplitMode&&(u=e.protocol+"://"+e.sp_cdnScripts.main,e.perf.markResource(fe,u)),e.impUrl&&e.perf.markResource(pe,e.impUrl),c=e.perf.getData(),ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.IM,be.Performance,$(c).toION()),r.isApplicable(Nt)&&r.sendAdTalkCall()}catch(e){i.add(te.ERROR_CODES.ADTALK_DELAY)}var c,u}(t,n,r,i,o)})),e.perf.markEnd(ge)}catch(e){i.add(te.ERROR_CODES.EVENT_LOOP_ONE)}}function X(e,t,n,r){var i;try{e.isApplicable(Nt)&&(e.start(),t.addItem(e.getFrameMap(),"fm"),n.on("fm2")&&t.addItem(e.getFrameMapIncludingPeerCase(),"fm2"),n.on("idMap")&&(i=e.getIdMap())&&t.addItem(i,"idMap"))}catch(e){r.add(te.ERROR_CODES.ADTALK_GENERAL)}}function J(t){var n=t&&t.sca,r=t&&t.xsca,i=t&&t.w,o=t&&t.h;return function(t){ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.StaticConfigResponseTime,{type:te.IMPRESSION_EVENT});var a="string"==typeof t?JSON.parse(t):t;if(a.hasOwnProperty("creativeUrl")&&a.hasOwnProperty("nodeType")&&a.hasOwnProperty("didBlock")&&!1===a.didBlock){const{creativeUrl:e,nodeType:t}=a,n="unknown"===t?"script":t,r=q.measurementConfig.tagDeliveryType===B.Iframe?"iframe":n;ee.getAggregator().trigger(De.AddNode,r,e)}if(a.hasOwnProperty("config")&&(a=a.config),Object.assign)Object.assign(e,a);else for(var s in a)e[s]=a[s];q.measurementConfig.set("isResolved",!0),e.sp_cdnScripts=e.sp_cdnScripts||{},n&&(e.sp_cdnScripts.sca=n),r&&(e.sp_cdnScripts.xsca=r),i&&o&&(e.adWidth=i,e.adHeight=o,e.autotagSizeSet=!0),Y()}}const z=()=>{var e,t;const n=null===(e=q.jsConfigRequest)||void 0===e?void 0:e.verificationParameters,r=null===(t=q.jsConfigRequest)||void 0===t?void 0:t.contentType,i=(()=>{var e,t,n;const r=(null===(e=q.adTag)||void 0===e?void 0:e.advEntityId)||"",i=(null===(t=q.adTag)||void 0===t?void 0:t.pubEntityId)||"",o=(null===(n=q.adTag)||void 0===n?void 0:n.creativeUrl)||"",a=ee.getAggregator().request(Ne.IDS).getCacheBustId(),s=new URL("https://fw.adsafeprotected.com/event"),c=ee.getAggregator().request(Ne.AncestorOrigins);c.isApplicable(ee.getAggregator().request(Ne.Browser),Nt)&&c.start();const u=ee.getAggregator().request(Ne.PageURLS).detectTopURL(),d=$i(u,2e3,s.href.length,!0);return s.searchParams.append("advEntityId",r),s.searchParams.append("pubEntityId",i),s.searchParams.append("creativeUrl",o),s.searchParams.append("format","jsonp"),s.search+=`&${d.join("&")}`,s.searchParams.append("adsafe_jsinfo",`,c:${a},st:1,em:${Nt.embedded.toString()},fr:${Nt.friendly.toString()}`),s.href})();ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.StaticConfigRequestTime,{type:"impression"}),ee.getAggregator().trigger(De.AddOutputItem,{output:1},be.StaticUsedConfigAndBlockingRequest,{type:"impression"}),"application/json"===r?ee.getAggregator().trigger(De.GetJSON,i,J(n)):ee.getAggregator().trigger(De.JSONP,i,J(n),!1,"cbName")};const Q=()=>{var e,t,n;(null===(e=q.measurementConfig)||void 0===e?void 0:e.isResolved)?Y():(null===(t=q.staticFeatures)||void 0===t?void 0:t.useSingleEvent)&&"rjss"===(null===(n=q.adTag)||void 0===n?void 0:n.tagType)?z():(()=>{var e,t,n;const r=null===(e=q.jsConfigRequest)||void 0===e?void 0:e.url,i=null===(t=q.jsConfigRequest)||void 0===t?void 0:t.contentType,o=null===(n=q.jsConfigRequest)||void 0===n?void 0:n.verificationParameters;if(r){ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.StaticConfigRequestTime,{type:te.IMPRESSION_EVENT});const e="cbName";"application/json"===i?ee.getAggregator().trigger(De.GetJSON,r,J(o)):ee.getAggregator().trigger(De.JSONP,r,J(o),!1,e)}})()};var $=function(e){"use strict";return new Z(e)},Z=function(e){"use strict";this.iterable=e};Z.prototype.isObj=function(e){"use strict";var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},Z.prototype.isArray=function(){"use strict";return this.iterable instanceof Array},Z.prototype.isEmpty=function(e){"use strict";return 0===this.keys(e).length},Z.prototype.each=function(e,t){"use strict";var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},Z.prototype.map=function(e,t){"use strict";var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},Z.prototype.stringify=function(e,t){"use strict";t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);$.isDef(i)&&n.push(i)})),n.join(t)},Z.prototype.toION=function(e,t){"use strict";var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return $(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=$(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},Z.prototype.compareTo=function(e){"use strict";var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},Z.prototype.toParams=function(e){"use strict";return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},Z.prototype._privateMixin=function(e,t,n){"use strict";var r;for(r in t)$.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},Z.prototype.mapToObj=function(e){"use strict";var t={},n=this;return this.each((function(r,i){var o=e(r,i);$(o).isObj()&&n._privateMixin(t,o)})),t},Z.prototype.invert=function(){"use strict";return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},Z.prototype.mixin=function(e,t){"use strict";return this._privateMixin(this.iterable,e,t)},Z.prototype.find=function(e){"use strict";var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},Z.prototype.findFirst=function(e){"use strict";var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},Z.prototype.keys=function(e){"use strict";var t=[];return this.each((function(e){t.push(e)}),e),t},Z.prototype.asStrings=function(){"use strict";var e={};return this.each((function(t,n){e[t]=""+n})),e},Z.prototype.selectProperties=function(e){"use strict";var t={},n=this;return $(e).each((function(e,r){$.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},Z.prototype.filter=function(e,t){"use strict";return this.map((function(t,n){var r;return($.isUndef(e)||$.resolve(e,t,n))&&(r=n),r}),t)},Z.prototype.toArray=function(){"use strict";return this.map((function(e,t){return t}))},Z.prototype.JSONStringify=function(){"use strict";var e,n,r=!1;return t.Prototype&&t.Prototype.Version&&-1===t.Prototype.Version.indexOf("1.7")&&(r=!0),r&&(n=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),r&&(Array.prototype.toJSON=n),e},Z.prototype.contains=function(e){"use strict";var t=$(this.iterable).findFirst((function(t,n){return e===n}));return $.isDef(t)},$.toBase=function(e,t){"use strict";var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},$.isDef=function(e){"use strict";return void 0!==e},$.isUndef=function(e){"use strict";return!$.isDef(e)},$.isBool=function(e){"use strict";return"boolean"==typeof e},$.noop=function(){},$.identity=function(e){"use strict";return e},$.isFunction=function(e){"use strict";return"function"==typeof e},$.isStr=function(e){"use strict";return"string"==typeof e},$.useIfDef=function(e){"use strict";return!!$.isDef(e)&&e},$.stringifyTriState=function(e){"use strict";return!0===e?1:!1===e?0:"na"},$.getNum=function(e){"use strict";var t=parseInt(e);return isFinite(t)||(t=-1),t},$.resolve=function(e,...t){return $.isFunction(e)?e.apply({},t):e},$.flatJSONParse=function(e){"use strict";for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},a=i.exec(e);a;)t=a[1],n=a[3],r=a[2],o[t]=n||+r,a=i.exec(e);return o},$.debounce=function(e,n,r){"use strict";var i,o=r||t;return function(...t){var r=this,a=t;o.clearTimeout(i),i=o.setTimeout((function(){i=null,e.apply(r,a)}),n)}},$.last=function(e){"use strict";return e[e.length-1]},$.collapseArgsIntoHash=function(e,t){"use strict";var n={};return t?n[e]=t:n=e,n},$.fromBoolToNum=function(e){"use strict";return e?1:0},$.isNumeric=function(e){"use strict";return $.isDef(e)&&null!==e&&!isNaN(e)},$.fromNodeListToArray=function(e){"use strict";return Array.prototype.slice.call(e)},$.encodeInvalidUrlChars=function(e,t){"use strict";var n={$:"%24","[":"%5B","]":"%5D","{":"%7B","}":"%7D","|":"%7C"},r=e;return t&&"string"==typeof e&&(r=(r=e.replace(/%(?![0-9A-F][0-9A-F])/gi,"%25")).replace(/\$|\[|\]|\{|\}|\|/gi,(function(e){return n[e]}))),r};var ee=function(){"use strict";var e,t={},n=[],r=[],i=function(){var e={},t=$(arguments).toArray();return t.unshift(e),r.push(t),e},o=function(r,i,o,a,s){var c,u,d,g=function(){if(!c){var t=[];c=!0,i=["features","browser","context"],0===n.length&&(n=$(i).map((function(t,n){return e.request(n)}))),s.emits&&(r.events=new Fe),s.applies&&!s.applies.apply(s,n)||(u=!0,(t=$(o).map((function(t,n){return e.request(n)}),!0)).push(r),$(r).mixin(a.apply({},t)))}var i};return d=(s=s||{}).tier,$.isDef(d)&&(t[d]=t[d]||new Le,t[d].push(g)),e.provide(i,(function(){var e;return g(),u&&(e=r),e})),r};return i.runAll=function(){var e=$(t).keys().sort((function(e,t){return e-t}));$(e).each((function(e,t){i.runTier(t)}))},i.runTier=function(e){t[e].run(),delete t[e]},i.startSystem=function(){e=e||new Ve,$(r).each((function(e,t){o.apply({},t)}))},i.getAggregator=function(){return e},i}();const te={MRC_LARGE_AD_SIZE:242500,IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs",ADSERVER_MACROS:"as"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},ENGAGEMENT:{CLICKS:"clks",HOVER:"hov"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v",WINDOW:"w"},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",AD_SERVER_POST_IMPRESSION_MACRO:"A2",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",CLICK_TRACK:"Q",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",IMPRESSION_PERFORMANCE:"e",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",MSEDGE:"e",IE:"i",DOMLESS:"d"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",DATA_TRANSFER_EVENT:"dt",CALLBACK_IDENTIFIER:"data-ias-callback",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",OMID_GEOMETRY_MEASUREMENT_CHANGED:"omidGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",REFERRER_POLICY:"no-referrer-when-downgrade",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",CONTENT_STYLED:"cs",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"};var ne,re,ie,oe="mf",ae="cm",se="in",ce="pr",ue="po",de="bl",ge="lo",le="lt",fe="md",pe="id",me=function(e){"use strict";return{verifyContextNode:function(){!(__IASScope.isDomless||e.contextNode&&null!==e.contextNode.parentNode)&&(e.contextNode=function(){var t,r=n.getElementsByTagName("script"),i=r.length,o=r[i-1],a=e.scriptUrl;try{for(;--i>=0;)if((t=r[i]).src&&0===t.src.indexOf(a)&&null===t.getAttribute("data-ias-script-tag")){o=t,t.setAttribute("data-ias-script-tag","found");break}}catch(e){}return o}())}}};!function(e){e.AddEventListener="addEventListener",e.GetTCData="getTCData",e.TcfApiReturn="__tcfapiReturn"}(ne||(ne={})),function(e){e.TcfApi="__tcfapi"}(re||(re={})),function(e){e.TcfApiLocator="__tcfapiLocator"}(ie||(ie={}));const he=({apiFunctionName:e,apiFrameLocatorName:t})=>{try{let n,r,i=Yt.getWindow();const o=Yt.getTop();try{n=null==o?void 0:o[e]}catch(e){for(;!r;){try{if(i.frames[t]){const e=i.frames[t];r=null==e?void 0:e.parent}}catch(e){}if(i===o)break;i=i.parent}}return n||r}catch(e){}};var ve={getMessageHandler:function(e,t){var n=ve.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),bt.removeEvent(Yt.getWindow(),"message",r))}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+e.asid},send:function(e,t){ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,e,t)}},Ee={name:"CCPAConsentDetector",dependencies:[],creator:function(){"use strict";function e(e){e&&ve.send("ccd",$(e).toION())}!function(){const t=he({apiFunctionName:"__uspapi",apiFrameLocatorName:"__uspapiLocator"});ve.send("cca",!!t),t&&function(t){var n,r;$.isFunction(t)?t("getUSPData",1,e):(n={__uspapiCall:{command:"getUSPData",version:1,callId:ve.getCallId()}},r=ve.getMessageHandler("__uspapiReturn",e),bt.addEvent(Yt.getWindow(),"message",r),t.postMessage(n,"*"))}(t)}()},settings:{tier:te.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},Ie={name:"GDPRConsentDetector",dependencies:[],creator:function(){"use strict";var e=278;function t(e){var t=$.isDef(e)&&$.isDef(e.vendorConsents)&&$.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:$.stringifyTriState(e.gdprApplies),cnst:$.stringifyTriState(t),glbl:$.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)},r=e&&e.tcString;ee.getAggregator().provide(Ne.TCString,(function(){return r})),ve.send("gcd",$(n).toION())}!function(){const n=he({apiFunctionName:"__cmp",apiFrameLocatorName:"__cmpLocator"});ve.send("gca",!!n),n&&function(n){var r,i;$.isFunction(n)?n("getVendorConsents",[e],t):(r={__cmpCall:{command:"getVendorConsents",parameter:[e],callId:ve.getCallId()}},i=ve.getMessageHandler("__cmpReturn",t),bt.addEvent(Yt.getWindow(),"message",i),n.postMessage(r,"*"))}(n)}()},settings:{tier:te.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}};const Ae={name:"GDPRV2ConsentDetector",dependencies:[],creator:()=>{const e=e=>{const t=$.isDef(e)&&$.isDef(e.vendor)&&$.isDef(e.vendor.consents)&&$.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:$.stringifyTriState(null==e?void 0:e.gdprApplies),cnst:$.stringifyTriState(t)};ve.send("gcd2",$(n).toION())};(()=>{const t=re.TcfApi,n=ie.TcfApiLocator,r=he({apiFunctionName:t,apiFrameLocatorName:n});ve.send("gca2",!!r),r&&(t=>{let n,r;if($.isFunction(t))try{t(ne.AddEventListener,2,e)}catch(n){try{t(ne.GetTCData,2,e)}catch(e){}}else n={__tcfapiCall:{command:ne.AddEventListener,callId:ve.getCallId(),version:2}},r=ve.getMessageHandler(ne.TcfApiReturn,e),bt.addEvent(Yt.getWindow(),"message",r,!1),t.postMessage(n,"*")})(r)})()},settings:{tier:te.TIERS.ENVIRONMENT,applies:(e,t,n)=>t.hasPostMessage()&&!n.isDomless()}};var Se=function(){"use strict";var t,n=["STYLE","SCRIPT","HEAD","META"],r=te.RENDER.CREATIVE_NODE_TYPES.concat(te.RENDER.CONTAINER_NODE_TYPES),i=0,o=q.measurementConfig.useFIF&&Nt.friendlyIframe||Nt.isSpecifiedAd(),a=0,s=[],c=function(t){var n,r,o=t,a=t,s=Nt.friendly?Yt.getTop().document.body:e.contextNode.ownerDocument.body;for(;i<3;){if(s&&o===s){a=o,i=3;break}Mt.isWindow(o)&&(r=void 0,r="["+te.AD_IDENTIFIER+"-"+e.asid+"]",n=Mt.crossQuerySelector(r),o=$.isDef(n)?n:o),a=o=$.isDef(o)&&o.parentNode||o,i++}return a},u=function(e){var t=function(e){var t,i,o=[],a=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),s=a&&a.length;if(a)for(var c=0;c<s;c++)i=(t=a[c])&&t.nodeName&&t.nodeName.toUpperCase(),!t.children||0!==t.children.length||$(r).contains(i)||$(n).contains(i)||$(o).contains(i)||o.push(i);return o}(e);return r.concat(t)},d=function(t){var n,r=o?c(t):t;return Mt.isWindow(r)?n=function(t){var n;try{n=t.document}catch(t){n=e.contextNode.ownerDocument}return n}(r):"IFRAME"===Mt.getNodeName(r)?(s.push(t),n=t.contentWindow.document):n=r,n},g=function(n){var r,i=Mt.isNodeXDomainIframe(n)||Mt.isNodeCreative(n),o=!n;if(t=o?e.contextNode.parentNode:n,i||o)(r=s.length)>0&&(a<r?a=r:(a=0,s=[])),ee.getAggregator().trigger(De.EvaluateCreativeFinderResult,n);else{var c=d(n),g=u(c);new ye(g,s).searchDescendants(c)}};return ee.getAggregator().on(De.CreativeFinderBatchCompleted,g),{find:g,getClosestContainerName:function(){return Mt.getNodeName(t)}}},ye=function(t,n){"use strict";var r=t,i=function(e){var t=0,r=null,i=-1;function o(e){if(o=e,a=Mt.getNodeName(o),s=Mt.isNodeCreative(o)||"IFRAME"===a,a&&s&&!Mt.isEmptyFriendlyFrame(e)){var t=Mt.getNodeArea(e);t>i&&!$(n).contains(e)&&(r=e,i=t)}var o,a,s}e.length&&ee.getAggregator().request(Ne.UseYieldSearch)?function n(){do{o(e[t]),t+=1}while(t%500!=0&&t<e.length);t<e.length?Yt.execAtEndOfThread(n,0):ee.getAggregator().trigger(De.CreativeFinderBatchCompleted,r)}():function(){for(;t<e.length;t++)o(e[t]);ee.getAggregator().trigger(De.CreativeFinderBatchCompleted,r)}()};return{searchDescendants:function(t){var n=t||e.contextNode.parentNode,o=Mt.collectCandidateElements(n,r);i(o)}}},Te=function(){"use strict";var e,t=!1,n=!1,r=!1,i={status:te.RENDER.STATUS.OTHER,details:te.RENDER.DETAILS.OTHER},o={status:te.RENDER.STATUS.DETECTED,details:te.RENDER.DETAILS.ENVIRONMENT},a="rend",s="renddet",c=ee.getAggregator().request(Ne.OmidAdSessionContext),u=function(){var e=!1;return Nt.isOmid()&&c&&c.useOMID13Logic&&(e=!0),e},d=function(){t=!0,r=!0},g=function(n){var r=e.build(),o=n.status||i.status,c=r||i.details;o===te.RENDER.STATUS.DETECTED&&ee.getAggregator().trigger(De.PerfCheckpoint,{type:te.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Yt.now(),code:te.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE}),t&&o===te.RENDER.STATUS.DETECTED?(ee.getAggregator().trigger(De.AddThrottledOutputItem,a,o),ee.getAggregator().trigger(De.AddThrottledOutputItem,s,c)):(ee.getAggregator().trigger(De.AddOutputItem,{output:o},a),ee.getAggregator().trigger(De.AddOutputItem,{output:c},s))},l=function(){var t=c&&!!c.isVideo,r=!u()||c&&!!c.videoStartArrived,i=!u()||c&&!!c.geometryArrived,a=!c.omidEarlyExit||c.omidImpressionArrived,s=!(c.omidEarlyExit&&u())||c.omidLoadedArrived;return!(n||!i||!a||!s||t&&!r)&&(ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},"oren"),ee.getAggregator().trigger(De.EligibleRender),e.save(te.RENDER.DETAILS.ENVIRONMENT),e.save(te.RENDER.DIAGNOSTIC.OMID_RENDERED),ee.getAggregator().trigger(De.AdRendered),g(o),n=!0,!0)};return{start:function(){var t=!1;ee.getAggregator().trigger(De.PerfCheckpoint,{type:te.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Yt.now(),code:be.Initial}),ee.getAggregator().on(De.AdRendered,(function(){t=!0})),ee.getAggregator().provide(Ne.AdRenderStatus,(function(){return t})),ee.getAggregator().provide(Ne.UseYieldSearch,(function(){return r})),e=new Ce,new Re,ee.getAggregator().on(De.ImpressionSent,d),u()||c.omidEarlyExit?l()||(e.save(te.RENDER.DETAILS.ENVIRONMENT),e.save(te.RENDER.DIAGNOSTIC.OMID_UNRENDERED),g(i),ee.getAggregator().on(De.OmidRendGeoUpdate,(function(){l()})),ee.getAggregator().on(De.OmidRendVideoStart,(function(){l()})),c.omidEarlyExit&&(ee.getAggregator().on(De.OmidImpressionArrived,(function(){l()})),ee.getAggregator().on(De.OmidLoadedArrived,(function(){l()})))):Nt.isOmid()||Nt.isVideo()?(ee.getAggregator().trigger(De.EligibleRender),e.save(o.details),ee.getAggregator().trigger(De.AdRendered),g(o)):(g(i),Oe(g,i,e))}}};const Oe=function(e,t,n){ee.getAggregator().on(De.PrimaryAdFound,(function(r){let i;const o=Se();let a=!0;const s="data-ias-rend-bi",c=function(e){e&&(e.status="1"),ee.getAggregator().trigger(De.AdRendered)},u=function(e){let t=!0;const r=$.isDef(e.naturalWidth)?e.naturalHeight*e.naturalWidth:0,i=getComputedStyle(e),o=0===e.src.length&&tn.contains(i.content,"url"),a=e.getAttribute&&e.getAttribute(s);return r>0&&!o&&(t=!1),"false"===a&&(n.save("cs"),t=!1),o&&!a&&function(e,t){n.save("cs");const r=/url(?:\(['"]?)(.*?)(?:['"]?\))/.exec(t.content),i=r&&r[1],o=Mt.createImage(),a=e;o.onload=function(){o.naturalHeight*o.naturalWidth>0&&a.setAttribute&&a.setAttribute(s,!1)},o.src=i,a.setAttribute(s,!0)}(e,i),t},d=function(){i?Yt.clearInterval(i):a=!1};ee.getAggregator().on(De.EvaluateCreativeFinderResult,(function(r){let i;Mt.isNodeXDomainIframe(r)?(d(),t=function(t){const r={},i="readystatechange",o="load",a=Yt.getDoc(),s="complete"===a.readyState,u=function(s){const d=s&&s.type;(d===i&&"complete"===s.target.readyState||d===o)&&(c(r),n.saveNode(t),"readystatechange"===d?n.save("dr"):"load"===d&&n.save("lf"),e(r),bt.removeEvent(t,o,u),bt.removeEvent(a,i,u))};return s?(c(r),n.saveNode(t),n.save("dr")):(bt.addEvent(t,o,u,void 0),bt.addEvent(a,i,u,void 0)),r}(r)):r?(function(e){let t=!1;const r=Mt.getRect(e);return e&&"IMG"===Mt.getNodeName(e)&&u(e)&&(t=!0,n.save("bi")),!t&&r.width>=20&&r.height>=20}(r)&&(c(t),d()),n.saveNode(r)):(i=o.getClosestContainerName()||n.getAdNodeName(r)||t.details,n.save(i)),e(t)}));const g=function(){const e=r&&r.getAdNode();try{o.find(e)}catch(e){ee.getAggregator().trigger(De.RenderDiag,e)}},l=ee.getAggregator().request(Ne.MobileApp);l&&l.isMobileAppEnvironment&&l.isMobileAppEnvironment()&&Nt.isMraid()?function(e,n){const r=Yt.getWindow().mraid,i=r&&r.getState&&r.getState(),o="ready",a=t,s=function(){bt.removeEvent(r,o,s),n.save("env"),n.save("mr"),ee.getAggregator().trigger(De.AdRendered),e({status:"1"})};n.save("env"),"default"===i?(ee.getAggregator().trigger(De.AdRendered),n.save("md"),a.status="1"):"loading"===i?(bt.addEvent(r,o,s,void 0),n.save("ml")):(bt.addEvent(r,o,s,void 0),n.save("mu")),e(a)}(e,n):(g(),a&&(i=Yt.setInterval(g,500))),ee.getAggregator().trigger(De.EligibleRender)}))};var De,we,Ne,be,Ce=function(){"use strict";var e=[],t=[],n=function(e){var t;if(Mt.isWindow(e))t="WINDOW";else if(Mt.isNodeXDomainIframe(e))t="XIFRAME";else try{t=Mt.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return $(t).each((function(e,t){n.push(t)})),$(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&Mt.getRect(e),a=e&&Mt.hasBackgroundImage(e),s=e&&e.children&&0===e.children.length,c=e&&e.innerText&&e.innerText.length>0,u=s&&c,d=o&&o.width>=te.RENDER.WIDTH_THRESHOLD&&o.height>=te.RENDER.HEIGHT_THRESHOLD?te.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:te.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE;t.push(i),t.push(d),a&&t.push(te.RENDER.DIAGNOSTIC.STYLED_NODE),u&&t.push(te.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},Re=function(t){"use strict";var n,r=!1,i=!1,o="1",a="0",s=function(){r=!0,u()},c=function(e){n=e,u()},u=function(){ee.getAggregator().trigger(De.AddOutputItem,{output:!n&&r?o:a},be.MeasurableForRender),n&&n.message&&!i&&(__IntegralASDiagnosticCall("renderloop",n,e),ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,"rle",1),i=!0)};ee.getAggregator().on(De.EligibleRender,s),ee.getAggregator().on(De.RenderDiag,c),u()},_e=function(){"use strict";return{applies:function(e,t){var n=ee.getAggregator().request(Ne.MobileApp);return(e.browserIs(te.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(te.BROWSERS.WEBKIT)||e.browserIs(te.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},Me=function(){"use strict";var e,t,n=!1,r=ee.getAggregator().request(Ne.Page),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,ee.getAggregator().trigger(De.SendDt,te.DT_CODES.LARGE_BILLABLE))};ee.getAggregator().on(De.PrimaryAdFound,(function(t){e=t.getDims().area()>=te.MRC_LARGE_AD_SIZE,i()})),ee.getAggregator().on(De.ImpressionSent,(function(){t=!0,i()})),r.onHiddenChange(i)},Pe=function(){"use strict";var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},r={omidObstructions:["sl","percentInView","reason"]};ee.getAggregator().on(De.NewScreenEvent,(function(r){var o=$(r).selectProperties($(n).keys()),a=$(o).asStrings(),s=$(a).compareTo(t);(s=i(s))&&JSON.stringify(s)!==JSON.stringify({})&&(s.t=Nt.getTagTime(),e.push(s)),$(t).mixin(a)}));var i=function(e){return $(r).each((function(t,n){var r=!1;$(n).each((function(t,n){e[n]&&(r=!0)})),!1===r&&delete e[t]})),e};return{toString:function(){return $(e).toION(n)}}},Ve=function(){"use strict";var e=new Ge,t=new Fe;return $(e).mixin(t)};!function(e){e.AdComponentAdded="adComponentAdded",e.AdComponentClicked="adComponentClicked",e.AdComponentTouchEnd="adComponentTouchEnd",e.AdComponentTouchStart="adComponentTouchStart",e.AdComponentMousedOver="adComponentMousedOver",e.AdComponentMousedOut="adComponentMousedOut",e.AdComponentPointerUp="adComponentPointerUp",e.AdComponentPointerDown="adComponentPointerDown",e.AdComponentRemoved="adComponentRemoved",e.AdImpression="adImpression",e.AdRendered="adRendered",e.AdSessionComplete="adSessionComplete",e.AdUserInteraction="adUserInteraction",e.AdVideoComplete="adVideoComplete",e.AdVideoStart="adVideoStart",e.AddNode="addNode",e.AddOutputItem="addOutputItem",e.AddThrottledOutputItem="addThrottledOutputItem",e.AddThrottledProp="addThrottledProp",e.AddToSpg="addToSpg",e.Blur="blur",e.CreativeFinderBatchCompleted="creativeFinderBatchCompleted",e.DeferredAdSessionReady="deferredAdSessionReady",e.DelayedViewabilityReady="delayedViewabilityReady",e.DelayedViewabilityReadyCallOnly="delayedViewabilityReadyCallOnly",e.DtEnterQueuingMode="dtEnterQueuingMode",e.DtExitQueuingMode="dtExitQueuingMode",e.DtReportDtsNotAllowed="dtReportDtsNotAllowed",e.EligibleRender="eligiblerender",e.EndAdSession="endAdSession",e.Error="error",e.EvaluateCreativeFinderResult="evaluateCreativeFinderResult",e.Exec="exec",e.GetJSON="getJSON",e.ImpressionSent="impressionsent",e.InternallyGeneratedGeometryEvent="internallyGeneratedGeometryEvent",e.IoPivChange="IOPivChange",e.JSONP="jsonp",e.MarkTime="markTime",e.Measurable="measurable",e.MeasureTime="measureTime",e.NewScreenEvent="newScreenEvent",e.NewState="newState",e.NodesAdded="nodesAdded",e.Notify="notify",e.OmidAdDuration="omidAdDuration",e.OmidImpressionArrived="omidimpressionarrived",e.OmidLoadedArrived="omidloadedarrived",e.OmidRendGeoUpdate="omidrendgeoupdate",e.OmidRendVideoStart="omidrendvideostart",e.PerfCheckpoint="perfCheckpoint",e.PreSendDt="preSendDt",e.PrimaryAdFound="primaryadfound",e.RenderDiag="renderdiag",e.Send="send",e.SendDiag="sendDiag",e.SendDt="sendDt",e.SendMinDt="sendMinDt",e.StartViewabilityLoop="startViewabilityLoop",e.StopAdTalk="stopAdTalk",e.Unload="unload",e.UpdateDtCount="updateDtCount",e.VideoBlockResult="videoBlockResult",e.VideoQuartileEvent="videoQuartileEvent"}(De||(De={})),function(e){e.BEFORE_UNLOAD="beforeunload"}(we||(we={})),function(e){e.AdNode="adNode",e.AdProxy="adProxy",e.AdRenderStatus="adRenderStatus",e.AdSlotIDs="adSlotIds",e.AdTalkEventAggregator="adTalkEventAggregator",e.AdTalkMessage="adTalkMessage",e.AdTalkMessageCollection="adTalkMessageCollection",e.AncestorOrigins="ancestorOrigins",e.Browser="browser",e.Communication="mComm",e.Context="context",e.Errors="mErrors",e.Features="features",e.FrameCollection="frameCollection",e.IDMapModule="idMapModule",e.IDS="ids",e.IframeCalculatorHelper="iframeCalculatorHelper",e.InterFrameQuerySelector="interFrameQuerySelector",e.IsFullyInViewProvider="isFullyInViewProvider",e.JobFactory="jobFactory",e.JSONP="mJsonp",e.MobileApp="mobileApp",e.OmidAdSessionContext="omidAdSessionContext",e.OmidAdSessionVerificationParameters="omidAdSessionVerificationParameters",e.OmidVerificationClient="omidVerificationClient",e.OmidVideoEventsString="omidVideoEventsString",e.Page="mPage",e.PageURLS="pageUrls",e.PerfActive="perfActive",e.ScreenEvents="mScreenEvents",e.TCString="tcString",e.UseYieldSearch="useYieldSearch",e.Video="video",e.VideoChannel="vc",e.VideoTranslator="videoTranslator",e.VideoVersion="videoVersion",e.Viewability="viewability",e.ViewabilityDefinitions="viewabilityDefinitions"}(Ne||(Ne={})),function(e){e.AdHeight="adHeight",e.AdWidth="adWidth",e.AppSDKsDetected="sdk",e.B11="b11",e.BadURLNoPeriod="bunp",e.BapiClient="bapiClient",e.BootstrapperApp="app",e.BootstrapperMobAppWebview="maw",e.BootstrapperMobOrTab="mot",e.BrowserIs="browserIs",e.CmpApi="cmpApi",e.CNod="cnod",e.ContextNode="contextNode",e.CustomMetricInViewReason="cmr",e.ProtectedAudienceApi="paapi",e.GeometryEventsReceived="og",e.Initial="initial",e.Length="length",e.MainFunctionStartedNow="mtim",e.Mapp1ExclusionListMatch="xlu",e.MatchedMobileAppDetectionRule="drul",e.MeasurableForRender="rmeas",e.MetricId="metricId",e.MetricIdEventCall="scm",e.MetricIdList="metricIdList",e.MismatchOfIntegratedBlockingTagTypes="smm",e.MobAppWebview="mobAppWebview",e.MobOrTab="mobOrTab",e.MobApp="app",e.MobileAppEnvironment="mapp",e.MobileFWURL="mobFwUrl",e.MRAIDInjectionStatus="mi",e.OMIDAppMeasurement="oam",e.OMIDRenderedIndication="oren",e.OMIDSessionError="oser",e.OMIDSessionFinish="osef",e.OriginalMobOrTab="origMobOrTab",e.Performance="prf",e.PluginDecoded="pd",e.PluginList="pl",e.SafeFrame="sf",e.SafeFrameHostURL="sfhu",e.SafeFrameInvalidHostURL="sfiv",e.Slid="slid",e.StaticConfigRequestTime="scq",e.StaticConfigResponseTime="scs",e.StaticImpressionRFWCallRequestTime="siq",e.StaticImpressionRFWCallResponseTime="sis",e.StaticUsedConfigAndBlockingRequest="scb",e.TagDeliveryType="tdt",e.ThirdPartyDataLookup="tpiLookup",e.VideoBreakPosition="vbp",e.VideoChannel="vc",e.VideoPlayerState="vps"}(be||(be={}));const Fe=function(){"use strict";const e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){const r=e[t];r&&r.run.apply({},n)},i=function(e,n,r){let i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),$(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new Le,e[t].push(n,r)};return{on:function(e,t){let n={};t?n[e]=t:n=e,$(n).each(o),$(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){const t=$(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){const t=$(arguments).toArray();t.shift(),n(e,t),r(e,t)}}};var xe=function(){"use strict";var e=function(t,n,r){var i,o,a=n.length,s=Mt.isWindow(t)?t.frames:Mt.getChildWindowsOf(t);if(r&&r(t,n),s&&s.length){for(i=0;i<s.length;i++)(o=s[i])&&Mt.isWindow(o)&&(n[a]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){Mt.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),$(r).filter(e)}}};const Le=function(){"use strict";const e=[];return{push:function(t,n){let r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){const t=arguments;$(e).each((function(e,n){n.apply({},t)}))}}};var Ue=function(e){"use strict";var t={};return{doEligibleJobs:function(n){$(e).each((function(e,r){var i=r&&r.getTime();$.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},ke=function(){"use strict";var e,n=new We;return{listen:function(r,i,o){e=function(e){!function(e,t,r,i){var o,a,s,c;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),a=e.source,c=$.noop,t(o)&&(i&&(s=i(a,o))&&(c=function(){n.send((function(){return s}),a)}),r(e,o,c))}catch(e){o&&ee.getAggregator().trigger(De.Error,te.ERROR_CODES.MESSAGE_LISTENER)}}(e,r,i,o)},bt.addEvent(t,"message",e)},stop:function(){e&&bt.removeEvent(t,"message",e),e=null}}},We=function(){"use strict";return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return $(e).isObj()?[e]:(new xe).getFrames(e)}(t);$(n).each((function(t,n){var r,i=$.resolve(e,n)||{};i.sentTime=Yt.now(),r=function(e){return $(e).mapToObj((function(e,t){var n;return $.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage($(r).JSONStringify(),"*")}))}}}},Be=function(e){"use strict";var t=0,n={},r=function(e,n,r){if($.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=$.resolve(e.output);return this.props.asION&&(t=$(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=$(e.output).isObj()&&!i.asION,a=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?$(e.output).each((function(e,t){a({output:t},e,i)})):a(e,t,i)};return e.on(De.AddOutputItem,(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),$.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}};const Ge=function(){"use strict";const e={},t=(t,n)=>{e[t]=n};return{request:function(t){let n;const r=e[t],i=$(arguments).toArray();return i.shift(),$.isUndef(r)||(n=$.isFunction(r)?r.apply({},i):r),n},provide:(e,n)=>(n?t(e,n):$(e).each(t),n)}};var He=function(){"use strict";return{createInstance:function(e,t,n,r){return Nt.isDomless()?new qe:new je(e,t,n,r)}}},je=function(e,t,n,r){"use strict";var i,o=function(e,t){return{viewState:te.NA,posViewState:te.NA,embedded:Nt.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),a=t.getOutOfViewReasons(),s=n.isHidden(),c=r.isDeviceTypeGroupMobile()&&i?i:_t(Mt.calcWinDims()),u=t.getDims();return i=c,t.hasAd()&&c.hasValidDims()&&u.hasValidDims()?(!0===s&&a.push(te.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:c,adDimensions:u,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:a.length?te.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:a.join("."),obstructed:$.stringifyTriState(t.isObstructed()),isHidden:$.stringifyTriState(t.isHidden()),tabHidden:$.stringifyTriState(s),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(c,u)}}},qe=function(){"use strict";return{collect:function(){return{}}}},Ye=function(e){"use strict";e=e||$.identity;var t=[],n=Yt.now(),r=function(){var e=Yt.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}};const Ke=function(e,t){"use strict";const n=e||1;let r,i=0,o=0,a=0;return{start:()=>{i%n==0&&(r=Yt.now())},stop:()=>{const e=r||t;i%n==0&&(a+=Yt.now()-e,o++),i++},getTime:()=>a,getCount:()=>o}};var Xe=function(){"use strict";var e,t=0,n=0,r=new Fe(!0),i=function(){e&&(t++,r.trigger(t),n>t?Yt.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=$.collapseArgsIntoHash(e,t);$(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,Yt.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},Je=function(e){"use strict";var t,n=0,r=Nt.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=Nt.getTagTime(),o=!1},mark:function(){t=o?Nt.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=Nt.getTagTime(),o=!0}}};const ze=function(t,n){"use strict";const r=q.baseUrls;let i=t||r.fwEventBaseUrl||r.cmEventBaseUrl;i&&0===i.indexOf("http")||(i=0===i.indexOf("//")?e.protocol+":"+i:e.protocol+"://"+i);const o=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(i)||[],a=o[1]?o[1]:"",s=o[2]?o[2]:"",c=o[3]?o[3]:"";let u=o[4]?o[4]:"",d=o[5]?o[5]:"",g=t&&o[6]?o[6]:"",l=o[7]&&n?o[7]:"";const f={},p=function(e){return"string"==typeof e&&(u=e),u},m=function(e){return"string"==typeof e&&(d=e),d},h=function(t,n){const r=t+"="+$(n).toION();return $.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)},v=function(){const e=$(f).isEmpty()?"":$(f).stringify(h,"&");return"?"+l+(l&&e?"&"+e:e)};l=l?l.replace(/&$/,""):"";return{appendToParamValue:function(e,t){let r,i,o,a;const s=f[e];s?f[e]=s+t:n&&l.length&&(r=l.split(e),a=r.length>1,a&&(i=r[1].split("&")[0],o=[r[0],i].join(e),l=l.replace(o,o+t)))},fullDom:a,hostname:c,sub:p,master:m,setParam:function(e,t){f[e]=f[e]||{},"string"==typeof t||"number"==typeof t?f[e]=t:$(f[e]).mixin(t)},path:function(e){g=e},toString:function(){const e=p()?p()+".":"",t=g?"/"+g:"",n=l||!$(f).isEmpty()?v():"";return s+"://"+e+m()+t+n}}};var Qe=function(){"use strict";var e=function(e){var t=[];return $(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=Mt.getAncestorNodes(e);return $(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return Nt.friendly&&!Nt.isMobileApp()&&((n=ee.getAggregator().request(Ne.AdSlotIDs))?r=n:(n=function(){var n,r;return(n=Mt.getOurNodeInTop())&&(r=t(n)),r&&e(r)}(),n&&(ee.getAggregator().trigger(De.AddOutputItem,{output:n},be.Slid,{type:te.DT_CODES.ADTALK,asION:!0}),ee.getAggregator().provide(Ne.AdSlotIDs,n),r=n))),r}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.AD_SLOT_ID)}}()},$e={name:"AdRefreshDetection",dependencies:[],creator:function(){"use strict";var t=[15,20,30,45,60,90],n={start:function(){var t=this,n=e.asid,r=t.parseQuery(),i=t.getCacheId(r);n&&r.chanId&&(this.recordAdSlotImpression(n,r.chanId,i,(function(e,n){e?ee.getAggregator().trigger(De.Error,te.ERROR_CODES.AD_REFRESH):t.sendRefreshSession(n)})),t.registerInternalViewabilityListener(r.chanId,i))},getCacheId:function(t){if(t&&t.cacheId)return t.cacheId;if(e&&e.contextNode){try{const n=e.contextNode.ownerDocument.querySelector("#ias-"+t.cb);if(n)return n.id}catch(e){}if(e.contextNode.nextSibling&&e.contextNode.nextSibling.id)return e.contextNode.nextSibling.id}return null},adRefreshIntervalIsValid:function(e){return-1!==t.indexOf(e)},parseQuery:function(){for(var t=e.reqquery.split("&"),n={},r=0;r<t.length;r+=1){var[i,o]=t[r].split("=",2);""!==i&&(n[i]=o)}return n},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=Yt.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=q.measurementConfig.adRefreshThreshold&&parseInt(q.measurementConfig.adRefreshThreshold)||null,i=Yt.getTop();r&&this.adRefreshIntervalIsValid(r)&&ee.getAggregator().on(De.SendDt,(function(o,a){o!==te.DT_CODES.PING&&o!==te.DT_CODES.CUSTOM||a!==r||(Yt.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,"ir",e),ee.getAggregator().trigger(De.AdSessionComplete)}};return Nt.isRefreshable((function(e,t){var r;if(!e&&t)try{(r=JSON.parse(t)).isRefreshable&&r.adServerName&&n.start()}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.AD_REFRESH)}})),n},settings:{tier:te.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return n.isPossiblyRefreshable()}}},Ze=function(){"use strict";var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(ee.getAggregator().request(Ne.AdNode))return parseFloat(ee.getAggregator().request(Ne.VideoVersion))};return{isApplicable:function(e,t){return!function(e){return e.isVideo()&&!(e.isMraid()||e.isOmid())&&r()<3.7}(t)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=Yt.getWindow().location.ancestorOrigins,t=!0}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return $.last(e)},sendOriginList:function(){var t;t="ao:"+(e?$(e).map(n).reverse():[]).join(","),ee.getAggregator().trigger(De.AddOutputItem,{output:t},be.ThirdPartyDataLookup,{type:te.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),ee.getAggregator().trigger(De.SendDt,te.DT_CODES.THIRD_PARTY)}}},et=function(t,n,r,i,o){"use strict";var a=function(e,t,n){o.addItem({output:e+"."+t+"."+n},"ctpl")},s=function(e){try{n.diagnostic("c");var o=e.length,s=0,c=0;a(o,0,0),$(e).each((function(e,n){t.send(function(e){return e.replace("%%CBS%%",i.getCacheBustId())}(n),(function(){a(o,s,++c)}),!0),a(o,++s,c)}))}catch(e){r.add(te.ERROR_CODES.AT_SEND)}};return{init:function(){try{var n=(new ze).fullDom;"/"!==n.slice(-1)&&(n+="/"),n+="tpl?asId="+e.asid,t.jsonp(n,s)}catch(e){r.add(te.ERROR_CODES.AT_INIT)}}}},tt=function(t,n,r,i){"use strict";return{enabled:"true"===e.useBapiCallback,callback:function(n){r.trigger(De.SendDiag);try{"true"===e.accountForSadImps&&i.measure(n),e._onAPIResult&&e._onAPIResult(n)}catch(e){t.add(te.ERROR_CODES.BAPI_CALLBACK),r.trigger(De.SendDiag,"bapiClient")}}}},nt=function(){"use strict";return{createInstance:function(e,t,n,r){return Nt.isDomless()?new it:new rt}}},rt=function(){"use strict";var e=te.BROWSERS,t=function(){var t="u",n=Yt.getWindow();try{$.isDef(n.opr)&&n.opr.addons||$.isDef(n.opera)&&$.isDef(n.opera.buildNumber)?t=e.OPERA:$.isDef(n.mozInnerScreenY)?t=e.GECKO:$.isDef(n.chrome)&&$.isDef(n.chrome.csi)?t=e.CHROME:$.isDef(n.msWriteProfilerMark)&&$.isDef(n.crypto)?t=e.MSEDGE:$.isDef(n.WebKitPoint)?t=e.WEBKIT:($.isDef(n.attachEvent)||$.isDef(n.msCrypto))&&(t=e.IE)}catch(e){}return t},n=function(){var e="";try{var t=Yt.getWindow();$.isDef(t.navigator)&&$.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent)}catch(e){}return e},r=function(){var t=n().toLowerCase();return t.indexOf(" opr/")>-1?e.OPERA:t.indexOf("firefox")>-1?e.GECKO:t.indexOf("edg")>-1?e.MSEDGE:t.indexOf("chrome")>-1?e.CHROME:t.indexOf("webkit")>-1?e.WEBKIT:t.indexOf("msie")>-1?e.IE:encodeURIComponent(t)||"_"};return{browserIs:function(e){return t()===e},hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=Yt.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=Yt.getWindow();return!(!e||!$.isFunction(e.postMessage))},getBrowserType:t,getBrowserTypeByUA:r,getUserAgent:n,params:function(){return{br:t(),bru:r(),an:(e=te.NA,n=Yt.getWindow(),$.isDef(n.navigator)&&$.isDef(n.navigator.appName)&&(e=n.navigator.appName.toLowerCase()[0]),e)};var e,n},isAndroidWebViewBrowser:function(){var e=n();return tn.contains(e,"Android")&&$(["Line","SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return tn.contains(e,n)}))},getIOSVersion:function(){var e,t,r,i=n();return i&&(e=i.match(/OS\s\d+/))&&e.length>0&&(r=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),r}}},it=function(){"use strict";var e=function(){return!1};return{getBrowserType:()=>"u",getBrowserTypeByUA:()=>"d",getIOSVersion:()=>{},params:()=>({br:"u",bru:"d",an:te.NA}),browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}},ot=function(){"use strict";return{createInstance:function(e,t){return Nt.isDomless()?new ct(t):new st(e,t)}}},at=function(){"use strict";var t;return{isApplicable:function(n){var r=!(!(t=ee.getAggregator().request(Ne.OmidAdSessionContext)).app||!t.isDisplay||t.isWeb),i=n&&n.indexOf("/blocking/")>-1&&!Nt.integratedBlockingApplies(n),o=1!=e.forceNoIframe;return r&&i&&o},deployBlockingScriptIntoIframe:function(n){t=ee.getAggregator().request(Ne.OmidAdSessionContext);var r,i="iasbi"+e.asid,o=function(t,n){var r,i,o,a=e[be.ContextNode].parentNode,s="about:blank",c=e.adWidth&&e.adWidth>0?e.adWidth:0,u=e[be.AdHeight]&&e[be.AdHeight]>0?e[be.AdHeight]:0,d=Yt.getDoc().getElementsByTagName("ins"),g=0,l=0;d&&d.length>0&&(o=d[0],g=parseInt(o.style.width),l=parseInt(o.style.height));var f=g||c||window.innerWidth,p=l||u||window.innerHeight;return"complete"===Yt.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?((r=Yt.getDoc().createElement("IFRAME")).id=t,r.src=s,a.appendChild(r)):Yt.getDoc().write('<iframe id="'+t+'" src="'+s+'"></iframe>'),(i=Yt.getDoc().getElementById(t))&&(i.style.width=f+"px",i.style.height=p+"px",i.scrolling="no",i.frameborder=0,i.style.position="absolute",i.style.padding=i.style.margin=i.style.border="0px"),i}(i);o&&(r=o.contentWindow.document)&&(r.open().write(function(e,t){var n,r="",i="",o=Yt.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var a=0;a<n.attributes.length;a++)r+=" "+n.attributes[a].nodeName+'="'+n.attributes[a].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'" referrerpolicy="'+te.REFERRER_POLICY+'"><\/script>'+i+"</body></html>"}(i,n)),r.close())}}},st=function(r,i){"use strict";var o=function(t,r,i,o){var a,s;const c=ut({url:r});r=c||r,"script"!==t?((s=n.createElement("DIV")).innerHTML=i,a=s.childNodes[0]):((a=n.createElement("SCRIPT")).src=r,o&&(a.onload=o)),e[be.ContextNode].parentNode.appendChild(a)},a=function(r,i,a){var s,c,u,d="",g=function(e){const t=ut({url:e});return' src="'+(e=t||e)+'"'}(i),l=' referrerpolicy="'+te.REFERRER_POLICY+'"';Nt.doesPageAllowAppendedScripts()&&a&&(c="__IntegralASEventLoadHandler_"+e.asid.replace(/-/g,""),t[c]=a,d=function(e){return' onload="'+e+" && "+e+'()"'}(c)),u={script:['<script type="text/javascript"',d,g,l,"><\/script>"],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"',d,g,l,"></iframe>"],img:["<img",d,g,l,"/>"]}[r].join(""),Nt.isOmid()?(s=new at).isApplicable(i)?s.deployBlockingScriptIntoIframe(i):o(r,i,u,a):("loading"!==Yt.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?o(r,i,u,a):n.write(u))},s=function(e,t,n){var r,i=!n&&bt.getXHR2();const o=ut({url:e});e=o||e,i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=Mt.createImage(),t&&(r.onload=t),r.src=e.toString())},c=function(e,t){var n=bt.getXHR2();const r=ut({url:e});e=r||e,n&&(n.open("GET",e),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&t)try{var e=JSON.parse(n.responseText);t(e)}catch(e){return}},n.send())},u=function(e,t,r,i){const{contextNode:o,measurementConfig:a}=q;var s="text/javascript",c=Yt.getDoc(),u=c&&"loading"===c.readyState,d=a&&a.isStaticMode,g=n.createElement("script");const l=ut({url:e}),f=o&&o.dataAttributes,p="true"===(f&&f.iasForceAppend);let m=o&&o.element&&o.element.parentNode;if(a&&a.isStaticFrameInFrame&&o&&o.element&&o.element.contentDocument&&(m=(c=o.element.contentDocument).body),r=r||m,e=l||e,g.type=s,g.src=e,g.referrerPolicy=te.REFERRER_POLICY,t&&(g.onload=t),i&&(g.setAttribute("defer",""),g.setAttribute("async","")),d&&u&&!p){const t=`<script type="${s}" src="${e}"><\/script>`;c.write(t)}else $.isDef(r)&&r.appendChild(g)},d=function(t){if($.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new ze(t,!0).toString();s(n,void 0,!0)}},g=function(e,t,n,r){u(i.wrap(e,t,n,r))};return ee.getAggregator().on({[De.AddNode]:a,[De.Send]:s,[De.Exec]:u,[De.Notify]:d,[De.GetJSON]:c,[De.JSONP]:g}),{addNode:a,send:s,exec:u,notify:d,getJSON:c,jsonp:g}},ct=function(t){"use strict";var n=function(e,t){t=t||e,e=arguments.length>1?e:"script";const n=ut({url:t});t=n||t,t=encodeURI(t);var r=ee.getAggregator().request(Ne.OmidVerificationClient);r["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},r=function(e,t){const n=ut({url:e});e=n||e,e=encodeURI(e),ee.getAggregator().request(Ne.OmidVerificationClient).sendUrl(e.toString(),t||function(){})},i=function(e,t){var n=ee.getAggregator().request(Ne.OmidVerificationClient);const r=ut({url:e});e=r||e,e=encodeURI(e),n.injectJavaScriptResource(e,t||function(){})},o=function(t){if($.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n=new ze(t,!0).toString();r(n)}},a=function(e,n,r,o){i(t.wrap(e,n,r,o))};return ee.getAggregator().on({[De.AddNode]:n,[De.Send]:r,[De.Exec]:i,[De.Notify]:o,[De.JSONP]:a}),{addNode:n,send:r,exec:i,notify:o,jsonp:a}};const ut=({url:t})=>{const n=e.iasProxyPartnerDomain;let r,i,o;if("string"==typeof t)i=t;else try{i=t.toString()}catch(e){}if(i&&(o=i.includes("jsconfig.adsafeprotected.com/jsconfig"),Nt.isMSFT()&&!o&&n&&"string"==typeof n)){r=`https://${n}${encodeURIComponent(i)}`}return r};var dt,gt,lt,ft,pt,mt,ht,vt,Et,It,At,St,yt,Tt,Ot,Dt,wt,Nt=(dt=t,gt="undefined"==typeof window,lt=function(){return gt},ft=void 0!==dt&&"undefined"!=typeof top&&dt!==top,pt=function(){var e=!1;if(lt())e=!0;else try{e=!!top.document}catch(e){}return e}(),ht=function(){return!lt()&&$.isDef(Yt.getWindow().mraid)},Et=function(){var e=!1;if(!lt()){var t=Yt.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,r=t&&n&&$.isFunction(n.addVideoEventListener);e=ht()&&!!r}return e},Tt=function(t){return!1!==$(e.customViewability).isArray()&&$(e.customViewability).filter((function(e,n){return tn.contains(n.id,t)})).length>0},Ot=function(){return e.use100v},{embedded:ft,friendly:pt,isFriendlyToParent:function(e){var t,n;if(lt())t=!0;else{try{n=ze(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:ft&&pt,xDomainIframe:ft&&!pt,getTagTime:function(){return Yt.now()-q.measurementConfig.birthdate},getPageTime:function(){var e=te.NA;return!lt()&&$.isDef(dt.chrome)&&$.isDef(dt.chrome.csi)&&$.isFunction(dt.chrome.csi)&&(e=Yt.round(dt.chrome.csi().pageT)),e},isVideo:At=function(){const t=e.mode&&e.mode.includes("jsvid")||q.adTag.tagType&&q.adTag.tagType.includes("jsvid"),n=(e.mode&&e.mode.includes("amtjs")||q.adTag.tagType&&q.adTag.tagType.includes("amtjs"))&&e.videoId&&""!==e.videoId;return Boolean(t||n||vt()||Et()||It())},isMobileApp:mt=function(){return lt()||$.isDef(Yt.getWindow().mraid)},isSpecifiedAd:function(){var t=!1;if(!lt()){var n=$.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container")||e._cl_adpath;t=n&&$.isStr(n)}return t},isCompoundAd:function(){var t=!1;if(!lt()){var n=e._cl_adpath,r=/\[(.*)\]/.exec(n);t=null!==r&&0!==r[1].length&&r[1].split(",").length>1}return t},isOmid:function(){var t=ee.getAggregator().request(Ne.OmidVerificationClient);return t&&t.isSupported()&&!e.videoId},isOmidNative:function(){return(new pr).accepts()},isOmidSandboxedEnvironment:function(){return(new pr).accepts()},isOmidForWeb:function(){return(new Wn).accepts()},isOmidVideo:vt=function(){var e=ee.getAggregator(),t=e.request(Ne.OmidVerificationClient),n=!1,r=e.request(Ne.OmidAdSessionContext);return t&&r&&(n=r.mediaType===te.MEDIA_TYPE.VIDEO),n},isOmidAudio:function(){var e=ee.getAggregator(),t=e.request(Ne.OmidVerificationClient),n=!1,r=e.request(Ne.OmidAdSessionContext);return t&&r&&(n="audio"===r.creativeType),n},isDomless:lt,isBustedIframe:function(){var e=!1;return lt()||(e=void 0!==zr()),e},isMraid:ht,isSafeFrame:function(){var e=!1;return lt()||(e=$(Yt.getWindow().$sf).isObj(!1)&&$(Yt.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:Et,isDeviceTypeGroupMobile:yt=function(){return e[be.MobOrTab]},usesIASFullyInViewCustomMetric:function(){return Tt("fiv")||Ot()||!Dt()},usesGroupMCustomMetric:Dt=function(){return Tt("grpm")||Ot()},isCeltra:function(){var e=!1;return lt()||(e=$r().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return Dt()&&yt()},usesZeroPivCustomMetric:function(){return!1!==$(e.customViewability).isArray()&&$(e.customViewability).filter((function(e,t){return $(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=Yt.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!lt()&&!mt()&&!At()&&ft&&"jload"===q.adTag.tagType},integratedBlockingApplies:function(t){var n,r,i,o,a=!1;e.contextNode&&$.isFunction(e.contextNode.getAttribute)&&(n=e.contextNode.getAttribute("data-ias-check-tag"),r=e.contextNode.getAttribute("data-ias-check-done"),o=(i=e.contextNode.getAttribute(te.CALLBACK_IDENTIFIER.toString()))&&$.isFunction(Yt.getWindow()[i]));var s=$.isDef(JSON)&&$.isFunction(JSON.parse),c=e.integration&&(t.indexOf("skeleton.js")>0||t.indexOf("/internal/")>0),u=!0===e.fwMonitoring||"true"===e.fwMonitoring;return s&&c&&("true"===n&&"true"!==r&&o?(a=!0,u&&ee.getAggregator().trigger(De.AddOutputItem,{output:"imgb"},be.MismatchOfIntegratedBlockingTagTypes,{type:"impression"})):(a=!1,u||ee.getAggregator().trigger(De.AddOutputItem,{output:"ibgm"},be.MismatchOfIntegratedBlockingTagTypes,{type:"impression"}))),a},isBlocking:St=function(){return!1===e.fwMonitoring||"false"===e.fwMonitoring},isBlockingSizmekTag:function(){return St()&&tn.contains(e.scriptUrl,"bs.serving-sys.com")},isVastAudio:function(){return e&&e.adsafeSrc&&e.adsafeSrc.indexOf("xmtp=a")>-1},isVastVideo:It=function(){return e&&e.adsafeSrc&&e.adsafeSrc.indexOf("xmtp=v")>-1},isAMZN:function(){return $.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("amazon")},isMSFT:wt=function(){return $.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("bing")},isPageOnShadowDomWhitelist:function(){var t=!1;return(wt()||$.isStr(e.scriptUrl)&&e.scriptUrl.includes("ias_searchshadowdom=true")||$.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("integral.local"))&&(t=!0),t},doesPageAllowAppendedScripts:function(){var e=!0;return wt()&&(e=!1),e}}),bt={addEvent:function(e,t,n,r){"use strict";$.isDef(e.addEventListener)&&("mouseenter"===t?e.addEventListener("mouseover",bt.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",bt.mouseEnter(n),r):e.addEventListener(t,n,r))},removeEvent:function(e,t,n){"use strict";$.isDef(e.removeEventListener)&&("mouseenter"===t?(t="mouseover",n=bt.mouseEnter):"mouseleave"===t&&(t="mouseout",n=bt.mouseEnter),e.removeEventListener(t,n))},mouseEnter:function(e){"use strict";var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){"use strict";if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,r){"use strict";var i,o="";if(r=r||"",n.defaultView&&n.defaultView.getComputedStyle){try{i=n.defaultView.getComputedStyle(e,r)}catch(e){}o=i?i.getPropertyValue(t):o}else e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),o=e.currentStyle[t]);return o},getXHR2:function(e,n){"use strict";var r,i;return $.isDef(t.XMLHttpRequest)?"withCredentials"in(i=new XMLHttpRequest)&&(r=i):$.isDef(XDomainRequest)&&(r=new XDomainRequest),r},whenReady:function(e,t){"use strict";if(Nt.isDomless())Yt.setTimeout((function(){e()}),50);else{var r,i,o=t||(Nt.xDomainIframe?n:Yt.getTop().document),a=this;r=e,i=function(){r(!0)},$.isFunction(n.addEventListener)?"complete"==o.readyState||"loaded"==o.readyState||"interactive"==o.readyState?Yt.execAtEndOfThread(i):a.addEvent(o,"DOMContentLoaded",i,!1):function(e){var t=Yt.setInterval((function(){o.body&&(Yt.clearInterval(t),e())}),50)}(r)}},isSandboxed:function(e){"use strict";var t,n=Yt.getWindow(),r=!1;if("sandbox"in Yt.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=Yt.getDoc();if(e.browserIs(te.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){"use strict";if(e&&$(e.style).isObj()&&$(t).isObj()){var n="";$(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){"use strict";return"absolute"===bt.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},Ct=function(e){"use strict";var t,n,r,i,o,a=Ct.callTypeCounter,s=[te.DT_CODES.ADTALK],c={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10,ADSERVER_MACROS:-11};return i=(t={},n=te.DT_CODES,$(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA","ADSERVER_MACROS"]).each((function(e,r){t[n[r]]=c[r]})),t)[e],o=a&&a[e],$.isDef(o)&&0!==o&&$(s).contains(e)&&(i=i+"."+o),r=a[e],a[e]=$.isDef(r)?r+1:1,{callType:e,enumerator:i}};Ct.callTypeCounter={};var Rt=function(t,n,r,i,o,a,s,c){"use strict";var u,d=0,g=0,l=!1,f=!1,p=!1,m=function(e,t,n,a,c,m){n=n||!r.on("postDts");var h=e===te.DT_CODES.DIAGNOSTIC||e===te.DT_CODES.ADTALK||e===te.DT_CODES.SCA||e===te.DT_CODES.XSCA||e===te.DT_CODES.EXTERNAL||e===te.DT_CODES.LARGE_BILLABLE||e===te.DT_CODES.ADSERVER_MACROS;if(i.impressionIsIdentifiable()&&(h||"n"!==s.getCurrentLoc()))try{var v=q.baseUrls.dtBaseUrl,A=new ze(v,!0),S=Yt.now();ee.getAggregator().trigger(De.PreSendDt,e),v||(A.path(te.DATA_TRANSFER_EVENT),r.on("usedtdomain")&&A.sub(te.DATA_TRANSFER_EVENT)),E(A,e,t),c&&c.field&&A.setParam(c.field,c.value),a||I(A,e),f?u.push({url:A,dtCallTime:Yt.now()-S,additionalCallback:m,useImg:n}):p||ee.getAggregator().trigger(De.Send,A,(function(){g+=1,d=Yt.now()-S,$.isFunction(m)&&m()}),n),e===te.DT_CODES.UNLOAD&&(l=!0),o.cleanup()}catch(t){__IntegralASDiagnosticCall("dt-"+e,t),ee.getAggregator().trigger(De.Error,te.ERROR_CODES.PHONE_HOME)}},h=function(){if(!l){var e=te.DT_CODES.UNLOAD;m(e,-1,!0)}},v=function(e,t){var n={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},i=n[e]||n[q.adTag.tagType];t=t||q.adTag.tagType+"Diag",r.on(t)&&i&&m(te.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:i})},E=function(t,n,r){var a=new Ct(n),s=$.isDef(r)?r:a.enumerator;t.setParam("asId",e.asid);var c={c:i.getCacheBustId(),pingTime:s,time:Nt.getTagTime(),type:n};f&&(c.qd=1);o.filterOutput((function(e){var t=e.minDt&&(!e.type||e.type===n);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),c),t.setParam("tv",c)},I=function(e,t){var i,u,l={};o.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===t}),(function(t,n){e.setParam(t,n.replace(/%3A/g,":"))})),s.fastForward(),function(e){return e===te.DT_CODES.CUSTOM||e===te.DT_CODES.UNLOAD||e===te.DT_CODES.VIDEO_EVENTS||e===te.DT_CODES.FULLY_INVIEW||e===te.DT_CODES.PING||e===te.DT_CODES.VIEWABILITY_READY||e===te.DT_CODES.ADTALK}(t)&&(l.clog=c,Nt.isVideo()&&(u=Nt.isOmid()?"omidVideoEventsString":"videoEventsString",(i=ee.getAggregator().request(u))&&!i.isEmpty()&&(l.ve=i))),t===te.DT_CODES.UNLOAD&&(l.ndt=g),q.adTag&&-1!==q.adTag.tagType.indexOf("jsvid")&&(l.vv=ee.getAggregator().request(Ne.VideoVersion)),l.NULL1=r.output(),l.NULL2=s.stringify(10),l.em=Nt.embedded,l.fr=Nt.friendly,l.e=n.toString(),l.tt=q.adTag.tagType,l.dtt=d,o.filterOutput((function(e){var n=!(e.standalone||e.minDt||e.type&&e.type!==t);return n&&e.oneTime&&(e.flagForRemoval=!0),n}),l),e.setParam("tv",l),e.setParam("br",a.getBrowserType())};return ee.getAggregator().on({[De.SendDt]:function(e,t,n){var r;m(e,$.resolve(t),r,r,r,n)},[De.SendMinDt]:function(e,t){m(e,t,void 0,!0)},[De.SendDiag]:v,[De.UpdateDtCount]:function(){g++},[De.Unload]:h,[De.DtEnterQueuingMode]:function(){u=[],f=!0},[De.DtExitQueuingMode]:function(){u&&u.forEach((e=>{ee.getAggregator().trigger(De.Send,e.url,(function(){g+=1,d=e.dtCallTime,$.isFunction(e.additionalCallback)&&additionalCallback()}),e.useImg)})),f=!1,u=void 0},[De.DtReportDtsNotAllowed]:function({tcfData:t,gdprApplies:n,canMeasure:r}){p=!0,f=!1,u=[];var i=`https://fw.adsafeprotected.com/tc-data/asId=${e.asid}&tcfData=${t}&gdprApplies=${n}&canMeasure=${r}`;ee.getAggregator().trigger(De.Send,i,!1,!0)}}),{send:m,unload:h,diagnostic:v,setViewabilityMod:function(e){e}}},_t=function(e){"use strict";var n,r={},i=!1,o=function(e){return 1===e.nodeType},a=function(){var t=o(e)?Mt.nodeIsHidden(e):0===e.width||0===e.height;return!i&&t},s=function(){var e={};return $(r).each((function(t,n){e[t]=Yt.round(n)})),e},c=function(e){return $.isNumeric(e)||$.isUndef(e)},u=function(){return Yt.round(r.width)*Yt.round(r.height)};return e!==t.parent&&(o(e)?$.isDef(e.getBoundingClientRect)&&(n=Mt.getRect(e),$(r).mixin({x:$.useIfDef(n.x)||n.scrX,y:$.useIfDef(n.y)||n.scrY,scrX:n.scrX,scrY:n.scrY,width:n.width,height:n.height})):r=e),{hasValidDims:function(){return c(r.scrX)&&c(r.scrY)&&$.isNumeric(r.width)&&$.isNumeric(r.height)},toString:function(){var e=s();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:s,getRoundedGeometry:function(){var e={};return $(r).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?Yt.round(n):n})),e},set:function(e,t){r[e]=t},isHidden:a,treatAsPlaceholder:function(){i=!0},area:u,isMrcLarge:function(){return u()>=te.MRC_LARGE_AD_SIZE},isOneByOne:function(){return a()&&u()<=1}}},Mt={findElementsWithSize:function(e){"use strict";var t=[],n=function(e){Mt.getNodeArea(e)<1?$(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){"use strict";var t=this.getRect(e),n=0!==parseInt(bt.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===bt.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){"use strict";var e,t,n;try{t=Mt.browserWindowPosition(),n=Mt.windowSize(),e={scrX:Yt.round(t.scrX),scrY:Yt.round(t.scrY),width:Yt.round(n.width),height:Yt.round(n.height)}}catch(t){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){"use strict";var e,n,r,i={};if(Nt.isDomless())return{width:0,height:0};if(Nt.friendly)if(n=(e=top.document).documentElement,r=e.body,$.isDef(top.innerWidth))i.width=top.innerWidth,i.height=top.innerHeight;else if($.isDef(n.clientWidth))i.width=n.clientWidth,i.height=n.clientHeight;else{if(!$.isDef(r.clientWidth))throw i.width=i.height=0,"";i.width=r.clientWidth,i.height=r.clientHeight}else $.isDef(t.outerWidth)&&(i.width=t.outerWidth,i.height=t.outerHeight);return i},browserWindowPosition:function(){"use strict";var e=0,n=0;e=t.screenX,n=t.screenY;return ee.getAggregator().request(Ne.Browser).browserIs(te.BROWSERS.GECKO)&&-8==e&&-8==n&&(e+=8,n+=8),{scrX:e,scrY:n}},getNodeArea:function(e){"use strict";var t=-1;if(e){var n=Mt.getRect(e);t=n.width*n.height}return t},getRect:function(e){"use strict";var t={},n=Mt.browserWindowPosition(),r=e.getBoundingClientRect();return $.isUndef(r.x)&&(t.x=r.left,t.y=r.top),$.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),$(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getPlaceholderSpan:function(){"use strict";var e=n.createElement("span");return $(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){"use strict";var e=Nt.friendly&&Yt.getTop().Image;return $.isFunction(e)?new e:new Image},createHiddenIframe:function(e){"use strict";var t=Yt.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return bt.styleElement(t,n),t},tagNameIs:function(e,t){"use strict";return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){"use strict";var r,i,o,a,s,c=1e4,u=1e4,d=bt.nodeIsAbsolutelyPositioned(e);if(s=!Mt.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!d&&s&&!Mt.tagNameIs(t,"BODY")){a=e;do{a=a.parentNode,i=!Mt.tagNameIs(a,"OBJECT"),o="inline"!==bt.getStyle(a,"display"),i&&o&&(c=(r=Mt.getRect(a)).width<c?r.width:c,u=r.height<u?r.height:u)}while(a.parentNode!==n&&a!==t)}return{width:Yt.round(c),height:Yt.round(u)}},hasBackgroundImage:function(e){var t=bt.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyFriendlyFrame:function(e){try{var t,n=!1;if(e&&e.document){var r=e&&"IFRAME"===e.nodeName&&e.contentDocument;r&&((t=r.body)&&t.childElementCount<1)&&(n=!0)}return n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=ee.getAggregator().request(Ne.MobileApp).isMobileAppEnvironment(),r=ee.getAggregator().request(Ne.OmidAdSessionContext),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,a=null,s=function(t){var n,r,a,s=null,c=-1,u=null;if(t.length)for(n=0,r=t.length;n<r;n++){var d=t[n],g=Mt.getNodeArea(d),l=!((a=d).parentNode===e&&"DIV"===a.nodeName&&!o(a)&&("0"===bt.getStyle(a,"opacity")||"hidden"===bt.getStyle(a,"visibility")||function(){var e,t,n=a.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));l&&i&&"DIV"===d.nodeName&&(l=!1);var f=Mt.isEmptyFriendlyFrame(d),p="A"===d.nodeName&&0===d.childElementCount&&!o(d)&&"IMG"===u;g>c&&l&&!f&&!p&&(s=d,c=g,u=d.nodeName)}return s&&(s.hasValidSizeForMobileApp=c>1),s}(Mt.collectCandidateElements(e,t||"iframe,img,a,object,embed,div".split(",")));return s&&((a=function(t){for(var r,o,a=t;t.parentNode!==e&&"inline"!==bt.getStyle(t.parentNode,"display");)(!n||(r=t.parentNode,o=void 0,o=!0,("visible"===bt.getStyle(r,"overflow")||"visible"===bt.getStyle(r,"overflowX")&&"visible"===bt.getStyle(r,"overflowY"))&&(o=!1),o&&Mt.getNodeArea(t.parentNode)>0))&&(n&&i&&"DIV"===t.parentNode.nodeName||(a=t.parentNode)),t=t.parentNode;return a}(s)).hasValidSizeForMobileApp=s.hasValidSizeForMobileApp),a},screenSize:function(){"use strict";if(Nt.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{$.isDef(t.screen)&&(e={width:t.screen.width,height:t.screen.height})}catch(e){}return e},calcMonDims:function(){"use strict";var e=$(Mt.screenSize()).mixin({scrX:0,scrY:0});return $.isDef(screen.availLeft)&&(e={scrX:t.screen.availLeft,scrY:t.screen.availTop,width:t.screen.availWidth,height:t.screen.availHeight}),e},getOurIFrameInTop:function(){"use strict";for(var e,t=Yt.getTop(),n=Yt.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){"use strict";var t,n;return Nt.friendly&&(t=Nt.embedded?(n=Mt.getOurIFrameInTop())&&n.frameElement:e.contextNode),t},getAncestorNodes:function(e){"use strict";var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;(r.parentNode||r.host)!==n;)t.push(r),r=r.parentNode||r.host;return t},getTagsNamed:function(e,t){"use strict";var n,r=t||Yt.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){"use strict";return!!$(Mt.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return $.isFunction(e)?e(r):r===e}))},contains:function(e,t){"use strict";var n=!1;try{n=$.isDef(e)&&$.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){"use strict";var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){"use strict";return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){"use strict";e&&$.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){"use strict";e&&$.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(t,n){"use strict";var r,i,o=[e.contextNode.parentNode,Yt.getDoc()];if(Nt.friendly&&o.push(Yt.getTop().document),n&&Nt.embedded)try{o.push(Yt.getWindow().frameElement.ownerDocument)}catch(e){}return $(o).each((function(e,n){try{i=Mt.querySelector(n,t)}catch(e){}!r&&i&&(r=i)})),r},getNodeName:function(e){"use strict";return e&&e.nodeName},isWindow:function(e){"use strict";var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){"use strict";var t=[],n=Mt.getTagsNamed("iframe",e);return n&&(t=$(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){"use strict";var e=Yt.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){"use strict";var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){"use strict";return e.tagName.toLowerCase()},getAttribute:function(e,t){"use strict";return e.getAttribute(t)},attributeMatches:function(e,t,n){"use strict";var r=e&&Mt.getAttribute(e,t);return n.test(r)},isImageTag:function(e){"use strict";return e&&e.src&&Mt.tagNameIs(e,"img")},getDimensionFromStyle:function(e){"use strict";var t,n=bt.getStyle(e,"width"),r=bt.getStyle(e,"height");return n&&r&&(t={width:$.getNum(n),height:$.getNum(r)}),t},getDimensionFromAttributes:function(e){"use strict";var t,n=Mt.getAttribute(e,"width"),r=Mt.getAttribute(e,"height");return n&&r&&(t={width:$.getNum(n),height:$.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){"use strict";var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){"use strict";return e&&e.children&&e.children[0]},isClippable:function(e,t){"use strict";var n=!0,r="fixed"===bt.getStyle(e,"position"),i=!("hidden"===bt.getStyle(t,"overflow"))&&!r;return Nt.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){"use strict";var t=Mt.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==te.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||Mt.hasBackgroundImage(e)||i)},getElementsDocument:function(e){"use strict";return e.ownerDocument||e},getElementsWindow:function(e){"use strict";var t=Mt.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){"use strict";return Mt.getElementsWindow(e)!==Yt.getTop()},getParent:function(e){"use strict";return e.parentNode||e.parent},isNodeXDomainIframe:function(e){"use strict";var t=!1;if(e&&"IFRAME"===Mt.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){"use strict";return 1===e.nodeType},collectCandidateElements:function(e,t){var n,r,i,o,a=[],s=t,c=Nt.isPageOnShadowDomWhitelist();for(n=0,r=s.length;n<r;n++){var u=s[n].toLowerCase(),d=e.getElementsByTagName&&e.getElementsByTagName(u)||[];if(c){var g=e.querySelectorAll&&e.querySelectorAll(u);g&&g.values&&(d=[...new Set([...d,...g.values()])])}if(d&&d.length)for(i=0,o=d.length;i<o;i++)a.push(d[i])}return a}},Pt=function(){"use strict";var e={},t=function(t){$.isDef(e[t])?e[t]++:e[t]=1};return ee.getAggregator().on(De.Error,(function(e){var n=$(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},Vt=function(){"use strict";return{createInstance:function(e,t){return Nt.isDomless()?new xt:new Ft(e,t)}}},Ft=function(t,n){"use strict";var r=function(t){var n=[];if(!(t&&t instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");var r=q.baseUrls,i=r.cmEventBaseUrl,o=r.fwEventBaseUrl;return(n=$(t).map((function(e,t){return t.val}))).push(o,i,e.reqquery),n};return{parse:function(i){try{var o,a=r(i),s=a&&a.length&&a.join("|"),c=e.exchList;s&&(o=$(c).map((function(e,t){return s.indexOf(tn.rot(t))>=0?e:void 0}))).length&&n.addItem({output:o.join(".")},"ex",{type:te.IMPRESSION_EVENT})}catch(e){t.add(te.ERROR_CODES.EXCHANGE_PARSING)}}}},xt=function(){"use strict";return{parse:function(e){}}};const Lt=function(){"use strict";const t={},n=function(n){let r,i,o,a;return $.isUndef(t[n])&&(r=e.jsFeatures,t[n]=!1,-1!==r.indexOf(n)&&(i=new RegExp(n+"(?=$|,)|"+n+":(?!,|$)(.?\\d*(?=,|$))").exec(r),i&&(o=i[1],a=!o,t[n]=a||o>100*Yt.random()))),t[n]},r={es:"everySecond",sc:"usesca",ha:"usehaps",fgad:"forceKeepGoogleAdNode"},i={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:be.B11,cnod:be.CNod},o=function(t){const n=e[t];return $(["integration"]).contains(t)?!!n:!0===n||"true"===n||$.isFunction(n)};$(r).each((function(e,t){n(t)}));return{on:n,bootstrapOn:o,bootstrapperHas:function(t){const n=$.isStr(t)?[t]:t;return $(n).map((function(t,n){const r=n;if(r&&$.isDef(e[r]))return 1})).length===n.length},getEnabledScriptUrl:function(t){const r=n("use"+t),i=e.sp_cdnScripts&&e.sp_cdnScripts[t];return r&&i},setReportedBootstrapFeatures:function(e,t){i[e]=t},reportedBootstrapFeatures:i,output:function(){return $(function(){const e=$(r).mapToObj((function(e,n){const r={};return r[e]=$.fromBoolToNum(t[n]),r})),n=$(i).mapToObj((function(e,t){const n={};return n[e]=$.fromBoolToNum(o(t)),n}));return n.gm=$.fromBoolToNum(Nt.usesGroupMCustomMetric()),$(e).mixin(n)}()).toParams()}}};var Ut=function(){"use strict";te.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),a=Math.min(n.scrX+n.width,r.scrX+r.width)-i,s=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return _t({scrX:i,scrY:o,width:a>0?a:0,height:s>0?s:0})};return{calcInitialViewState:function(e,t){var n,r=te.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},$.isDef(e)&&e!==te.NA&&e>-1&&(r=e>=n.IN_VIEW?te.IN_VIEW:e<=n.OUT_OF_VIEW?te.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?te.PARTIAL_VIEW_PLUS:te.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,a=t;return t.hasValidDims()&&!t.isHidden()&&($([n,r,i]).each((function(t,n){n.hasValidDims()&&(a=e(a,n))})),o=Yt.round(a.area()/t.area()*100)),o}}},kt=function(){"use strict";var n,r,i,o=!1;r=function(){var e="";try{for(var n,r=t.Uint32Array&&t.crypto&&t.crypto.getRandomValues;e.length<32;)r?(n=new Uint32Array(1),t.crypto.getRandomValues(n),e+=n[0].toString(16)):e+=(16*Yt.random()|0).toString(16);e=e.slice(0,32)}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.UID_GENERATION)}return e}(),(i=[]).push(r.slice(0,8)),i.push(r.slice(8,12)),i.push(r.slice(12,16)),i.push(r.slice(16,20)),i.push(r.slice(20)),n=i.join("-");var a=function(){return q.adTag&&q.adTag.anId||""};return{getAsid:function(){return e.asid},getAnId:a,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return $.toBase(n,62)},getFwId:function(){const e=q.adTag&&q.adTag.advEntityId||"",t=q.adTag&&q.adTag.pubEntityId||"";return a()||e+"-"+t},impressionIsIdentifiable:function(e){return e&&(o=!0),o},unq:n}},Wt=function(e,t){"use strict";return{init:function(n){e.jsonp(n,(function(e){t.send(te.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},Bt=function(e,n,r,i,o){"use strict";return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return o?function(){var t=ee.getAggregator().request(Ne.AdRenderStatus),r=i||n,o=e.getTimeInViewInSeconds();t||ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,"nr_"+r,o)}:function(){var o=e.getTimeInViewInSeconds(),a=e.getTimeInViewForRts();if($.isDef(i)&&(ee.getAggregator().trigger(De.AddOutputItem,{output:i},be.MetricId,{type:n}),ee.getAggregator().trigger(De.AddOutputItem,{output:"t"},be.CustomMetricInViewReason,{type:n})),Nt.isMSFT()&&o>0)try{t.postMessage({name:"pingTime",origin:"ias",value:o},"*")}catch(e){}ee.getAggregator().trigger(De.SendDt,n,o),r[a]&&r[a]()}}}},Gt=function(){"use strict";return{createPingJobs:function(e,t,n,r,i){return $(t.getTimeThresholds()).map((function(t,o){return new Bt(o,e,n,r,i)}))}}},Ht=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-q.measurementConfig.birthdate||""}},r=function(){e||(e=ee.getAggregator().request(Ne.ViewabilityDefinitions)),e&&0==t.length&&$(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){ee.getAggregator().trigger(De.AddOutputItem,{output:e.metricId},be.MetricId,{type:te.DT_CODES.CUSTOM}),ee.getAggregator().trigger(De.AddOutputItem,{output:"q"},be.CustomMetricInViewReason,{type:te.DT_CODES.CUSTOM}),ee.getAggregator().trigger(De.SendDt,te.DT_CODES.CUSTOM,t),e.rtsCallbacks&&$.isFunction(e.rtsCallbacks[te.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[te.RTS_KEY_FOR_VQ]()};return{init:function(){r(),ee.getAggregator().on(De.VideoQuartileEvent,(function(e){var o,a,s,c,u;r(),o=new n(e),s=(a=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf($(a).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),c=ee.getAggregator().request(Ne.ScreenEvents).getCurrentEvent(),u=Math.floor(o.time/1e3),$(t).each((function(e,t){var n=t.qivThreshold.indexOf(s);-1!==n&&t.isInView(c)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,u))}))}))}}},jt=function(){"use strict";var n=function(){var t=e.asid;return"__IntegralAS_"+(t&&t.replace(/\-/g,"")||"")+"_"+Yt.round(1e4*Math.random())};return{wrap:function(e,r,i,o){var a,s,c,u=n();(function(e,t){return new RegExp(t).test(e)})(e=""+e,o=o||"ias_callback")&&(a=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(e,o),s=a.split("=")[1],c=tn.stringToFn(s),e=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(e,a));var d=q.measurementConfig.isStaticFrameInFrame?q.contextNode.element.contentWindow:t;return d[u]=function(e){r(e),i&&c&&c(e),d[u]=void 0},e=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(e,o,u),e},wrapToGlobal:function(e){var r=n();return t[r]=function(n){e(n),t[r]=void 0},r}}},qt=function(t,n,r){"use strict";var i=function(t,n){var r,i=t;return n&&(r=","+$(n).stringify((function(e,t){return e+":"+t}),","),(i=ze(t,!0)).appendToParamValue("adsafe_jsinfo",$.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)),i=i.toString()),i},o={jss:{isFW:!0,nodeType:Nt.doesPageAllowAppendedScripts()?"script":"img"},rjss:{isFW:!0,onloadCallback:Xi,impressionMethod:function(e){if(q.measurementConfig.staticMode&&q.staticFeatures.useSingleEvent)ee.getAggregator().trigger(De.JSONP,e+"&format=jsonp",(()=>{}),!1,"cbName");else if(Nt.isAMZN()&&Nt.isBlocking()&&q.measurementConfig.staticMode)ee.getAggregator().trigger(De.AddOutputItem,{output:!0},"ablk"),ee.getAggregator().trigger(De.JSONP,e+"&format=jsonp",(e=>{const{nodeType:t,creativeUrl:n}=e,r=q.measurementConfig.tagDeliveryType===B.Iframe?"iframe":"unknown"===t?"script":t;ee.getAggregator().trigger(De.AddNode,r,n)}),!1,"cbName");else{let t="script";const n=q.measurementConfig.impressionNodeType,r=q.measurementConfig.tagDeliveryType===B.Iframe,i=!Nt.doesPageAllowAppendedScripts()||"string"==typeof n&&"img"===n;r?t="iframe":i&&(t="img"),ee.getAggregator().trigger(De.AddNode,t,e,Xi)}}},amtjs:{isFW:!0,nodeType:"img"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(e){t.enabled?ee.getAggregator().trigger(De.JSONP,e,t.callback,!0):ee.getAggregator().trigger(De.Send,e,(function(){Xi(),ee.getAggregator().trigger(De.SendDiag)}),!n.on("postMon"))}},bapi:{impressionMethod:function(e){var n=t.enabled?t.callback:$.noop,r=!!t.enabled;ee.getAggregator().trigger(De.JSONP,e,n,r)}},jsapi:{isFW:!0,impressionMethod:function(e){var n=t.enabled?t.callback:$.noop,r=!!t.enabled;ee.getAggregator().trigger(De.JSONP,e,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(r){ee.getAggregator().on(De.AdImpression,(function(o,a){var s;try{s=i(r,a),t.enabled?ee.getAggregator().trigger(De.JSONP,s,t.callback,!0):ee.getAggregator().trigger(De.Send,s,$.noop,!n.on("postMon"))}catch(t){__IntegralASDiagnosticCall("jsvidimp",t,e)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(t){var n="false"===e.fwMonitoring;n&&ee.getAggregator().trigger(De.JSONP,function(e){var t=e.split("/");return Nt.isAMZN()?(t[6]="fw",t[7]="db2",t[8]="video"):(t[3]="db2",t[4]="video"),t.join("/")}(t),(function(e){ee.getAggregator().trigger(De.VideoBlockResult,e)})),ee.getAggregator().on(De.AdImpression,(function(r,o){var a,s;try{n&&((s=r)&&$.isBool(s.integral_didBlock)&&s.integral_timeToDecision>=0)&&(t=function(e){var n="$1$2,abc:"+(e.integral_didBlock?1:0)+",abct:"+e.integral_timeToDecision;return t.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(r)),a=i(t,o),ee.getAggregator().trigger(De.Send,a,$.noop,!0)}catch(t){__IntegralASDiagnosticCall("fwjsvidimp",t,e)}}))}},jspix:{nodeType:"img"}};return new function(){var t=o[q.adTag.tagType],n=!!t.isFW,i=function(t){var n,r=q.baseUrls;return n=ee.getAggregator().request(Ne.MobileApp).isMobileAppEnvironment()&&r.mobileAppEventBaseUrl?r.mobileAppEventBaseUrl:t?r.fwEventBaseUrl:r.cmEventBaseUrl,t||(n+="?"+e.reqquery),n}(n),a=i.indexOf("BEGIN__ADSAFE"),s=-1!==a,c=s?i.slice(a):"";return{isFW:n,baseUrl:s?i.slice(0,a):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(i),macroUrl:c,sendImpression:function(e){var n=function(){ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.StaticImpressionRFWCallRequestTime),t.nodeType?ee.getAggregator().trigger(De.AddNode,t.nodeType,e,t.onloadCallback):t.impressionMethod(e)};r||t.manualDefer?n():t.manualDefer||ee.getAggregator().on(De.AdImpression,(function(){n()}))}}}},Yt={execAtEndOfThread:function(e){"use strict";Yt.setTimeout(e,0)},now:function(){"use strict";return(new Date).getTime()},random:function(){"use strict";return Math.random()},round:function(e){"use strict";return Math.round(e)},ceil:function(e){"use strict";return Math.ceil(e)},floor:function(e){"use strict";return Math.floor(e)},min:function(){"use strict";return Math.min.apply(null,arguments)},max:function(){"use strict";return Math.max.apply(null,arguments)},getWindow:function(){"use strict";return t},getTimeoutScope:function(){"use strict";return Nt.isDomless()&&Nt.isOmid()?ee.getAggregator().request(Ne.OmidVerificationClient):t},setInterval:function(e,t){"use strict";return Yt.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){"use strict";return Yt.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){"use strict";Yt.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){"use strict";Yt.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){"use strict";return Number.MAX_VALUE},getTop:function(){"use strict";return Nt.isDomless(),top},getDoc:function(){"use strict";return Nt.isDomless(),n},getIntersectionObserver:function(e,t){"use strict";return Nt.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){"use strict";return Nt.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){"use strict";return Nt.isDomless(),new ResizeObserver(e)},pow:function(e,t){"use strict";return Math.pow(e,t)},getTopmostAccessibleWindow:function(){"use strict";let e=Yt.getWindow();const t=Yt.getTop();for(;e!==t;)try{const n=e.parent;if(n.document,e=n,e===t)break}catch(e){break}return e}},Kt=function(){"use strict";return{createInstance:function(){return Nt.isDomless()?new Jt:new Xt}}},Xt=function(){"use strict";var e,t,n,r,i=!1,o=!1,a=(ee.getAggregator().request(Ne.Features),new Le),s=function(){return $.isDef(e.prop)?Yt.getDoc()[e.prop]:null};return t="hidden",n="visibilitychange",r=Yt.getDoc(),$.isUndef(r.hidden)?$(["moz","ms","webkit"]).each((function(e,o){var a=o+"Hidden";$.isDef(r[a])&&(t=a,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:s,onHiddenChange:function(t){var n,r;a.push(t),o||(o=!0,n=Yt.getWindow(),r=function(){a.run(s())},bt.addEvent(n,"focus",r,!0),bt.addEvent(n,"blur",r,!0),e.event&&bt.addEvent(Yt.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},Jt=function(){"use strict";return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},zt=function(){"use strict";return{createInstance:function(e,t){return Nt.isDomless()?new $t:new Qt(e,t)}}},Qt=function(n,r){"use strict";var i,o=function(e){var t=[["ab","about%3A"],["da","data%3A"],["js","javascript%3A"],["fi","file%3A"],["uu","uuid-in-package"],["cx","chrome-extension%3A"],["lo","http%3A%2F%2Flocalhost"],["lo","https%3A%2F%2Flocalhost"]];if("string"==typeof e&&"null"!==e&&""!==e&&"undefined"!==e){for(var n=0;n<t.length;n++)if(e.startsWith(t[n][1]))return"";if(-1===e.indexOf("."))return ee.getAggregator().trigger(De.AddOutputItem,{output:e.substring(0,40)},be.BadURLNoPeriod,{type:te.IMPRESSION_EVENT}),""}return e},a=function(){var a={};try{a.a=encodeURIComponent(top.location.href)}catch(e){}try{a.b=encodeURIComponent(parent.location.href)}catch(e){}if(Nt.embedded){try{a.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{a.e=encodeURIComponent(t.document.referrer)}catch(e){}}try{"jsi"!==q.adTag.tagType&&(a.d=encodeURIComponent(t.location.href))}catch(e){}try{a.f=encodeURIComponent(e.jsref)}catch(e){}try{var s=r.getWindow();a.q=encodeURIComponent(s.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href||"")}catch(e){}try{n.isStarted()&&n.getMyFrameDepth()>1&&(a.g=encodeURIComponent(n.getTopDomain())),n.isStarted()&&Nt.xDomainIframe&&1===n.getMyFrameDepth()&&(a.y=encodeURIComponent(n.getTopDomain()))}catch(e){}var c="not-set";try{if(Nt.isSafeFrame()){var u=r.getWindow(),d=u&&u.$sf&&u.$sf.ext&&u.$sf.ext.hostURL,g="function"==typeof d&&d();if("string"==typeof g){c=encodeURIComponent(g);var l=!1;"function"==typeof URL?(new URL(g),l=!0):g.startsWith("http")&&(l=!0),l?(a.x=c,ee.getAggregator().trigger(De.AddOutputItem,{output:c},be.SafeFrameHostURL,{type:te.IMPRESSION_EVENT})):ee.getAggregator().trigger(De.AddOutputItem,{output:c},be.SafeFrameInvalidHostURL,{type:te.IMPRESSION_EVENT})}}}catch(e){ee.getAggregator().trigger(De.AddOutputItem,{output:c},be.SafeFrameInvalidHostURL,{type:te.IMPRESSION_EVENT})}a=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=o(e[t]);(""===n||"null"===n||"undefined"===n||null===n||$.isUndef(n))&&delete e[t]}return e}(a),a=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],$.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(a);var f=[];for(var p in a)a.hasOwnProperty(p)&&f.push({key:p,val:a[p]});return f.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),i=f,f};return{detectTopURL:a,getDetectedURLs:function(){return i||a()}}},$t=function(){"use strict";return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},Zt=function(t){"use strict";var n=!1;return{measure:function(r){(n=0===r.rsa)&&t.trigger("notify",e._onSuspicious)},skipAsFraudulent:function(){return n}}},en=function(){"use strict";var e,t,n,r=[],i={},o={sl:"n"},a=0,s={i:0,o:0,n:0,pp:0,pm:0},c=function(e){var t=ee.getAggregator().request(Ne.Features);if(t&&t.on("recoverOmidLostTime")){var n=s.ri;s.ri=n?n+e:e}},u=function(e,t){var n=new Ye(t);return i[e]=n,n},d=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},g=function(){$(o).each((function(e,t){var i=r.length?n-a:n;s[t]+=i})),a=n},l=function(e){r.length&&g(),$(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(s[n]+=s.n),o[e]=t})),r.length||g()},f=function(e){te.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},a=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;return $.isDef(r)&&r.hasValidDims()&&(n.wc=r),$.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions),$({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];$.isDef(i)&&(n[t]=i)})),""===(t=$(n).toParams())?"":","+t}(e),s=e.omidObstructions,c={sl:d(e.viewState)};return n=Nt.getTagTime(),l(c),c.t=n,r=$({toString:function(){return $(i).each((function(e,t){t.fastForward()})),"{"+$(c).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+$(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+$(this.as).stringify(t)+"]")+"}"}}}).mixin(c),$(r).mixin(e),r.width=o.width,r.height=o.height,$.isUndef(r.percentInView)&&(r.percentInView=te.PIV_NA),$.isUndef(r.reason)&&(r.reason=""),$.isDef(s)&&""!==s&&(r.omidObstructions=s),t=r,r};return function(){u("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:($(r).each((function(e,i){$.isUndef(t)&&n<i&&(t=r[e-1])})),$.isUndef(t)&&(t=r[r.length-1])),t})),u("as",(function(e){var t=te.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height}));var e=ee.getAggregator().request(Ne.OmidAdSessionContext);e&&e.recoveredTime>-1&&c(e.recoveredTime)}(),{fastForward:function(){n=Nt.getTagTime(),g()},registerLocation:function(t){var n,a=!1;return o.sl==d(t.viewState)&&r.length?(n=new f(t),r[r.length-1].details=n.details):(n=new f(t),r.push(n),e=t.viewState,a=!0),ee.getAggregator().trigger(De.NewScreenEvent,n),$(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(a&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=$({slTimes:"{"+$(s).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:u,getCurrentLoc:function(){return d(e)},getCurrentEvent:function(){return t},setRecoveredTimeInSlTimes:c,getLatestEvent:function(){var e;return r&&r.length>0&&(e=r[r.length-1]),e}}},tn={hashCode:function(e){"use strict";var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){"use strict";return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){"use strict";var n,r,i=t,o=e.split(".");for(n=0;n<o.length;n++)if(r=i,i=i[o[n]],$.isUndef(i)||n===o.length-1&&!$.isFunction(i))return!1;return function(){i.apply(r,arguments)}},stringToProp:function(e){"use strict";var t,n=Yt.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!$.isUndef(n));t++);return n},contains:function(e,t){"use strict";return!!$.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){"use strict";return $.isFunction(e.trim)?e.trim():e.replace(" ","")}};const nn=function(){"use strict";const e=function(){const e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},t=function(t){const n=Mt.getDimensionFromAttributes(t);return e(n)};return{hasValidDimensions:function(n){return t(n)||function(t){const n=Mt.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t}}(),t=/GoogleActiveViewElement/,n=/DfaVisibilityIdentifier_/,r=/doubleclick.net\/pcs\/click?/,i=/_blank/,o=function(e){const t=e&&Mt.tagNameIs(e,"a"),n=Mt.attributeMatches(e,"href",r),o=Mt.attributeMatches(e,"target",i);return t&&n&&o},a=function(e){const r=Mt.tagNameIs(e,"div"),i=Mt.attributeMatches(e,"class",t),o=Mt.attributeMatches(e,"id",n);return r&&i&&o};return{getDFPGoogleDiv:function(e){return Mt.traverseAndFindFirstMatchingNode(e,a)},getClickableImage:function(t){let n,r;const i=Mt.traverseAndFindFirstMatchingNode(t,o);return i&&(r=Mt.getFirstChildElement(i),Mt.isImageTag(r)&&e.hasValidDimentionAttributes(r)&&(n=r)),n},getNodeMatchingMinimumSize:function(t){return Mt.traverseAndFindFirstMatchingNode(t,e.hasValidDimensions)}}},rn=function(){"use strict";const e=nn(),t=function(e,t){t.tag=Mt.getTagName(e),t.size=Mt.getDimensionFromAttributes(e)||Mt.getDimensionFromStyle(e)};return{getDFPValue:function(n){let r;const i=e.getDFPGoogleDiv(n);return r=i?function(n){let r,i;const o={type:0};return n&&(o.type=1,r=e.getClickableImage(n),r?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n),i&&(o.type=3,t(i,o)))),o}(i):function(n){const r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n),r}}},on={name:"hB",dependencies:[],creator:function(){try{const e=rt().getUserAgent(),t=e.length>0&&-1!==e.indexOf("HeadlessChrome"),n=Yt.getWindow(),r=Yt.getTop(),i=!(!r||!r.document)&&Object.getOwnPropertyNames(r),o=()=>{var e,t;const r=null==n?void 0:n.navigator,i=null===(e=null==r?void 0:r.userAgentData)||void 0===e?void 0:e.brands;return(null===(t=null==i?void 0:i.map((e=>null==e?void 0:e.brand)))||void 0===t?void 0:t.includes("HeadlessChrome"))||!1},a={cdcP:$.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Promise")),cdcA:$.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Array")),cdcS:$.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Symbol")),cyp:$.stringifyTriState(i&&-1!==i.indexOf("Cypress")),wd:$.stringifyTriState($.isDef(n.navigator.webdriver)&&!0===n.navigator.webdriver),uaHC:$.stringifyTriState(t),chHC:$.stringifyTriState(o())},s=1,c=e=>$(e).contains(s),u=function(e){ee.getAggregator().trigger(De.AddThrottledProp,"sca","hbs",$(e).toION())};c(a)&&u(a)}catch(e){}},settings:{tier:4,applies:function(){"use strict";return!0}}},an={name:"viewport",dependencies:[],creator:function(){"use strict";const e={width:4,height:4},t=function(t){return!Mt.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&Nt.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){const e=Yt.getWindow();return n(e,Yt.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){let e;const n=Yt.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},sn=function(e){"use strict";let t,n;const r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){let n=e.innerWidth,o=e.innerHeight,a=!1;r((function(){const r=function(){const t=e.innerWidth,r=e.innerHeight;return t!==n||r!==o}();r&&(a=!0),a&&!r&&(t(),i(),a=!1),n=e.innerWidth,o=e.innerHeight}))}}},cn={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){"use strict";let n;const r=function(){try{!function(r){let i;const o={};r!==n&&(i=$.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=Yt.now(),o.psfr=$.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}(e.isHidden())}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.HIDDEN2)}};return{start:function(){e.isHidden()&&(r(),function(){const t=e.getWindowWithHiddenViewport();t&&sn(t).onResize(r)}())}}},settings:{emits:!0,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},un={name:"hA",dependencies:["AS_Finder"],creator:function(t){"use strict";let n=0;const r=function(e,t){ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.FF,e,$(t).toION())},i=function(e){n<2&&r("ha1",e),n++};!function(){let n,o;if(Nt.embedded)try{o=e.contextNode.parentNode,n=rn().getDFPValue(o),r("dfp",function(e){const t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(n)),n.size&&t&&(t.events.on("newState",i),t.start())}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.HIDDEN)}}()},settings:{tier:te.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e){"use strict";return e.on("usehaps")}}},dn={name:"thresholdDetector",dependencies:[],creator:function(){"use strict";return{create:(e,t,n)=>{let r;let i=t();const o=()=>{const o=t();o!==i&&!0&&(n(e,o),Yt.clearInterval(r)),i=o};i&&(n(e,i),r=Yt.setInterval(o,50))}}}},gn={name:"invisibleAds",dependencies:["thresholdDetector"],creator:function(t){"use strict";const n={width:4,height:4},r=()=>{const e=bt.getStyle(Yt.getWindow().frameElement,"opacity");return parseFloat(e)<.2},i=()=>"hidden"===bt.getStyle(Yt.getWindow().frameElement,"visibility"),o=(e,t)=>{const n={res1:$.stringifyTriState(t)};ee.getAggregator().trigger(De.AddThrottledProp,"sca",e,$(n).toION())};try{const a=e.contextNode.parentNode,s=rn().getDFPValue(a);Mt.isViewportVisible(Yt.getWindow(),n)&&2===s.type&&(r()&&t.create("ha2",r,o),i()&&t.create("ha3",i,o))}catch(e){}},settings:{tier:4,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}};var ln={name:"BS_Browser",dependencies:[],creator:function(){"use strict";var e=Yt.getWindow().document,n=e.body?Math.round(Mt.getNodeArea(e.body)):null;!ee.getAggregator().request(Ne.MobileApp).isMobileAppEnvironment()&&n&&function(e,n,r,i){var o,a,s=0,c=0,u=e&&e.body,d=!1,g=function(){if((o=Math.round(Mt.getNodeArea(e.body)))>=i){for(var t,n,a=o+20*o/100,u=e.querySelectorAll("iframe"),d=$.fromNodeListToArray(u);d.length&&(c<a||s<r);)t=d.shift(),(n=Math.round(Mt.getNodeArea(t)))>=i&&(s++,c+=n);c>=a&&s>=r&&l()}},l=function(){var e={va:o,bia:c,bin:s};ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.FF,n,$(e).toION()),d=!0};u&&(Yt.execAtEndOfThread(g),!d&&$.isDef(t.MutationObserver)&&(a=new MutationObserver((function(e){d?a.disconnect():Yt.execAtEndOfThread((function(){$(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&Mt.isElement(n)&&Mt.tagNameIs(n,"IFRAME")&&$.debounce(g,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))}(e,"bs2",10,n)},settings:{tier:te.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}};var fn=function(){"use strict";return{createInstance:function(e){return Nt.isDomless()?new mn:new pn(e)}}},pn=function(e){"use strict";var n,r,i,o=new Ve,a=new xe,s=new In(o),c=new vn,u=new Dn,d=new Tn(o,e),g=function(){return $.isUndef(i)&&(i=new Sn(o)),i};return{isApplicable:function(e){return $.isDef(t.JSON)&&$.isDef(t.postMessage)&&(!e.isOmidNative()||e.isOmidForWeb())},start:function(){o.provide({frameCollection:function(){return s},adProxy:function(){return u},adTalkMessage:function(e){return new hn(e,o)},adTalkMessageCollection:function(){return c},idMapModule:g,interFrameQuerySelector:function(e){return new yn(e)}}),a.traverse(s.addFrame),d.startListening(),d.sendToKnownFrames(),ee.getAggregator().once(De.StopAdTalk,(function(){d.stopListening()})),ee.getAggregator().provide(Ne.AdTalkEventAggregator,o)},sendAdTalkCall:d.sendAdTalkCall,getFrameMap:function(){return $.isUndef(n)&&(n=new An(o)),n},getFrameMapIncludingPeerCase:function(){return $.isUndef(r)&&(r=new An(o,!0)),r},getIdMap:g}};const mn=function(){"use strict";return{isApplicable:()=>!1,start:()=>{}}};var hn=function(t,n){"use strict";var r,i=n.request(Ne.AdProxy).myIdCard,o=n.request(Ne.FrameCollection).getMe().getStringifiedPosition();r=ee.getAggregator().request(Ne.Features).on("swapids")?e.oid:e.asid;var a,s;return{messageContent:t||{},srcAsid:e.asid,srcTagId:i.tagId,srcIsEmbedded:Nt.embedded,srcIsFriendly:Nt.friendly,srcBirthdate:q.measurementConfig.birthdate,iasCommonId:r.split("-")[2],nodeSelector:Nt.friendly?"["+te.AD_IDENTIFIER+"-"+e.asid+"]":'iframe[src*="'+((s=(a=Yt.getWindow()).location&&a.location.href)&&s.replace(/^https?\:\/\//i,""))+'"]',positionStr:o,version:"0.1"}},vn=function(){"use strict";var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return $(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},En=function(e,n,r,i){"use strict";var o,a=e==t;(o={position:n.slice(0),id:n.join("-"),isMe:a,isLeaf:!e.frames.length,adProxies:a?r:[],selfDescription:void 0,unifiedId:q.measurementConfig.birthdate,srcIsEmbedded:i?i.srcIsEmbedded:void 0,inbox:i?[i]:[]}).getDomObj=function(){return e},o.getStringifiedPosition=function(){return $(o.position).map((function(e,t){return $.toBase(Number(t)+1,36)})).join("")},o.isValidForMapping=function(){return o.isLeaf||o.isMe||$.isDef(o.selfDescription)};var s=function(e,t){return!$(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return o.addInformationFromSrc=function(e,t){var n,r,i,a;n=t,r=o.adProxies,i=n.adProxies,a=[],r.length&&i.length?$(i).each((function(e,t){s(r,t)&&a.push(t)})):a=i,o.adProxies=r.concat(a),function(e){$(o.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||o.inbox.push(e)}(e),o.srcIsEmbedded=e.srcIsEmbedded,o.selfDescription=t},o},In=function(e){"use strict";var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,a){var s=e.request(Ne.AdProxy).getAll(),c=new En(i,o,s,a);return t.push(c),n[c.id]=c,c.isMe&&(r=c),c},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},An=function(t,n){"use strict";var r=function(e,t){var r=t.adProxies,a="";if(t.isValidForMapping())return a+=n?o(r,t.getStringifiedPosition()):i(r,t)},i=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},o=function(e,t){var n="";return e.length?n+=$(e).stringify((function(e,n){return a(n,t)}),"|"):n+=t,n},a=function(t,n){return n+(e.asid===t.adSafeId?"*":"")+"."+t.tagId};return{output:function(){var e=t.request(Ne.FrameCollection),n=$(e.list).stringify(r,"|");return $.toBase(e.getMe().unifiedId,62)+"+"+n}}},Sn=function(t){"use strict";var n=t.request(Ne.FrameCollection).getMe().getStringifiedPosition(),r=e.contextNode.parentNode,i=t.request(Ne.InterFrameQuerySelector,r),o=function(e){var t=!1,o=!Nt.embedded,a="BODY"!==Mt.getNodeName(r)&&"HEAD"!==Mt.getNodeName(r),s=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(te.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return t=o&&a&&!s?!!function(e){return i.queryFor(e.nodeSelector)}(e):!!function(e){var t=e.positionStr,r=e.srcIsEmbedded&&Nt.embedded,i=0===n.indexOf(t)||0===t.indexOf(n);return r&&i}(e),t};return{output:function(){var r,i,a=n+"*";return(i=t.request(Ne.AdTalkMessageCollection).map((function(t,n){var r;return t!==e.asid&&o(n)&&(r=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(n)),r}))).push(a),r=i.join("|"),r.length>120&&(r=function(e){return e&&e.substr(0,120)+".of"+e.length}(r),ee.getAggregator().trigger(De.StopAdTalk)),r},isCandidateForMyIdMap:o}},yn=function(e){"use strict";var t=new xe,n=function(e,t){return Mt.querySelector(function(e){var t=e,n="IFRAME"===Mt.getNodeName(e),r=Mt.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,a,s;try{(a=n(r,i))||(o=t.getFrames(!0,e),$(o).findFirst((function(e,t){return s=n(t,i)})))}catch(e){}return a||s||null}(e,r)),i}}},Tn=function(t){"use strict";var n,r,i=!1,o=ee.getAggregator().request(Ne.Features);r=o.on("swapids")?e.oid:e.asid;var a=function(n){var i=r.split("-")[2],o=!t.request(Ne.AdTalkMessageCollection).has(n)&&n.srcAsid!==e.asid;return n.hasOwnProperty("messageContent")&&i===n.iasCommonId&&o},s=function(){var e=t.request(Ne.FrameCollection).getMe(),n={self:e,unifiedId:e.unifiedId};return t.request(Ne.AdTalkMessage,n)},c=function(){var e=te.DT_CODES.ADTALK;t.request(Ne.FrameCollection);i||(i=!0),ee.getAggregator().trigger(De.SendDt,e)},u=function(e,n,r){var o,a,s,u,d,g,l;try{o=t.request(Ne.FrameCollection),a=t.request(Ne.AdTalkMessageCollection),s=n.messageContent.self,a.add(n),g=o.getMe(),l=s,g.unifiedId>l.unifiedId&&(g.unifiedId=l.unifiedId),n.transferDuration=function(e){return Yt.now()-e.sentTime}(n),u=o.getFrame(s.id),d=u,$.isUndef(d)||$.isUndef(d.selfDescription)?((u=u||o.addFrame(e.source,s.id.split("-"),n)).addInformationFromSrc(n,s),r()):u.addInformationFromSrc(n,s),i&&t.request(Ne.IDMapModule).isCandidateForMyIdMap(n)&&c()}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:c,sendToKnownFrames:function(){(new We).send(s)},startListening:function(){(n=new ke).listen(a,u,s)},stopListening:function(){n&&n.stop()},validateMessage:a,processMessage:u,createMessage:s}},On=function(){"use strict";var e=ee.getAggregator().request(Ne.IDS),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},Dn=function(){"use strict";var e,t=[],n=function(e){var n=new On(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},wn=function(e,t){"use strict";var n,r,i=te.NA,o=i,a=!1,s=!1,c=!1,u=!t,d=ee.getAggregator().request(Ne.Browser),g=function(e,t){(function(e){var t=ee.getAggregator().request(Ne.MobileApp);return(e.browserIs(te.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(te.BROWSERS.WEBKIT)||e.browserIs(te.BROWSERS.MSEDGE))&&!t.isMobileAppEnvironment()&&e.hasResizeObserver()})(d)&&Yt.getResizeObserver((function(n,r){var i=n.pop();i.contentRect.height*i.contentRect.width>0&&(t.unobserve(e),t.observe(e),r.disconnect())})).observe(e)},l=function(){var t=Yt.getIntersectionObserver((function(e,t){var r=e.pop(),a=r.intersectionRect.width*r.intersectionRect.height/(r.boundingClientRect.width*r.boundingClientRect.height)*100;isNaN(a)&&(g(r.target,t),a=0),i=Math.min(a,100),n=r.boundingClientRect,i!==o&&Yt.execAtEndOfThread((function(){ee.getAggregator().trigger(De.IoPivChange,i)})),o=i}),{threshold:te.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});u&&Yt.execAtEndOfThread((function(){i===te.NA&&(i=0)})),t.observe(f(e)),u&&Yt.execAtEndOfThread((function(){Nt.isBustedIframe()||ee.getAggregator().trigger(De.DelayedViewabilityReady)})),a=!0},f=function(t){if(!$.isUndef(t)){if(c){var n=e.document,i=n.createElement("div");$(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[te.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(c=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){s=!0}return t}();t&&null!==t.bodyElement?l():t&&t.document?bt.whenReady(l,t.document):s?ee.getAggregator().request(Ne.Errors).add(te.ERROR_CODES.BUSTED_IFRAME_IN_IO):l()},isReady:function(){return i!==te.NA},isStarted:function(){return a},getAdNodeDimensions:function(){var e;return n&&(e=_t({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},Nn=function(){"use strict";var e=!1;return bt.whenReady((function(){ee.getAggregator().trigger(De.StartViewabilityLoop),e=!0})),{loopStarted:function(){return e}}},bn={name:"loopDelay",dependencies:[],creator:Nn,settings:{applies:function(e,t,n){"use strict";return e.bootstrapOn("allowViewability")},tier:te.TIERS.VIEWABILITY}},Cn=function(){"use strict";return{start:function(e){ee.getAggregator().on(De.Measurable,(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(te.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},Rn=function(){"use strict";return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},_n=function(t,n,r){"use strict";var i=!1,o=function(){try{n.impressionIsIdentifiable()&&!i?(i=!0,ee.getAggregator().trigger(De.Notify,e._onMeasurable)):n.impressionIsIdentifiable()||__IntegralASDiagnosticCall("rtsmeas_imp_not_iden",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_send_noti_error",t,e)}};return{start:function(){try{var n,i=[Pn(),Mn(),Rn(),Cn()];(n=$(i).findFirst((function(e,n){return n.isApplicable(r,t)})))?n.start(o):__IntegralASDiagnosticCall("rtsmeas_no_chosen_strategy",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_start_error",t,e)}},isApplicable:function(t){return t.bootstrapOn("useViewabilityNotification")&&$.isDef(e._onMeasurable)}}},Mn=function(){"use strict";return{start:function(e){var t,n;(t=ee.getAggregator(),n=[De.AdImpression,De.Measurable],{onAll:function(e){var r={};$(n).each((function(i,o){t.on(o,(function(){r[o]=1,$(r).keys().length===n.length&&(r={},e())}))}))}}).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(te.BROWSERS.WEBKIT)||n)&&Nt.isVideo()}}},Pn=function(){"use strict";return{start:function(e){ee.getAggregator().once(De.AdImpression,(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&Nt.isVideo()}}},Vn=function(e,t,n){"use strict";var r=[p.Rjss,p.Amt,p.Jss,p.Jload];return{accepts:function(){var e=$.isDef($(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(te.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},Fn=function(t){"use strict";var n=Yt.getWindow(),r=n&&n.omid3p,i=ee.getAggregator().request(Ne.OmidAdSessionContext),o=!!(t&&t.isSupported&&t.isSupported()),a=!!(r&&$.isFunction(r.registerSessionObserver)&&$.isFunction(r.addEventListener));return{accepts:function(){return(o||a)&&!e.videoId&&!e._cl_adpath},isMediaType:function(e){return e===i.mediaType},supportsAdContainerGeometry:function(){return!0}}},xn=function(e,t,n){"use strict";var r,i=ee.getAggregator().request(Ne.OmidAdSessionContext),o=i.isHtml&&i.isWeb,a=Yt.getWindow(),s=a&&a.omid3p,c=!!(s&&$.isFunction(s.registerSessionObserver)&&$.isFunction(s.addEventListener))?s:e;r=o?[p.Rjss,p.Amt,p.Jss,p.Jload,p.JsVid,p.FwjsVid]:[p.Rjss,p.Amt,p.Jss,p.Jload];return{accepts:function(){var e=$.isDef($(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(te.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){c.addEventListener("start",(function(e){ee.getAggregator().trigger(De.AdImpression)}))}}},Ln=function(e){"use strict";return{resolve:function(){return $(e).findFirst((function(e,t){return t.environment.accepts()}))}}},Un=function(n){"use strict";var r=!1,i=!1,o=!1,a=!1,s=ee.getAggregator().request(Ne.OmidAdSessionContext);s.queuedOutputItems=[],s.cachedEvents=[],s.cachedGeometryEventsReceived=!1,s.cachedVideoEventsReceived=!1,s.recoveredTime=-1;var c=new bi,u=ee.getAggregator().request(Ne.OmidAdSessionVerificationParameters),d=ee.getAggregator().request(Ne.Features),g=Yt.getWindow(),l=g&&g.omid3p,f=!!(l&&$.isFunction(l.registerSessionObserver)&&$.isFunction(l.addEventListener))?l:n,p=!1;s.omidEarlyExit=!1,s.mediaType="display";var m=!1,h=function(){return u&&u.IAS&&Object.keys(u.IAS).length>0?u.IAS:u},v=function(e,t){s.queuedOutputItems.push({code:e,value:t})},E=function(e,t,n){ee.getAggregator().trigger(e,t,n)},I=function(e){ee.getAggregator().trigger(e)},A=function(){if(r&&i&&(!a||o)){t.omidSupported=!0,s.hasOwnProperty("impressionType")&&v("oiet",s.impressionType),s.hasOwnProperty("creativeType")&&v("oct",s.creativeType),s.underEvaluation&&v("oef",!0),s.exitedOASRS=!0,p=!0;const e=h();e&&(q.baseUrls&&q.baseUrls.updateWithVerificationParameters({verificationParameters:e}),q.measurementConfig&&q.measurementConfig.updateWithVerificationParameters({verificationParameters:e}),q.adTag&&q.adTag.updateWithVerificationParameters({verificationParameters:e})),q&&q.jsConfigRequest&&q.jsConfigRequest.buildRequestUrlFromParameters&&q.jsConfigRequest.buildRequestUrlFromParameters({contextNode:q.contextNode,omidParameters:h()}),Q()}},S=function(t){function n(){return Nt.isOmidForWeb()||t.data.hasOwnProperty("supportsLoadedEvent")&&("true"===t.data.supportsLoadedEvent||!0===t.data.supportsLoadedEvent)&&"string"==typeof t.data.creativeType&&""!==t.data.creativeType}var c="0";if("sessionStart"===t.type){s.adSessionType=t.data.context.adSessionType||"undefined",s.environment=t.data.context.environment,s.accessMode=t.data.context.accessMode||"limited",s.omidNativeInfo=t.data.context.omidNativeInfo,s.omidJsInfo=t.data.context.omidJsInfo,s.deviceInfo=t.data.context.deviceInfo,s.app=t.data.context.app,s.supports=t.data.context.supports,s.app&&"string"==typeof s.app.appId&&s.app.appId.toLowerCase().indexOf("pandora")>-1&&(s.ignoreDivAsCandidate=!0),t.data.hasOwnProperty("contentUrl")&&(s.contentUrl=t.data.contentUrl),t.data.context.hasOwnProperty("underEvaluation")&&(s.underEvaluation=t.data.context.underEvaluation),s.isJavaScript="javascript"===s.adSessionType,s.isNative="native"===s.adSessionType||"javascript"===s.adSessionType,s.isLimitedSandbox="app"===s.environment?Nt.embedded:"full"!==t.data.context.accessMode,s.isHtml="html"===t.data.context.adSessionType,s.isWeb="web"===t.data.context.environment,s.partnerName=s.omidNativeInfo&&s.omidNativeInfo.partnerName&&s.omidNativeInfo.partnerName.toLowerCase(),u=t.data.verificationParameters,s.isOmidForWebEnvironment=s.isHtml&&s.isWeb,s.element=t.data.context.videoElement||t.data.context.slotElement||null,n()?(a=!0,s.useOMID13Logic=!0,v("ohand","13"),f.addEventListener("video",T),f.addEventListener("media",T)):v("ohand","12"),e.omidLeaveEarly?(e&&e.mobFwUrl&&e.mobFwUrl.indexOf("xmtp=v")>-1?s.mediaType="video":s.mediaType="web"===s.environment?t.data.mediaType||"video":t.data.mediaType,s.mediaType&&t.data.creativeType&&(s.creativeType=t.data.creativeType,s.omidEarlyExit=!0,c="1",i=!0,o=!0,v("omtp",s.mediaType)),"video"===s.mediaType&&(s.isVideo=!0,s.isNativeVideo=s.isNative),s.isDisplay="display"===s.mediaType):(s.isOmidForWebEnvironment||(s.integratedBlocking=q.measurementConfig.isResolved&&Nt.integratedBlockingApplies(e.mobFwUrl),s.integratedBlocking&&d&&d.on("exitOASRSEarly")&&(s.omidEarlyExit=!0,c="1",s.omidEarlyExit&&e.mobFwUrl.indexOf("xmtp=v")>-1&&(s.mediaType="video")),!t.data.mediaType||"display"!==t.data.mediaType&&"video"!==t.data.mediaType||(s.mediaType=t.data.mediaType)),s.omidEarlyExit&&(i=!0,v("omtp",s.mediaType),n()&&(o=!0),"video"===s.mediaType&&(s.isVideo=!0),s.isNativeVideo=s.isNative&&s.isVideo,s.isDisplay="display"===s.mediaType)),"audio"===t.data.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0);for(var g,l,m,h=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],I=0;I<h.length;I++)g=h[I].root,l=h[I].field,m=h[I].code,"object"==typeof s[g]&&void 0!==s[g][l]&&v(m,s[g][l]);v("oast",s.adSessionType),v("oacm",s.accessMode),v("oenv",s.environment),s.hasOwnProperty("contentUrl")&&v("ocon",encodeURIComponent(s.contentUrl||"")),v("oerl",c),v("oses",Nt.getTagTime()),r=!0,A()}if("sessionError"===t.type){var S="string"==typeof t.data.errorType?t.data.errorType:"NoErrType",y="string"==typeof t.data.message?t.data.message:"NoMessage",O=S+"_"+encodeURIComponent(y);p?E(De.AddOutputItem,{output:O},be.OMIDSessionError):v(be.OMIDSessionError,O)}},y=function(e){e.type===te.IMPRESSION_EVENT&&(s.omidImpressionArrived=!0,I(De.OmidImpressionArrived),s.mediaType="web"===s.environment?e.data.mediaType||"video":e.data.mediaType,v("omtp",s.mediaType),"audio"===e.data.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0),v("oimp",Nt.getTagTime()),"video"===e.data.mediaType&&(s.isVideo=!0),function(e){return e.data.adView&&(e.data.viewport||s.isWeb)}(e)&&(s.impressionViewabilityMeasurement={type:"geometryChange",data:{viewport:e.data.viewport,adView:e.data.adView},timestamp:e.timestamp},void 0===s.geometryArrived&&c.checkForViewAttachmentBasedOnAdSessionType(s,e.data.adView)&&(s.geometryArrived=!0,I(De.OmidRendGeoUpdate))),e.data.hasOwnProperty("impressionType")&&!o&&(s.impressionType=e.data.impressionType),s.isNativeVideo=s.isNative&&"video"===e.data.mediaType,s.isDisplay="display"===e.data.mediaType,i=!0,A())},T=function(e){if(e&&"start"===e.type)return s.videoStartArrived=!0,void I(De.OmidRendVideoStart);"loaded"!==e.type||s.omidLoadedArrived||(v("oloa",Nt.getTagTime()),o=!0,s.omidLoadedArrived=!0,I(De.OmidLoadedArrived),e.data.hasOwnProperty("creativeType")&&(s.creativeType=e.data.creativeType),"audio"===s.creativeType&&(s.accessMode="limited",s.isLimitedSandbox=!0),e.data.hasOwnProperty("impressionType")&&(s.impressionType=e.data.impressionType),!0===s.omidEarlyExit&&(m||(E(De.AddThrottledOutputItem,"oiet",s.impressionType),E(De.AddThrottledOutputItem,"oct",s.creativeType),m=!0)),A())},O=function(e){e&&e.data&&e.data.interactionType&&"click"===e.data.interactionType&&$n.omid.trackClick()};return{start:function(){f.registerSessionObserver(S,"IAS"),f.addEventListener(te.IMPRESSION_EVENT,y),f.addEventListener(De.AdUserInteraction,O)}}},kn=function(){"use strict";return{accepts:function(){return!0}}},Wn=function(){"use strict";var e=ee.getAggregator().request(Ne.OmidAdSessionContext),t=ee.getAggregator().request(Ne.OmidVerificationClient),n=new Fn(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},Bn=function(){"use strict";return{start:function(){Q()}}};class Gn{static maxScrollDepth({maxScrollDepth:e}){ee.getAggregator().trigger(De.AddOutputItem,{output:e},"msd")}static pageHeight({pageHeight:e}){ee.getAggregator().trigger(De.AddOutputItem,{output:e},"ph")}static notAvailableOrApplicableMaxScrollDepth({reason:e}){ee.getAggregator().trigger(De.AddOutputItem,{output:e},"nmsd")}static notAvailableOrApplicablePageHeight({reason:e}){ee.getAggregator().trigger(De.AddOutputItem,{output:e},"nph")}}class Hn extends s{constructor(){super({storeModelName:"pageMetrics"}),this.maxScrollDepth=0,this.ticking=!1,this.topWindow=(()=>{let e;try{Nt.friendly&&!Nt.isDomless()&&(e=Yt.getTop()||void 0)}catch(e){}return e})(),this.topWindow&&this.initScrollListener()}sendPageMetricsData(){const e=this.getPageMetrics({topWindow:this.topWindow});if(void 0!==e){const{pageHeight:t,maxScrollDepth:n}=e;void 0!==n&&Gn.maxScrollDepth({maxScrollDepth:n}),void 0!==t&&Gn.pageHeight({pageHeight:t})}else Gn.notAvailableOrApplicableMaxScrollDepth({reason:-1}),Gn.notAvailableOrApplicablePageHeight({reason:-1})}initScrollListener(){var e;try{null===(e=this.topWindow)||void 0===e||e.addEventListener("scroll",(()=>{var e;this.ticking||(null===(e=this.topWindow)||void 0===e||e.requestAnimationFrame((()=>{this.sendPageMetricsData(),this.ticking=!1})),this.ticking=!0)}))}catch(e){}}getPageMetrics({topWindow:e}){let t;if(e)try{const n=e.document.documentElement.scrollHeight,r=e.scrollY||e.document.documentElement.scrollTop;this.maxScrollDepth=Math.max(this.maxScrollDepth,Math.round(r)),t={pageHeight:n,maxScrollDepth:this.maxScrollDepth}}catch(e){Gn.notAvailableOrApplicableMaxScrollDepth({reason:-1}),Gn.notAvailableOrApplicablePageHeight({reason:-1})}return t}}const jn=({jsInfoCode:e,output:t,errorCode:n})=>{try{ee.getAggregator().trigger(De.AddOutputItem,{output:t},e),ee.getAggregator().trigger(De.SendDt,te.DT_CODES.PERFORMANCE)}catch(e){ee.getAggregator().trigger(De.Error,n)}};class qn{constructor(){this.mousedOver=!1,this.clicked=!1}mouseOver(){this.mousedOver=!0}mouseOut(){this.mousedOver=!1}click(){this.clicked=!0}isMousedOver(){return this.mousedOver}wasClicked(){return this.clicked}}class Yn{constructor({tagStartTime:e,adState:t}){this.initClickTracking=({clickSource:e})=>{this.clickData[e]||(this.clickData[e]=[])},this.getClicks=({clickSource:e})=>this.clickData[e],this.setupTrackAndBroadcastClick=({clientX:e,clientY:t,clickSource:n})=>{const r=[e,t,Nt.getTagTime()];this.getClicks({clickSource:n}).push(r),jn({output:$(this.clickData).toION(),errorCode:"Q",jsInfoCode:"clks"})},this.trackClick=({event:e,clickSource:t})=>{const{clientX:n,clientY:r}=e;this.adState.click(),this.setupTrackAndBroadcastClick({clientX:n,clientY:r,clickSource:t})},this.trackBlur=({clickSource:e})=>{this.setupTrackAndBroadcastClick({clientX:-1,clientY:-1,clickSource:e})},this.trackTouch=({clientX:e,clientY:t,clickSource:n})=>{this.setupTrackAndBroadcastClick({clientX:e,clientY:t,clickSource:n})},this.trackOmidClick=()=>{this.initClickTracking({clickSource:"om"}),this.trackClick({event:{clientX:0,clientY:0},clickSource:"om"})},this.isProxyClick=()=>!this.adState.wasClicked()&&this.adState.isMousedOver()&&n.activeElement instanceof HTMLIFrameElement,this.trackBlurClick=()=>{if(this.isProxyClick()){const e="blr";this.adState.mouseOut(),this.initClickTracking({clickSource:e}),this.trackBlur({clickSource:e})}},this.trackAdComponentClick=e=>{this.initClickTracking({clickSource:"ac"}),this.trackClick({event:e,clickSource:"ac"})},this.trackMobileTouchStart=e=>{if(e.changedTouches&&e.changedTouches[0]){const t=e.changedTouches[0],{clientX:n,clientY:r}={clientX:Math.round(null==t?void 0:t.clientX),clientY:Math.round(null==t?void 0:t.clientY)};this.mobileClickVerify.trackMobileTimeAndCoords({clientX:n,clientY:r})}},this.trackMobileTouchEnd=e=>{if(e.changedTouches&&e.changedTouches[0]){const t=e.changedTouches[0],{clientX:n,clientY:r}={clientX:Math.round(t.clientX),clientY:Math.round(t.clientY)};if(this.mobileClickVerify.isMobileLinkClick({clientX:n,clientY:r})){const e="mt";this.initClickTracking({clickSource:e}),this.trackTouch({clientX:n,clientY:r,clickSource:e})}}},this.trackPointerUp=e=>{if("pen"===e.pointerType&&e.clientX&&e.clientY){const{clientX:t,clientY:n}={clientX:Math.round(e.clientX),clientY:Math.round(e.clientY)};if(this.mobileClickVerify.isMobileLinkClick({clientX:t,clientY:n})){const e="mt";this.initClickTracking({clickSource:e}),this.trackTouch({clientX:t,clientY:n,clickSource:e})}}},this.trackPointerDown=e=>{if("pen"===e.pointerType&&e.clientX&&e.clientY){const{clientX:t,clientY:n}={clientX:Math.round(e.clientX),clientY:Math.round(e.clientY)};this.mobileClickVerify.trackMobileTimeAndCoords({clientX:t,clientY:n})}},this.clickData={},this.tagStartTime=e,this.adState=t,this.mobileClickVerify=new Kn}}class Kn{constructor(){this.trackMobileTimeAndCoords=({clientX:e,clientY:t})=>{this.mobileTouchTimer.startTimer(),this.lastClientX=e,this.lastClientY=t},this.isMobileLinkClick=({clientX:e,clientY:t})=>{const n=this.mobileTouchTimer.endTimer();let r=!1;if(this.mobileTouchTimer.startTimer(),n&&n<=200&&this.lastClientX&&this.lastClientY){const n=Math.abs(e-this.lastClientX),i=Math.abs(t-this.lastClientY),o=10;n<=o&&i<=o&&(r=!0)}return r},this.mobileTouchTimer=new zn,this.mobileTouchTimer.startTimer()}}class Xn{constructor({adState:e,tagStartTime:t}){this.trackAdComponentMouseOver=()=>{this.adState.mouseOver(),this.hoverData.timeToFirstHover||(this.hoverData.timeToFirstHover=Nt.getTagTime()),this.hoverData.hoverCount+=1,this.hoverTimer.startTimer(),jn({output:$(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"})},this.trackAdComponentMouseOut=()=>{this.adState.mouseOut();const e=this.hoverTimer.endTimer();(e||0===e)&&(this.hoverData.totalHoverTime+=e,jn({output:$(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"}))},this.adState=e,this.tagStartTime=t,this.hoverData=new Jn,this.hoverTimer=new zn}}class Jn{constructor(){this.getData=()=>[this.timeToFirstHover,this.hoverCount,this.totalHoverTime],this.hoverCount=0,this.totalHoverTime=0,this.timeToFirstHover=0}}class zn{constructor(){this.startTime=0}startTimer(){this.startTime=(new Date).getTime()}endTimer(){let e;return this.startTime&&(e=(new Date).getTime()-this.startTime),this.startTime=0,e}}const{birthdate:Qn}=e,$n=new class{constructor({tagStartTime:e}){this.finalizeAllCollectedData=()=>{this.hover.trackAdComponentMouseOut()},this.adState=new qn,this.tagStartTime=e,this.click=new Yn({tagStartTime:e,adState:this.adState}),this.hover=new Xn({tagStartTime:e,adState:this.adState})}get adComponent(){return{trackClick:this.click.trackAdComponentClick,trackBlur:this.click.trackBlurClick,trackMouseOver:this.hover.trackAdComponentMouseOver,trackMouseOut:this.hover.trackAdComponentMouseOut}}get mobile(){return{trackTouchEnd:this.click.trackMobileTouchEnd,trackTouchStart:this.click.trackMobileTouchStart,trackPointerUp:this.click.trackPointerUp,trackPointerDown:this.click.trackPointerDown}}get omid(){return{trackClick:this.click.trackOmidClick}}}({tagStartTime:Qn});var Zn=function(e,n){"use strict";var r="videoPlaybackEvent",i=[],o=(new Date).getTime(),a=0,s=1,c=0,u=!1,d=new Ht,g=ee.getAggregator().request(Ne.OmidAdSessionContext),l=Yt.getWindow(),f=l&&l.omid3p,p=!!(f&&$.isFunction(f.registerSessionObserver)&&$.isFunction(f.addEventListener))?f:e,m=!1,h=!1,v={isEmpty:function(){return 0===i.length},toString:function(){for(var e="{vEventCount:"+i.length+",vEvents:[",t=0;t<i.length;t++){var n=i[t],r=(t>0?",{":"{")+"t:"+n.t+",rt:"+n.rt+",tp:"+n.tp+",sl:"+n.sl+",ad_duration:"+n.ad_duration+",volume:"+n.volume+",devol:"+n.devol;void 0!==n.avoc&&(r+=n.avoc>=0?",avoc:"+n.avoc:""),e+=r+"}"}return e+="]}"}},E=function(){u=!0},I=function(e){var d,l,f,p="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish",v="complete|pause|bufferStart|skipped";if(-1!==("|"+p+"|"+v+"|playerStateChange|loaded|volumeChange|").indexOf("|"+e.type+"|"))try{var E,I="",A=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),S=A-(q.measurementConfig.birthdate||A+1),y="n",T=!1;switch(e.type){case"start":I=De.AdVideoStart,g.videoStartArrived=!0,ee.getAggregator().trigger(De.OmidRendVideoStart),o=A,(c=e.data.duration||"0")>1e3&&(c/=1e3),a=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,s=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"volumeChange":I="volumeChanged",a=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,s=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":I="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),T=!0,ee.getAggregator().trigger(De.VideoQuartileEvent,e);break;case"pause":case"bufferStart":I="pauseAd";break;case"resume":case"bufferFinish":I="resumeAd";break;case"skipped":I="adSkipped"}if(a=a>0&&a<.1?.1:parseInt(10*a)/10,s=s>0&&s<.1?.1:parseInt(10*s)/10,""!==I){var O=ee.getAggregator().request(Ne.ScreenEvents);O&&(y=O.getCurrentLoc()||y);var D={t:A-o,rt:S,tp:I,sl:y,ad_duration:c,volume:a,devol:s};try{var w=O.getLatestEvent();"adVideoComplete"===I&&a>0&&($.isDef(s)&&s>0||$.isUndef(s))&&w&&w.percentInView&&w.percentInView>=50?D.avoc=1:"adVideoComplete"===I&&(D.avoc=0)}catch(e){}i.push(D)}if("loaded"===e.type&&$.isDef(e.data)){var N=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),b=-1!==N?N+1:void 0,C=[];!0===e.data.autoPlay?C.push("autoplayed"):C.push("clicktoplay"),!0===e.data.skippable&&C.push("skippable"),"fullscreen"===e.data.state&&C.push("fullscreen");var R=C.join(".");!0===u?($.isDef(b)&&ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,be.VideoBreakPosition,b),ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.ENVIRONMENT,be.VideoPlayerState,R)):($.isDef(b)&&ee.getAggregator().trigger(De.AddOutputItem,{output:b},be.VideoBreakPosition,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:R},be.VideoPlayerState,{type:te.IMPRESSION_EVENT}))}if("start"===e.type&&(ee.getAggregator().trigger(De.OmidAdDuration,{ad_duration:c}),g.adDuration=c),"playerStateChange"===e.type?E="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!==p.indexOf(e.type)?(E="AdPlaying",h=!0):-1!==v.indexOf(e.type)&&(E="AdPaused",h=!1),"audio"===g.creativeType&&""!==I){var _=(d=te.RENDER.WIDTH_THRESHOLD,l=te.RENDER.HEIGHT_THRESHOLD,(f={type:"geometryChange",timestamp:A,internallyGenerated:!0,treatAsCached:m,data:{viewport:{width:d,height:l},adView:{measuringElement:!1,percentageInView:100,geometry:{x:0,y:0,width:d,height:l,obstructions:[],reasons:[]},reasons:[]}}}).data.adView.onScreenGeometry=f.data.adView.containerGeometry=f.data.adView.onScreenContainerGeometry=f.data.adView.geometry,f);h&&0!==s&&0!==a||(_.data.adView.geometry.width=_.data.adView.geometry.height=0,_.data.adView.percentageInView=0),ee.getAggregator().trigger(De.InternallyGeneratedGeometryEvent,_)}m&&"loaded"!==e.type&&(g.cachedVideoEventsReceived=!0,"start"===e.type&&(g.cachedStartEventIndex=g.cachedEvents.length),g.cachedEvents.push(e)),$.isDef(E)&&n.trigger(r,{eventType:E,eventData:null}),T&&ee.getAggregator().trigger(De.SendDt,te.DT_CODES.VIDEO_EVENTS)}catch(e){__IntegralASDiagnosticCall("omidvideo",e,t.bootstrapper)}};return{start:function(){ee.getAggregator().on(De.ImpressionSent,E),ee.getAggregator().provide({[Ne.OmidVideoEventsString]:v}),m=!0,"audio"===g.creativeType?p.addEventListener("media",I):p.addEventListener("video",I),m=!1,g.cachedVideoEventsChecked=!0,g.cachedVideoEventsReceived&&g.processCachedEvents(),d.init()},addVideoPlaybackEventListener:function(e){n.on(r,e)}}},er=function(e,t){"use strict";var n="measurementChanged",r=!1,i=function(e){return e>=50},o=function(e){var o=e.percentageInView;r=!0,e.viewState=function(e){return i(e)?te.IN_VIEW:te.OUT_OF_VIEW}(o),e.outOfViewReason=i(o)?"":te.OUT_OF_VIEW_REASONS.GEOM,t.trigger(n,e)};return{start:function(){ee.getAggregator().trigger(De.AddOutputItem,{output:te.MEDIA_TYPE.DISPLAY_CODE},te.MEDIA_TYPE_CODE,{type:te.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(o),e.start()},getStrategyName:function(){return te.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on(n,e)},isMeasurable:function(){return r}}},tr=function(e,t,n){"use strict";var r=$.isDef(e)?e.environment:void 0,i=$.isDef(e)?e.measurementStrategy:void 0,o=function(){return $.isDef(i)};$.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},nr=function(e,t,n){"use strict";var r=ee.getAggregator().request(Ne.MobileApp);return{create:function(){var t=[];t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new ir(t).resolve();n||ee.getAggregator().trigger(De.AddOutputItem,{output:"0"},be.OMIDAppMeasurement,{type:te.IMPRESSION_EVENT});var i=new or(n);return new tr(n,i,r.isMobileAppEnvironment())}}},rr=function(e){"use strict";var t=ee.getAggregator().request(Ne.MobileApp);return{getOmidMeasurementStrategies:function(){var e=ee.getAggregator().request(Ne.OmidVerificationClient),t=new Fn(e),n=[];if(t.accepts()){var r=new pr,i=new hr,o=new Wn,a=ee.getAggregator().request(Ne.OmidAdSessionContext),s=new fr(e,new Fe),c=[{environment:r,measurementStrategy:new mr(e,new Fe)},{environment:o,measurementStrategy:new vr(new qr,Yt.getWindow(),new Fe)},{environment:i,measurementStrategy:new Ir(new Zr,Yt.getWindow(),new Fe)}],u=new ir(c).resolve(),d=u?u.measurementStrategy:{},g=new dr(new lr(new yi),new yi,a.isHtml),l=new Vn(e,t,q.adTag.tagType),f=new gr(s,d,new Fe,g),p=new xn(e,t,q.adTag.tagType),m=new Er(s,d,new Zn(e,new Fe),new Fe,g);n.push({environment:l,measurementStrategy:f}),n.push({environment:p,measurementStrategy:m})}return n},getMraidMeasurementStrategies:function(){var e=[],n=t.isSafeToInjectMraid(),r=new Ar(Yt.getWindow(),n,t.isMobileAppEnvironment());if(r.accepts()){var i,o=ee.getAggregator().request(Ne.Context),a=new sr(Yt.getWindow(),o),s=new Sr(Yt.getWindow(),new Fe);if(a.accepts()){var c=new cr(Yt.getWindow(),new Fe);i={environment:a,measurementStrategy:new ar(s,c,new Fe)}}else{i={environment:r,measurementStrategy:new er(s,new Fe)}}e.push(i)}return e}}},ir=function(e){"use strict";return{resolve:function(){var t=$(e).findFirst((function(e,t){return t.environment.accepts()}));if($.isDef(t))return t}}},or=function(e){"use strict";var t,n=!1,r={winDimensions:_t({scrX:0,scrY:0,width:0,height:0}),adDimensions:_t({scrX:0,scrY:0,width:0,height:0}),containerDimensions:_t({scrX:0,scrY:0,width:0,height:0}),method:te.NA,viewState:te.NA,percentInView:te.PIV_NA,reason:"",obstructed:te.NA,isHidden:te.NA,tabHidden:te.NA,posViewState:te.NA,adCompCount:1},i=function(e){return e?new _t({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):_t({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||te.NA,viewState:e.viewState||te.NA,percentInView:$.isDef(e.percentageInView)?e.percentageInView:te.PIV_NA,reason:e.outOfViewReason||"",obstructed:$.stringifyTriState(e.isObstructed),isHidden:te.NA,tabHidden:te.NA,posViewState:e.viewState||te.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var r=e.omidObstructions;$.isDef(r)&&""!==r&&(t.omidObstructions=r),e.isMeasurable&&(!0,n&&(n=!1,ee.getAggregator().trigger(De.DelayedViewabilityReady)))};return{create:function(n){var i=r;return $.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;$.isDef(e)&&$.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},ar=function(e,t,n){"use strict";var r,i,o,a,s="measurementChanged",c=!1,u=!1,d=!1,g=function(e){return e<50},l=function(){if(!$.isUndef(i)){var e,t,l=[];c?(u?(t=!1,e=100):(t=a,e=o),g(e)&&l.push(te.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,l.push(te.OUT_OF_VIEW_REASONS.VIDEO)),d=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return g(e)?te.OUT_OF_VIEW:te.IN_VIEW}(e),i.outOfViewReason=l.join("."),r=i,n.trigger(s,r)}},f=function(e){i=e,o=e.percentageInView,a=e.shouldDelegateToDomBasedViewability,l()},p=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?u=!0:"AdExitedFullscreen"===t?u=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(c=!1),l()};return{start:function(){ee.getAggregator().trigger(De.AddOutputItem,{output:te.MEDIA_TYPE.VIDEO_CODE},te.MEDIA_TYPE_CODE,{type:te.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(f),e.start(),t.addVideoPlaybackEventListener(p),t.start()},getStrategyName:function(){return te.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on(s,e)},isMeasurable:function(){return d}}},sr=function(e,t){"use strict";return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,ee.getAggregator().trigger(De.AdImpression))}))}catch(e){}}}},cr=function(e,t){"use strict";var n="inMobiMraidVideoPlaybackEvent",r=function(e){try{var r=e.type;t.trigger(n,{eventType:r})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(r)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on(n,e)}}};const ur=(e,t)=>{let n=[],r=0,i=0;if(e&&t&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.width&&"number"==typeof e.height){const o=e.x,a=e.x+e.width,s=e.y,c=e.y+e.height;for(;r<t.length;r++){const u=t[r];if(u&&"number"==typeof u.x&&"number"==typeof u.y&&"number"==typeof u.width&&"number"==typeof u.height){const t=u.x,r=u.x+u.width,d=u.y,g=u.y+u.height;if(t>=a||r<=o||d>=c||g<=s)continue;t<o&&(u.x=e.x,u.width=u.width-(o-t)),r>a&&(u.width=u.width-(r-a)),d<s&&(u.y=e.y,u.height=u.height-(s-d)),g>c&&(u.height=u.height-(g-c)),n[i]=u,i++}}}else t&&(n=t);return n};var dr=function(e,t,n){"use strict";var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){var n=Nt.isOmidForWeb(),r=!Nt.isOmidSandboxedEnvironment(),i=n&&r;return{x:i?t.x:e.x+t.x,y:i?t.y:e.y+t.y,width:t.width,height:t.height}},a=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function s(e,t,n){var r=a(t,n),o=i(e,t,r);return o.width*o.height}var c=function(e){return u(e)?te.IN_VIEW:te.OUT_OF_VIEW},u=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,d){if($.isDef(r)&&$.isDef(d)){var g,l,f=r.viewport,p=r.computedAdContainer,m=p.obstructions,h=r.omidObstructions,v=m&&m.length>0,E=r.originalAdContainer,I=d.adGeometry,A=d.adFound,S=r.detectionMethod,y=0,T={x:0,y:0,width:f.width,height:f.height},O=o(E,I),D=r.outOfViewReason,w=0,N=0,b=v||!1,C=I.width*I.height<=1;return n&&C&&(D=function(e,t){var n=e||"";return t||-1!==n.indexOf(te.OUT_OF_VIEW_REASONS.GEOM)||(n=te.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(D,A=!1)),A&&r.percentageInView>0?(w=s(T,p,O),N=v?function(t,n,r,s){var c=a(n,r),u=i(t,n,c),d=o(n,u);return e.calculateObstructedArea(d,s)}(T,p,O,m):0,y=Math.round((w-N)/(O.width*O.height)*100),v&&0===N&&(b=!1),l=function(n,r,i,o){var a,c,u,d,g=0,l=t.getConfig(i).numberOfSlices,f=Yt.floor(i.height/l)||1,p=[],m=o?e.getObstructionStatusBySlice(l):[];for(g=0;g<l;g++)d=i.y+f*g,g==l-1&&(f=i.y+i.height-d),c=s(n,r,a={x:i.x,y:d,width:i.width,height:f})/(a.width*a.height)==1,p.push(c);if(o)for(u=Yt.min(m.length,l),g=0;g<u;g++)p[g]=p[g]&&!m[g];return p}(T,p,new _t(O).getRoundedGeometry(),b)):l=t.getConfig(I).defaultSliceArray,g={windowDimensions:T,containerDimensions:E,adDimensions:O,percentageInView:y,viewState:c(y),outOfViewReason:u(y)?"":D||te.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:S,isObstructed:b,sliceStatus:l},$.isDef(h)&&""!==h&&(g.omidObstructions=h),g}}}},gr=function(e,t,n,r){"use strict";var i,o,a,s="geometryMeasurementChanged",c=function(){if($.isDef(i)&&$.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,a=!0,n.trigger(s,e)}},u=function(e){i=e,c()},d=function(e){o=e,c()};return{start:function(){ee.getAggregator().trigger(De.AddOutputItem,{output:te.MEDIA_TYPE.DISPLAY_CODE},te.MEDIA_TYPE_CODE,{type:te.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(u),e.start(),t.addAdGeometryMeasurementChangedListener(d),t.start()},addMeasurementChangedListener:function(e){n.on(s,e)},getStrategyName:function(){return te.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return a}}},lr=function(e){"use strict";var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,a=r+n.width,s=i+n.height,c=Math.round(r);c<Math.round(a);c++)for(var u=Math.round(i);u<Math.round(s);u++)void 0!==e.matrix[c]&&void 0===e.matrix[c][u]&&(e.matrix[c][u]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},a=function(e,t,n){return e+(t-n)},s=function(e,t,n,r){return e==t||n===r-1},c=function(t){if($.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,c=e.getConfig({height:i}).numberOfSlices,u=Yt.floor(i/c)||1,d=[],g=0;g<i;g++){r=!1;for(var l=0;l<o;l++)if(1===t.matrix[l][g]){r=!0;break}n++,r&&(g=a(g,u,n),n=u),s(n,u,g,i)&&(d.push(r),n=0,r=!1)}return d};return{calculateObstructedArea:function(e,o){var a,s=o&&o.length>0,u=s?i(e):{},d=0,g=0;if(s){for(;d<o.length;d++)a=o[d],u=r(u,a);g=u.obscuredPixelCount,t=c(u)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},fr=function(t,n){"use strict";var r=ee.getAggregator().request(Ne.OmidAdSessionContext);r.geometryChangeEvents=[];var i=null,o=!1,a=Yt.getWindow(),s=a&&a.omid3p,c=!!(s&&$.isFunction(s.registerSessionObserver)&&$.isFunction(s.addEventListener))?s:t,u=new bi,d=!1,g=!1,l=function(){var t=Yt.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(f(i),i=null)):Yt.setTimeout(l,50)},f=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=ur(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=ur(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),"audio"!==r.creativeType||e.internallyGenerated){var a=d||e.treatAsCached;a&&(r.cachedGeometryEventsReceived||(r.cachedFirstGeometricIndex=r.cachedEvents.length),r.cachedGeometryEventsReceived=!0,r.cachedEvents.push(e));var s=!!(t.measuringElement&&t.containerGeometry&&t.onScreenContainerGeometry),c=r.cachedStartEventIndex;if(!a&&r.unrecoveredPlayTime&&c>-1&&t.percentageInView>=50&&"audio"!==r.creativeType){var g=Yt.now()-r.cachedEvents[c].timestamp,f=ee.getAggregator().request(Ne.ScreenEvents);f&&f.setRecoveredTimeInSlTimes&&f.setRecoveredTimeInSlTimes(g)}if(r.geometryChangeEvents.length<10&&(r.geometryChangeEvents.push(e.timestamp-q.measurementConfig.birthdate+"."+t.percentageInView),ee.getAggregator().trigger(De.AddOutputItem,{output:r.geometryChangeEvents.join("_")},be.GeometryEventsReceived)),r.delayingViewabilityEvents)i=e,o||(o=!0,l());else{var m=[];t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(!s||t.onScreenContainerGeometry.obstructions&&0!==t.onScreenContainerGeometry.obstructions.length||(t.onScreenContainerGeometry.obstructions=t.onScreenGeometry.obstructions),t.reasons&&t.reasons.indexOf("obstructed")>-1&&t.percentageInView<100&&(t.onScreenGeometry.obstructions=t.onScreenGeometry.obstructions.slice(0,4),$(t.onScreenGeometry.obstructions).each((function(e,t){m.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))));var h=Nt.isOmidForWeb()?Mt.calcWinDims():{width:0,height:0},v=new _t(e.data.viewport||h),E=new _t(s?t.containerGeometry:t.geometry||{x:0,y:0,width:0,height:0}),I=new _t(s?t.onScreenContainerGeometry:t.onScreenGeometry||{x:0,y:0,width:0,height:0}),A={viewport:v.getRoundedGeometry(),originalAdContainer:E.getRoundedGeometry(),computedAdContainer:I.getRoundedGeometry(),percentageInView:t.percentageInView,detectionMethod:te.DETECTION_METHODS.OMID,outOfViewReason:p(t.reasons),omidObstructions:m.join("_")};void 0===r.geometryArrived&&u.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,ee.getAggregator().trigger(De.OmidRendGeoUpdate)),n.trigger(te.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,A)}}}},p=function(e){var t={inactive:te.OUT_OF_VIEW_REASONS.FOCUS,viewport:te.OUT_OF_VIEW_REASONS.GEOM,clipped:te.OUT_OF_VIEW_REASONS.GEOM,obstructed:te.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:te.OUT_OF_VIEW_REASONS.FOCUS,notFound:te.OUT_OF_VIEW_REASONS.HIDDEN,hidden:te.OUT_OF_VIEW_REASONS.HIDDEN,noWindowFocus:te.OUT_OF_VIEW_REASONS.WINDOW},n=[];return e?($(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};r.processCachedEvents=function(){if(!g){var e="video"===r.mediaType,t=r.supports&&r.supports.join().indexOf("clid")>-1,n="limited"===r.accessMode,i="full"===r.accessMode,o=n||i&&t,a=!e||r.cachedVideoEventsChecked,s=r.cachedGeometryEventsChecked;if(o&&s&&a&&r.cachedEvents.length>0){var c="o",u="o",d=0,l=0,f=0,p=!e,m=!1,h=Yt.now();if(e){var v=r.cachedStartEventIndex,E=r.cachedFirstGeometricIndex,I=r.cachedEvents[E],A=r.cachedEvents[v];I&&A&&I.timestamp>A.timestamp&&(I.timestamp=A.timestamp)}for(var S=0;S<r.cachedEvents.length;S++){for(var y=h,T=-1,O=0;O<r.cachedEvents.length;O++)!r.cachedEvents[O].alreadyOrdered&&r.cachedEvents[O].timestamp<y&&(y=r.cachedEvents[O].timestamp,T=O);if(-1!==T){var D=r.cachedEvents[T];D.alreadyOrdered=!0,"geometryChange"===D.type&&D.data&&D.data.adView?(d=D.data.adView.percentageInView,m=!0):p="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(D.type)>-1,u=d&&d>=50&&p?"i":"o","o"===c&&"i"===u?l=D.timestamp:"i"===c&&"o"===u?f+=D.timestamp-l:"i"===c&&"i"===u&&(f+=D.timestamp-l,l=D.timestamp),c=u}}if(g=!0,"i"===c?f+=h-l:e&&!m&&r.cachedStartEventIndex>-1&&(r.unrecoveredPlayTime=!0),f>0){"audio"===r.creativeType&&(f=Math.min(f,h-I.timestamp)),r.recoveredTime=f;var w=ee.getAggregator().request(Ne.ScreenEvents);w&&w.setRecoveredTimeInSlTimes&&(w.setRecoveredTimeInSlTimes(f),r.recoveredTime=-1)}}}};return{start:function(){d=!0,void 0!==r.impressionViewabilityMeasurement&&f(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",f),d=!1,r.cachedGeometryEventsChecked=!0,r.cachedGeometryEventsReceived&&r.processCachedEvents(),ee.getAggregator().on(De.InternallyGeneratedGeometryEvent,f)},addAdContainerGeometryMeasurementChangedListener:function(e){n.on(te.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:p}},pr=function(){"use strict";var e=ee.getAggregator().request(Ne.OmidAdSessionContext);return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},mr=function(t,n){"use strict";var r=ee.getAggregator().request(Ne.OmidAdSessionContext),i=null,o=!1,a=Yt.getWindow(),s=a&&a.omid3p,c=!!(s&&$.isFunction(s.registerSessionObserver)&&$.isFunction(s.addEventListener))?s:t,u=new bi,d=function(){var t=Yt.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(g(i),i=null)):Yt.setTimeout(d,50)},g=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView&&("audio"!==r.creativeType||e.internallyGenerated)){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=ur(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=ur(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),r.delayingViewabilityEvents)i=e,o||(o=!0,d());else{var a=e.data.adView.geometry,s=e.data.adView.containerGeometry,c=!!a,g=e.data.adView.measuringElement&&!!s,l=new _t({x:c&&g?a.x-s.x:0,y:c&&g?a.y-s.y:0,width:c?a.width:0,height:c?a.height:0}).getRoundedGeometry();l,void 0===r.geometryArrived&&u.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,ee.getAggregator().trigger(De.OmidRendGeoUpdate)),n.trigger(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:l,adFound:c})}}};return{start:function(){void 0!==r.impressionViewabilityMeasurement&&g(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",g),ee.getAggregator().on(De.InternallyGeneratedGeometryEvent,g)},addAdGeometryMeasurementChangedListener:function(e){n.on(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},hr=function(){"use strict";var e=ee.getAggregator().request(Ne.OmidAdSessionContext);return{accepts:function(){return e&&!e.isNative}}},vr=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,a=e.find(),s=!1;$.isDef(a)&&null!==a?(o=!0,t={x:(i=a.getBoundingClientRect()).x||i.left,y:i.y||i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!$.isDef(r)||!1!==$(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Er=function(e,t,n,r,i){"use strict";var o,a,s,c,u,d="videoGeometryMeasurementChanged",g=!1,l=!1,f=function(){if(!($.isUndef(a)||$.isUndef(s)||$.isUndef(c))){u=!0;var e=i.calculateGeometricMeasurement(a,s),t=g&&l,n=g&&e.percentageInView>=50,f={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:g,isVideoPlayingInFullscreen:t,isSoundOn:!0},p=e.omidObstructions;$.isDef(p)&&""!==p&&(f.omidObstructions=p),t&&(f.percentageInView=100),t||n?f.viewState=te.IN_VIEW:(f.viewState=te.OUT_OF_VIEW,f.outOfViewReason=e.outOfViewReason||te.OUT_OF_VIEW_REASONS.VIDEO),o=f,r.trigger(d,o)}},p=function(e){a=e,f()},m=function(e){s=e,f()},h=function(e){c=e;var t=e.eventType;"AdEnteredFullscreen"===t?l=!0:"AdExitedFullscreen"===t?l=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?g=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(g=!1),f()};return{start:function(){ee.getAggregator().trigger(De.AddOutputItem,{output:te.MEDIA_TYPE.VIDEO_CODE},te.MEDIA_TYPE_CODE,{type:te.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(p),e.start(),t.addAdGeometryMeasurementChangedListener(m),t.start(),n.addVideoPlaybackEventListener(h),n.start()},getStrategyName:function(){return te.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on(d,e)},isMeasurable:function(){return u}}},Ir=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,a=e.find(),s=!1;$.isDef(a)?(o=!0,t={x:(i=a.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!$.isDef(r)||!1!==$(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(te.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Ar=function(e,t,n){"use strict";return{accepts:function(){var r=$(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},Sr=function(e,t){"use strict";var n="mraidScreenLocationChanged",r="mraid.js",i=!1,o=function(){var r,i,o;try{r=e.mraid.isViewable()?100:0;var a={x:0,y:0,width:0,height:0};o=100===r?[!0]:[!1],i={windowDimensions:a,adDimensions:a,containerDimensions:a,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:r,detectionMethod:te.DETECTION_METHODS.MRAID,sliceStatus:o},t.trigger(n,i)}catch(e){}},a=function(){var t=e.mraid;!0,o(),t.addEventListener("viewableChange",o)},s=function(){var t=e.mraid;(function(){var t=e.mraid;return $(t).isObj()&&$.isFunction(t.isViewable)})()&&(i=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){a()})):a())},c=function(){i||s()};return{start:function(){var t;t=!0,($.isDef(e.mraid)||Mt.containsScriptTagWithSrc(r))&&(t=!1),ee.getAggregator().trigger(De.AddOutputItem,{output:$.stringifyTriState(t)},be.MRAIDInjectionStatus,{type:te.IMPRESSION_EVENT}),t?ee.getAggregator().trigger(De.Exec,r,c):s()},addScreenLocationChangedListener:function(e){t.on(n,e)}}},yr=function(e,t,n){"use strict";var r={};return n&&$(n).map((function(n,i){var o,a;r[n]=(o=i,a=$.noop,t.bootstrapOn("useViewabilityNotification")&&(a=function(){e.skipAsFraudulent()||ee.getAggregator().trigger(De.Notify,o)}),a)})),{getCallbacks:function(){return r}}},Tr=function(){"use strict";var t=new Cr({tiv:[1e4]}),n=$([te.IN_VIEW,te.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:t,type:te.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var t=Yt.max(e.fullPercentInView||0,e.percentInView);return n.contains(e.viewState)&&100===t},applies:function(t,n){return t.on("abcAudit")&&925955==e.anId&&n.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Or=function(t,n){"use strict";var r,i,o,a=t.on("everySecond"),s=n.isVideo(),c=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],u=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],d=[2e3,5e3,15e3],g=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(te.IN_VIEW+"|"+te.PARTIAL_VIEW_PLUS).indexOf(e[n])};return a?(r=new Cr({tiv:c}),i=c[0]):s?(r=new Cr({tiv:d}),i=d[0]):(r=new Cr({tiv:u}),i=u[0]),(o={5e3:e._onInViewMRC5,15e3:e._onInViewMRC15})[i]=e._onInViewMRC,{timeInViewThresholds:r,type:te.DT_CODES.PING,rts:o,isInView:g,isInViewIgnoringRender:function(e){return g(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},Dr=function(e,t){"use strict";var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),a=function(e){var t=Yt.max(e.fullPercentInView||0,e.percentInView);return-1!==(te.IN_VIEW+"|"+te.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new Cr(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),ee.getAggregator().provide(Ne.IsFullyInViewProvider,{isFullyInView:a}),{timeInViewThresholds:n,type:te.DT_CODES.FULLY_INVIEW,isInView:a,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},wr=function(t,n){"use strict";return{timeInViewThresholds:new Cr({tiv:[0]}),type:te.DT_CODES.FULLY_INVIEW,rts:{0:e._onInViewFull},isInView:function(e){var t=Yt.max(e.fullPercentInView||0,e.percentInView);return-1!==(te.IN_VIEW+"|"+te.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return n.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Nr=function(t,n){"use strict";var r,i,o,a,s,c,u=Yt.getMaxNumber(),d=n.isVideo(),g=t.id,l=t.sound&&"on"===t.sound,f=!(t.soundExcl&&"groupm_native"===t.soundExcl&&e.groupm_native_publisher)&&l,p=function(e,n){if(!e.adDimensions)return!1;var r,i,o,a,s=n?"percentInViewIgnoringRender":"percentInView",c=e.adDimensions.area(),g=1===e.tabHidden,l=Yt.max(e.fullPercentInView||0,e[s]);return r=$(t.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||u,c>=i&&c<=o)return!0})),a=!g&&l>=r.piv,function(e){return e.method==te.DETECTION_METHODS.AD_PLACEHOLDER}(e)&&function(e){return 0===e.tiv}(t)&&(a=!1),d&&(a=a&&e.isVideoPlaying,f&&(a=a&&e.isSoundOn)),a};return r=new Cr(t),i=t.qiv,o={},$.isDef(e.rts)&&$.isDef(e.rts[g])&&(s=r&&$.isFunction(r.getTimeThresholds)&&r.getTimeThresholds()[0],c=$.isDef(s)?$.isFunction(s.getTimeInViewForRts)&&s.getTimeInViewForRts():te.RTS_KEY_FOR_VQ,o[c]=e.rts[g]),a=t.minunit?1e3*t.minunit:1e3,{timeInViewThresholds:r,qivThreshold:i,type:te.DT_CODES.CUSTOM,rts:o,isInView:p,isInViewIgnoringRender:function(e){return p(e,!0)},metricId:g,minUnit:a,thresholdType:t.thresholdType,shouldIncludeSound:f,sendOtherwiseInViewSignal:!0}},br=function(e,t,n){"use strict";var r="groupmCM",i=t.isVideo()?"video":"display",o=t.isMobileApp()?"app":"web",a=t.isDeviceTypeGroupMobile()?"mobile":"desktop",s=$(e.customViewability).isArray()&&e.customViewability.length>0,c=n.on("customMetric"),u=n.on(r),d=function(e,t){var n,s,c,d;return n=$(t.mediaTypes).contains(i),s=$(t.distributionChannels).contains(o),c=!$.isDef(t.deviceGroups)||$(t.deviceGroups).contains(a),d=!tn.contains(t.id,"fiv"),tn.contains(t.id,r)&&(d=u),d&&n&&s&&c};return{resolve:function(){var t,n=[];return c&&s&&(t=$(e.customViewability).filter(d),$(t).each((function(e,t){n.push(t)}))),n}}},Cr=function(e){"use strict";var t=1e3,n=[];if($(e.tiv).isArray())$(e.tiv).each((function(e,t){n.push(new _r(t))}));else if("string"==typeof e.tiv){var r=e.tiv.split("|");if(2===r.length){var i=new Rr;n.push(new Mr(i,parseInt(r[1].replace("%")))),n.push(new _r(parseInt(r[0])*t))}else n.push(new _r(parseInt(e.tiv)*t))}else $.isDef(e.tiv)&&n.push(new _r(e.tiv*t));return{getTimeThresholds:function(){return n}}},Rr=function(){"use strict";var e=ee.getAggregator().request(Ne.OmidAdSessionContext).adDuration||-1,t=function(t){if(!n()){var r=$.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return ee.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},_r=function(e){"use strict";var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},Mr=function(e,t){"use strict";var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=Yt.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},Pr=function(e,t,n,r){"use strict";var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}},Vr=function(e,t,n,r){"use strict";var i,o,a,s,c,u,d=function(e,t){return!t&&e},g=function(e,t,n,r){return!!r||!t&&(e||r)&&n},l=function(e){var d,l=0,p=1===e.tabHidden,m=e.isVideoPlaying,h=e.isSoundOn,v=e.isVideoPlayingInFullscreen;$(e.sliceStatus).each((function(e,t){a(t,p,m,v)?i[e].mark():i[e].stop(),s[e]=i[e].getTotalTime()})),f("slcVt",s),r&&($(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return g(e,t,n,r)&&i}(t,p,m,v,h)?o[e].stop():o[e].mark(),c[e]=o[e].getTotalTime()})),f("slcVtVol",c)),u=r&&t&&t.shouldIncludeSound?c:s,d=$(u).findFirst((function(e,t){return l=Math.max(l,t),t<=0})),$.isUndef(d)&&n.doEligibleJobs(l)},f=function(e,t){var n={};n[e]=t,ee.getAggregator().trigger(De.AddOutputItem,{output:n},{minDt:!1})},p=function(e){$.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],s=[],c=[],$(e.sliceStatus).each((function(e){i.push(new Je(1)),s.push(0),r&&(o.push(new Je(1)),c.push(0))})))}(e),l(e))};return{start:function(){a=r?g:d,e.addMeasurementChangedListener(p)}}},Fr=function(e,t,n){"use strict";return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},xr=function(e,t,n,r,i,o,a,s,c,u){"use strict";var d="measurementChanged",g=!1,l=Nt.isVideo(),f=o.request(Ne.MobileApp),p=_e().applies(n,i),m=n.browserIs(te.BROWSERS.GECKO)||p,h=Nt.xDomainIframe&&!m,v=new Ke(10),E=function(){i.on("viewabilityready")&&!g&&(r.send(te.DT_CODES.VIEWABILITY_READY),o.trigger(De.Measurable),g=!0)};o.on(De.DelayedViewabilityReady,(function(){I(),E()})),o.on(De.DelayedViewabilityReadyCallOnly,E);var I=function(n){n=n||!1;try{var r,i;v.start(),t.hasMeasurementStrategy()?i=(f.isMobileAppEnvironment()||Nt.isOmidNative())&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(s.collect(),n):(i=s.collect(),f.isMobileAppEnvironment()?(i.viewState=te.NA,i.method=te.NA,i.percentInView=te.NA):h&&(i.viewState=te.NA,i.percentInView=te.PIV_NA),l&&u.setVideoSpecificScreenEventFields(i)),r=c.registerLocation(i),n||e.trigger(d,i),v.stop();var g=Yt.round(v.getTime()/v.getCount());return a.addItem({output:g},"lt",{type:te.DT_CODES.UNLOAD}),r}catch(e){o.trigger(De.Error,te.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:I,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":l?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=Nt.xDomainIframe,r=e&&n.browserIs(te.BROWSERS.WEBKIT),i=e&&n.browserIs(te.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&p);return Nt.isOmid()&&(o=!0),f.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){f.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on(d,t)}}},Lr={name:"viewabilityLoopLifecycle",dependencies:[Ne.Viewability,Ne.Features,Ne.Context,Ne.Browser],creator:function(n,r,i,o){"use strict";var a,s=Ur(i),c=[new Wr,new kr(s)],u=function(e){"sessionFinish"===e.type&&(ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.OMIDSessionFinish),ee.getAggregator().trigger(De.AdSessionComplete))},d=function(){var e,t=ee.getAggregator().request(Ne.MobileApp).isMobileAppEnvironment();ee.getAggregator().request(Ne.IDS).impressionIsIdentifiable()&&(a=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=Yt.setInterval(e,r))},o=function(t){n&&(t&&e(),Yt.clearInterval(n),n=null)};return{start:i,stop:o,updateFrequency:function(e,t){r=e,n&&(o(),i(t))}}}(n.checkScreenLoc,s.getPollingFrequency()),(e=$(c).findFirst((function(e,t){return t.applies(o,r,i)?t:void 0})))?e.start(a):a.start(!0),Nt.isOmid()?ee.getAggregator().request(Ne.OmidVerificationClient).registerSessionObserver(u,"IAS"):g(t?"MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE":"beforeunload"))},g=function(e){bt.addEvent(t,e,(function(){ee.getAggregator().trigger(De.AdSessionComplete)}),!1)},l=function(){i.isVideo()&&!i.isOmid()&&f(),ee.getAggregator().trigger(De.Unload),a&&a.stop(),ee.getAggregator().trigger(De.EndAdSession),ee.getAggregator().trigger(De.StopAdTalk)},f=function(){var t=new Ct(te.DT_CODES.VIDEO_EVENTS);ee.getAggregator().trigger(De.SendDt,t.callType,t.enumerator,(function(){var t={id:e.videoId,msg:"unloadComplete",messageType:"misc"};Yt.getWindow().postMessage(JSON.stringify(t),"*")}))};ee.getAggregator().once(De.StartViewabilityLoop,d),ee.getAggregator().once(De.AdSessionComplete,l)},settings:{tier:te.TIERS.VIEWABILITY}},Ur=function(e){"use strict";return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},kr=function(e){"use strict";var t,n,r,i,o,a=!0,s=function(c){if(r&&!o&&c<1)return o=!0,void Yt.setTimeout((function(){s(c)}),1e3);i=c<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),a)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),a))},c=function(e){s(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(a),ee.getAggregator().on(De.IoPivChange,s),ee.getAggregator().on(De.NewScreenEvent,c)}}},Wr=function(){"use strict";var e,t,n,r=!0,i=!1,o=function(a){return n&&!i&&a<1?(i=!0,void Yt.setTimeout((function(){o(a)}),1e3)):(a<1?(e||t.stop(r),e=!0):e&&(e=!1,t.start(r)),e)},a=function(){t.start(r)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=_e();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(r),ee.getAggregator().on(De.IoPivChange,o),ee.getAggregator().on(De.NodesAdded,a)}}},Br=function(r,i,o,a,s,c){"use strict";var u,d,g,l,f,p,m,h,v,E,I=Mt.getElementsWindow(i),A=(ee.getAggregator().provide(Ne.IframeCalculatorHelper,di(I)),oi(i,a)),S=te.AD_IDENTIFIER+"-"+e.asid,y=!1,T=_t({}),O=Nt.isDeviceTypeGroupMobile(),D=Nt.usesGroupMCustomMetricMobilePassThru(),w=function(){return u||(u=A.calcDims(i,a,g),e.autotagSizeSet&&e.adWidth>1&&e.adHeight>1&&(u.set("width",e.adWidth),u.set("height",e.adHeight)),N()?b(u):o===te.DETECTION_METHODS.AD_PLACEHOLDER&&u.treatAsPlaceholder()),u},N=function(){return o===te.DETECTION_METHODS.VIDEO&&Nt.embedded},b=function(e){var t=new _t(i).getRounded();try{e.set("width",t.width),e.set("height",t.height)}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},C=function(){return!1},R=function(){var e,n=P(),i=A.getClippedDims&&(N()||Nt.isCeltra());return n?d=g.getPiv():$.isUndef(d)&&(e=!O&&(Nt.friendly||$.isDef(t.mozInnerScreenX))&&s.on("offscreen"),h=w(),m=new _t(Mt.calcWinDims()),p=new _t(e?Mt.calcMonDims():{}),v=i?A.getClippedDims():T,d=r.calcPercentInView(h,m,p,v)),d},_=function(){return r.calcInitialViewState(R())},M=function(){return i!==t&&w().isHidden()},P=function(){var e=!!g,t=Nt.xDomainIframe&&y,n=O&&y&&g.isReady(),r=Nt.isPageOnShadowDomWhitelist();return e&&(r||t||n)};return function(){var e=Yt.getWindow(),t=Yt.getDoc(),n=i===e,a=t.body,s=ee.getAggregator(),c=new _e,u=s.request(Ne.Browser),d=s.request(Ne.Features),p=s.request(Ne.Context),m=!Nt.xDomainIframe,h=n&&a?t.body:i;if(E=Nt.friendlyIframe?e.frameElement:h,bt.addEvent(h,"pointerdown",(function(e){ee.getAggregator().trigger(De.AdComponentPointerDown,e)})),bt.addEvent(h,"pointerup",(function(e){ee.getAggregator().trigger(De.AdComponentPointerUp,e)})),bt.addEvent(h,"click",(function(e){ee.getAggregator().trigger(De.AdComponentClicked,e)})),bt.addEvent(window,"blur",(function(e){ee.getAggregator().trigger(De.Blur,e)})),bt.addEvent(h,"touchstart",(function(e){ee.getAggregator().trigger(De.AdComponentTouchStart,e)})),bt.addEvent(h,"touchend",(function(e){ee.getAggregator().trigger(De.AdComponentTouchEnd,e)})),bt.addEvent(h,"mouseover",(function(e){ee.getAggregator().trigger(De.AdComponentMousedOver,e)})),bt.addEvent(h,"mouseout",(function(e){ee.getAggregator().trigger(De.AdComponentMousedOut,e)})),c.applies(u,d,p)){if((g=wn(i,m)).start(),y=!0,D&&o!==te.DETECTION_METHODS.AD_PLACEHOLDER){var v=new Si(w().getRounded()),I=new wi,A=new Ni(g.getObservedNode(),I);l=new Ti(v.getSlices(),A)}}else D&&(f=new Oi(r))}(),{mark:function(){Mt.setAttributeOf(E,S,"")},cleanup:function(){Mt.removeAttributeOf(E,S)},isNode:function(e){return i===e},isHidden:M,isObstructed:C,getDims:w,getPercentInView:R,getLocationState:_,getOnPageViewability:function(){return M()?te.OUT_OF_VIEW:_()},getDetectionMethod:function(){return o},getContainerDims:function(){return A.allowsOptimization?u:_t(a)},refresh:function(){u=void 0,d=void 0,p=void 0,m=void 0,h=void 0,v=void 0,c&&function(){var e,r;if(!Nt.isDomless()&&(r=i.parentNode)){for(;i!==t&&r&&r!==n&&!e;)e=r===a,r=r.parentNode;e||(a=i.parentNode)}}()},getAdNode:function(){return i},getSliceStatus:function(){var e;return l&&l.isReadyToMeasure()?e=l.getSliceStatus():Nt.friendly&&f&&$.isDef(h)&&(e=f.getSliceStatus(h,m,p,v)),e}}},Gr=function(e,t){"use strict";var n,r=[],i=$([]),o=function(){return r[0]&&r[0].getDetectionMethod()===te.DETECTION_METHODS.AD_PLACEHOLDER},a=function(a,s,c,u){var d,g=o()||0===r.length,l=Br(e,a,s,c,t,u);o()&&(d=r.shift(),i=$(r),d.cleanup(),n=void 0),r.push(l),i=$(r),g&&l.mark(),g&&s!==te.DETECTION_METHODS.AD_PLACEHOLDER&&ee.getAggregator().trigger(De.PrimaryAdFound,l)},s=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var a,s=i.getDims();s.hasValidDims()&&(e=i.getPercentInView(),t=e!==te.NA,a=s.area(),r+=a,o+=e/100*a)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},c=function(e){var t=ee.getAggregator().request(Ne.AdRenderStatus);return!e&&!t},u=function(e){var t,n=s();return t=n.hasMeasurement?Yt.round(n.totalInView/n.totalArea*100):te.PIV_NA,(isNaN(t)||c(e))&&(t=0),t},d=function(n){var r=t.bootstrapOn(be.MobOrTab),i=s().totalArea>=te.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!Nt.isVideo();return e.calcInitialViewState(u(n),i)},g=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},l=function(e){return function(){return r[0]&&r[0][e]()}},f=function(e){$(e).each((function(e,t){const n=-1===g(t),r="object"==typeof t&&"IMG"===t.nodeName&&1===t.height&&1===t.width;n&&!r&&a(t,te.DETECTION_METHODS.MUTATION)}))};return ee.getAggregator().on(De.AdComponentAdded,f),ee.getAggregator().on(De.AdComponentRemoved,(function(e){$(e).each((function(e,t){var n=g(t);n>-1&&r.splice(n,1)}))})),{addNodeToAdComponents:f,getDims:l("getDims"),isObstructed:l("isObstructed"),getDetectionMethod:l("getDetectionMethod"),getContainerDims:l("getContainerDims"),getViewState:d,getViewStateIgnoringRender:function(){return d(!0)},getPercentInView:u,getPercentInViewIgnoringRender:function(){return u(!0)},isHidden:l("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:a,clearCollection:function(){i.each((function(e,t){t.cleanup()})),r=[],i=$([]),n=void 0},getOutOfViewReasons:function(e){var t,i=[],o=r[0],a=te.OUT_OF_VIEW_REASONS;return o&&(t=n||d(),c(e)?i.push(a.RENDER):t!==te.OUT_OF_VIEW&&t!==te.PARTIAL_VIEW_MINUS||i.push(a.GEOM),o.isHidden()&&i.push(a.HIDDEN),o.isObstructed()&&i.push(a.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:l("getSliceStatus")}},Hr=function(){"use strict";var e,t,n,r=function(e){e?e&&n&&(Yt.execAtEndOfThread((function(){ee.getAggregator().trigger(De.DelayedViewabilityReadyCallOnly)})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||zr();var n=Mt.crossQuerySelector(zr().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},jr=function(t,n){"use strict";var r,i=t||e.contextNode.parentNode,o=Mt.findChildWithLargestContent(i,n);return Mt.getNodeArea(o)>1&&!o[te.IAS_DETECTOR]&&(r=o),r},qr=function(){"use strict";var e=ee.getAggregator().request(Ne.OmidAdSessionContext);return{usePlaceholder:!0,detectionMethod:te.DETECTION_METHODS.OMID,isApplicable:function(){return Nt.isOmidForWeb()&&!Nt.isOmidNative()},find:function(){return e.element||e.queuedOutputItems.push({code:"oea",value:!0}),e.element},getAdContainer:function(){return e.element&&e.element.parentNode},allowForAdContainerChange:!0}},Yr=function(){"use strict";return{detectionMethod:te.DETECTION_METHODS.IFRAME,find:function(){return t},isApplicable:function(){return Nt.embedded},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Kr=function(){"use strict";var e,t=Yt.getDoc().scripts,n=function(){return e||(e=$(t).findFirst((function(e,t){return tn.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:te.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=$([i,o]).findFirst((function(e,t){return Mt.crossQuerySelector(t,true)}))}catch(e){}return t}}},Xr=function(){"use strict";var e="_tpi";return{isApplicable:function(t,n){var r;try{r=Mt.getFrameId()}catch(e){}return n.on("yieldmo")&&r&&tn.contains(r,e)&&Mt.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+Mt.getFrameId().replace(e,"")+"']"},detectionMethod:te.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},Jr=function(){"use strict";var e,t,n=Yt.getDoc(),r=function(){var t,r,i="ebDiv";return e||(r=(t=Mt.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split(i)[1]),e},i=function(){var e=Mt.crossQuerySelector("iframe[id*='ebAd'][id$='"+r()+"']",!0);return e&&e.id},o=function(){var e,n;return t||(e=i()?i():(n=Mt.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&n.id,t=e&&"#"+e),t};return{detectionMethod:te.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,i,a=Yt.getWindow(),s=e.friendlyIframe&&Yt.getWindow().frameElement,c=s&&_t(s).isOneByOne(),u=(n=["bs.serving-sys.com/BurstingPipe/adServer","secure-ds.serving-sys.com/BurstingCachedScripts"],i=Yt.getDoc().scripts,$(i).findFirst((function(e,t){return $(n).findFirst((function(e,n){return tn.contains(t.src,n)}))}))),d=a.EBG&&a.EBG.ads&&!$(a.EBG.ads).isEmpty();return t.on("sizmek")&&u&&d&&c&&r()&&o()},getCssSelector:o}},zr=function(){"use strict";var e,t=ee.getAggregator().request(Ne.Features);return e||(e=[Jr(),Xr(),Kr()]),$(e).findFirst((function(e,n){return n.isApplicable(Nt,t)}))},Qr=function(){"use strict";var e,t=function(){Yt.execAtEndOfThread((function(){ee.getAggregator().trigger(De.DelayedViewabilityReadyCallOnly)}))};return{usePlaceholder:!1,detectionMethod:te.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=$r().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=Mt.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},$r=function(){"use strict";var t,n="celtra-ad-v3",r="celtra-ad-v4",i=function(){var i,o=e.contextNode.parentNode;return o&&(tn.contains(o.className,n)||tn.contains(o.className,r))?t=o:(i=o&&(Mt.querySelector(o,".celtra-ad-v3")||Mt.querySelector(o,".celtra-ad-v4")))&&(t=i),t};return{find:i,isApplicable:function(){return void 0!==i()}}},Zr=function(){"use strict";var t=ee.getAggregator().request(Ne.MobileApp);return{usePlaceholder:!0,detectionMethod:te.DETECTION_METHODS.AD_HUNT,isApplicable:t.isMobileAppEnvironment,find:function(){return(e=Mt.findChildWithLargestContent(Yt.getDoc().body))&&e.hasValidSizeForMobileApp&&!e[te.IAS_DETECTOR]?e:void 0;var e},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}};const ei=new class{constructor(){this.cachedIsFoundOnPage=!1}getDocument(){let e;try{e=Yt.getDoc()}catch(e){}return e}hasBrowserSupport(){let e=!1;const t=this.getDocument(),n=!Nt.isDomless(),r=!(!t||"function"!=typeof t.body.attachShadow);return n&&r&&(e=!0),e}isFoundOnPage(e){const t=Yt.getDoc(),n=e||t.body;let r=!1;if(this.cachedIsFoundOnPage)r=!0;else if(this.hasBrowserSupport())if(n.shadowRoot)r=!0,this.cachedIsFoundOnPage=!0;else{const e=n.querySelectorAll("*");for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.shadowRoot){r=!0,this.cachedIsFoundOnPage=!0;break}}}else r=!1;return r}findElement({root:e,selector:t}){if(e.matches&&e.matches(t))return e;let n=e.children;e.shadowRoot&&e.shadowRoot.children&&(n=e.shadowRoot.children);for(const e of n){if(e.shadowRoot){const n=this.findElement({root:e.shadowRoot.host,selector:t});if(n)return n}const n=this.findElement({root:e,selector:t});if(n)return n}return null}querySelector({customRootElement:e,selector:t}){const n=Yt.getDoc(),r=e||n.body;return this.findElement({root:r,selector:t})}};var ti=function(){"use strict";var t,n=function(e){var t=$.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container");return t&&"#"+t||e._cl_adpath},r=function(){var t=ee.getAggregator().request(Ne.Features),n=e&&4===e.integration;return!t.on("forceKeepGoogleAdNode")||!n};return{getAdSelectorId:n,detectionMethod:te.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return Nt.isSpecifiedAd()},find:function(){var i=n(e),o=Mt.crossQuerySelector(i),a=Nt.isPageOnShadowDomWhitelist(),s=function(e){return r()&&Mt.getNodeArea(e)<1}(o);return o?(t=Mt.getParent(o),s&&(t=o,o=Mt.findElementsWithSize(o))):a&&ei.isFoundOnPage()&&(o=ei.querySelector({selector:i}),t=Mt.getParent(o)),o},getAdContainer:function(){return t},allowForAdContainerChange:!0,shouldValidateAdNode:r}},ni=function(){"use strict";var t;return{detectionMethod:te.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return Nt.isCompoundAd()},find:function(){var n,r,i=[];return(n=e._cl_adpath,/\[(.*)\]/.exec(n)[1].split(",")).forEach((function(e){(r=Mt.crossQuerySelector(e))&&(t=Mt.getParent(r),Mt.getNodeArea(r)<1&&(t=r,r=Mt.findElementsWithSize(r))),i.push(r)})),i},getAdContainer:function(){return t},allowForAdContainerChange:!0}},ri=function(){"use strict";return{usePlaceholder:!0,detectionMethod:te.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:jr,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},ii=function(){"use strict";return{detectionMethod:te.DETECTION_METHODS.VIDEO,find:ee.getAggregator().request(Ne.Video).findAdNode,isApplicable:Nt.isVideo,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},oi=function(e,t){"use strict";var n,r,i=[ci(),si(),ai()];return r=$(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=ui()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},ai=function(){"use strict";return{calcDims:function(e,t){var n,r,i=new _t(e);return Mt.isClippable(e,t)&&(n=Mt.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(Nt.isSpecifiedAd()||Nt.isBustedIframe())&&Mt.nodeIsInWindow(e,Yt.getTop()),n=!Mt.elementIsEmbedded(e);return t||n}}},si=function(){"use strict";var e=ee.getAggregator().request(Ne.IframeCalculatorHelper);return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(Nt.isSpecifiedAd()||Nt.isBustedIframe())&&Mt.elementIsEmbedded(e)}}},ci=function(){"use strict";var e=ee.getAggregator().request(Ne.IframeCalculatorHelper);return{calcDims:function(t){var n=e.calcDims(),r=new _t(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(Nt.isSpecifiedAd()||Nt.isBustedIframe())&&Nt.embedded&&!Mt.nodeIsInWindow(t,Yt.getTop()),r=Nt.isCeltra()&&Mt.elementIsEmbedded(e);return n||r}}},ui=function(){"use strict";var e;return{calcDims:function(t,n,r){var i=$.isDef(r)?r.getAdNodeDimensions():void 0;return e&&$.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=_e(),n=ee.getAggregator(),r=n.request(Ne.Browser),i=n.request(Ne.Features),o=n.request(Ne.Context),a=Nt.isPageOnShadowDomWhitelist();return(o.isDeviceTypeGroupMobile()||a)&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},di=function(e){"use strict";e=e||Yt.getWindow();var t=function(n,r){n=n||e,r=r||{top:0,left:0,width:Yt.getMaxNumber(),height:Yt.getMaxNumber()};for(var i,o=n.parent.frames,a=!1,s=0,c=o.length;s<c;s++)if(o[s]==n){i=o[s],a=!0;break}if(a){var u=Mt.getRect(i.frameElement);r.left+=u.left,r.top+=u.top;try{r.width=Yt.min(r.width,u.width),r.height=Yt.min(r.height,u.height)}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.GET_AD_DIMENSIONS)}n!==Yt.getTop()&&t(n.parent,r)}return r},n=function(){var n,r,i,o,a,s,c,u,d,g,l,f={};try{g=Yt.getMaxNumber(),l=Yt.getMaxNumber(),Nt.friendly?(s=(o=t()).left,c=o.top,g=o.width,l=o.height,u=(a=Mt.browserWindowPosition()).scrX+s,d=a.scrY+c):$.isDef(e.mozInnerScreenX)&&(u=Yt.round(e.mozInnerScreenX),d=Yt.round(e.mozInnerScreenY)),f={scrX:u,scrY:d,iFrameClippingWidth:g,iFrameClippingHeight:l},$.isDef(e.innerWidth)?(r=e.innerWidth,i=e.innerHeight):e.frameElement&&$.isDef(e.frameElement.clientWidth)&&(r=e.frameElement.clientWidth,i=e.frameElement.clientHeight),n={width:r,height:i},f.height=n.height,f.width=n.width}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.GET_AD_DIMENSIONS)}return f};return{calcDims:function(){return new _t(n())},getClippedDims:function(){var e=n();return new _t({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},gi=function(){"use strict";return{createInstance:function(e,t,n){return Nt.isDomless()?new fi:new li(e,t,n)}}},li=function(r,i,o){"use strict";var a,s,c=ee.getAggregator().request(Ne.Browser),u=e&&e.contextNode&&e.contextNode.parentNode?e.contextNode.parentNode:null,d=Gr(i,o),g=function(){var e,t,n,r;a=a||function(e,t){var n=q&&q.measurementConfig&&q.measurementConfig.tagDeliveryType,r=e.isBustedIframe()&&n===B.Iframe,i=[ni(),ti()],o=[qr(),Zr(),ii(),Hr(),Qr(),Yr()],a=i.concat(o);return r?a.unshift(ri()):a.push(ri()),$(a).findFirst((function(n,r){return r.isApplicable(e,t)}))}(Nt,o),e=a.find(),Nt.friendlyIframe&&Nt.isBlockingSizmekTag()&&h(e),!e&&a.usePlaceholder?(l(),p()):e&&(n=$(e).isArray()?e:[e],t=a.getAdContainer(),r=a.allowForAdContainerChange,$(n).each((function(e,n){d.addAdComponent(n,$.resolve(a.detectionMethod),t,r)})))},l=function(){var t;d.hasAd()||(t=Mt.getPlaceholderSpan(),u.insertBefore(t,e.contextNode.nextSibling),d.addAdComponent(t,te.DETECTION_METHODS.AD_PLACEHOLDER,Mt.getParent(t)))},f=function(e,t){var n=!1;$(e).each((function(e,t){t.addedNodes&&t.addedNodes.length>0&&(n=!0)})),n&&(ee.getAggregator().trigger(De.NodesAdded),t.disconnect())},p=function(){Nt.isDeviceTypeGroupMobile()&&c.hasMutationObserver()&&Yt.getMutationObserver(f).observe(u,{childList:!0})},m=function(e,t){var n,r=!1;$(e).each((function(e,t){switch(t.type){case"childList":$(t.addedNodes).each((function(e,t){t.nodeName&&"script"===t.nodeName.toLowerCase()&&(r=!0)}));break;case"attributes":t.target.height*t.target.width<=1&&(r=!0)}})),r&&((n=Jr()).isApplicable(Nt,o)&&(t.disconnect(),a=Hr(),d.clearCollection(),ee.getAggregator().trigger(De.NodesAdded)),setTimeout((function(){n.isApplicable(Nt,o)&&(t.disconnect(),a=Hr(),d.clearCollection(),ee.getAggregator().trigger(De.NodesAdded))}),0))},h=function(e){var t,n;if(!s&&c.hasMutationObserver()&&Mt.isWindow(e))try{s=Yt.getMutationObserver(m),t=e&&e.frameElement,n=e&&e.document&&e.document.body,s.observe(t,{attributes:!0,attributeFilter:["height","width"]}),s.observe(n,{childList:!0,subtree:!0})}catch(e){}};return function(e){var r=!1;if(!$.isUndef(t.MutationObserver)){var i=new t.MutationObserver((function(e){Yt.execAtEndOfThread((function(){r&&$(e).each((function(e,t){t.addedNodes.length&&ee.getAggregator().trigger(De.AdComponentAdded,t.addedNodes),t.removedNodes.length&&ee.getAggregator().trigger(De.AdComponentRemoved,t.removedNodes)}))}))})),o=function(){r=!0,Yt.setTimeout((function(){r=!1}),40)};ee.getAggregator().on(De.AdComponentClicked,o),ee.getAggregator().on(De.AdComponentTouchEnd,o),ee.getAggregator().on(De.AdComponentMousedOver,o),ee.getAggregator().on(De.AdComponentClicked,$n.adComponent.trackClick),ee.getAggregator().on(De.AdComponentMousedOver,$n.adComponent.trackMouseOver),ee.getAggregator().on(De.AdComponentMousedOut,$n.adComponent.trackMouseOut),ee.getAggregator().on(De.AdComponentTouchEnd,$n.mobile.trackTouchEnd),ee.getAggregator().on(De.AdComponentTouchStart,$n.mobile.trackTouchStart),ee.getAggregator().on(De.Blur,$n.adComponent.trackBlur),ee.getAggregator().on(De.AdComponentPointerDown,$n.mobile.trackPointerDown),ee.getAggregator().on(De.AdComponentPointerUp,$n.mobile.trackPointerUp),bt.addEvent(t,we.BEFORE_UNLOAD,$n.finalizeAllCollectedData,!1),bt.whenReady((function(){try{i.observe(n.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(te.ERROR_CODES.AC_WATCHER)}}),Yt.getDoc())}}(r),{find:function(){return d.isUsingPlaceholder()||!d.hasAd()?g():d.refresh(),d},getDetectionMethod:function(){}}},fi=function(){"use strict";var e=function(){return null};return{find:e,getDetectionMethod:e}},pi=function(e){"use strict";var t=new Ei,n=new Ii,r=rt().getUserAgent().toLowerCase(),i=function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0,ee.getAggregator().trigger(De.AddOutputItem,{output:t[e].substring(0,2)},be.Mapp1ExclusionListMatch,{type:te.IMPRESSION_EVENT});break}return n};return function(){var r="",o=ee.getAggregator().request(Ne.OmidAdSessionContext),a=Nt.isDomless()||o&&"app"===o.environment,s=o&&"web"===o.environment,c=e.bootstrapOn(be.MobOrTab),u=e.bootstrapOn(be.MobAppWebview),d=e.bootstrapOn(be.MobApp),g=c&&u||d;try{a||!s&&g&&!i()?(r=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==r&&"u_cars"!==r||(Ai[Ai.length-1].detectionRules.userAgent[0]="/"),n.detect(),ee.getAggregator().trigger(De.AddOutputItem,{output:"1"},be.MobileAppEnvironment,{type:te.IMPRESSION_EVENT}),ee.getAggregator().trigger(De.AddOutputItem,{output:r},be.MatchedMobileAppDetectionRule,{type:te.IMPRESSION_EVENT}))):s&&ee.getAggregator().trigger(De.AddOutputItem,{output:"a_oweb"},be.MatchedMobileAppDetectionRule,{type:te.IMPRESSION_EVENT})}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.MOBILE_APP)}}(),{excludedByUserAgent:i,isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}};const mi={url:{STRINGIFIED_METHOD:"u",detect:function(r){"use strict";var i;if(Nt.isDomless())return!1;const o=Yt.getWindow().location.href,a=[o];try{a.push(top.location.href)}catch(e){}try{a.push(parent.location.href)}catch(e){}if(Nt.embedded){try{a.push(parent.document.referrer)}catch(e){}try{a.push(n.referrer)}catch(e){}}try{"jsi"!==(null===(i=q.adTag)||void 0===i?void 0:i.tagType)&&a.push(t.location.href)}catch(e){}try{a.push(e.jsref)}catch(e){}return a.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!$(r).findFirst((function(e,t){let n,r,i=!1;const s="mobfox"===t?a:[o];for(r=0;r<s.length;r++){n=s[r];const e="string"==typeof t?[t]:t;if($(e).isArray()&&e)for(let t=0;t<e.length&&(i=n.indexOf(e[t])>-1,!1!==i);t++);if(i)break}return i}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){"use strict";return!Nt.isDomless()&&!!$(e).findFirst((function(e,t){let n=!1;const r=rt().getUserAgent();return"string"==typeof t&&(n=-1!==r.indexOf(t)),n}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){"use strict";return!!$(e).findFirst((function(e,t){let n=!1;return n=$.isDef(tn.stringToProp(t)),n}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){"use strict";return!Nt.isDomless()&&!!$(e).findFirst((function(e,t){return Mt.containsScriptTagWithSrc((function(e){let n=!1;return n=$.isDef(e)&&-1!==e.indexOf(t),n}))}))}}},hi=function(){"use strict";const e=function(e,t){let n;const r=mi[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return $(t).map(e).join("")}}};var vi=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}},{STRINGIFIED_APPDET:"kkao",detectionRules:{userAgent:["KAKAOTALK"]}},{STRINGIFIED_APPDET:"mrai",detectionRules:{javascript:["mraid"]}}],Ei=function(){"use strict";var t,n=function(e,t){var n,r=hi().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(t=(t=$(vi).map(n)).length>0?t[0]:"")&&e.hasOwnProperty("serverSideAppDetection")&&0!==e.serverSideAppDetection.length&&(t="s_serv"),t},hasDetectedMobileApp:function(){return void 0!==t&&""!==t}}},Ii=function(){"use strict";var e=[],t=[],n=function(t,n){var r,i=hi().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=$(Ai).map(n)).length>0&&ee.getAggregator().trigger(De.AddOutputItem,{output:function(){return e.join(".")}},be.AppSDKsDetected,{type:te.IMPRESSION_EVENT}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&$.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},Ai=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"kkao",detectionRules:{userAgent:["KAKAOTALK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],Si=function(e){"use strict";var t=[],n=function(e,t,n){return new Di(0,e,n,n+t)};return function(){if(e.height<10)t.push({geometry:new Di(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r,i=Math.floor(e.height),o=i%10,a=(i-o)/10,s=0;s<10;s++){var c=s<o?a+1:a,u={geometry:n(e.width,c,r||0),percentageInViewContribution:10,isInView:!1};t.push(u),r=u.geometry.value().bottomY}}(),{getSlices:function(){return t}}},yi=function(){"use strict";var e,t=te.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=te.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},Ti=function(e,t){"use strict";var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return $(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),a=Math.max(r.leftX,o.leftX),s=Math.min(r.rightX,o.rightX),c=Math.max(r.topY,o.topY),u=Math.min(r.bottomY,o.bottomY);n.push(new Di(a,s,c,u))}})),n}(e,t);return $(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){$(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],$(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([Nt.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],$(e).each((function(e,t){n.mbpr.push(te.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return $(e).each((function(e,n){t.push(n.isInView)})),t}}},Oi=function(e){"use strict";var t=yi();return{getSliceStatus:function(n,r,i,o){var a,s=[],c=n.getRounded(),u=c.height,d=c.scrY,g=new _t({scrX:c.scrX,width:c.width}),l=t.getConfig(c).numberOfSlices;g.set("height",Yt.floor(u/l));for(var f=0;f<l;f++)g.set("scrY",Yt.ceil(d+u/l*f)),a=100===e.calcPercentInView(g,r,i,o),s.push(a);return s}}},Di=function(e,t,n,r){"use strict";var i=Math.ceil(e),o=Math.ceil(t),a=Math.ceil(n),s=Math.ceil(r),c=o-i,u=s-a,d=c*u,g=function(){return{leftX:i,rightX:o,topY:a,bottomY:s,width:c,height:u,area:d}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},wi=function(){"use strict";return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},Ni=function(e,t){"use strict";var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},a=function(e){var t,n=function(){var e=[];return $(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var a=n[r],s=n[r+1];i.push(new Di(0,e,a,s))}},s=function(e,t){i.push(e),a(t),$(r).each((function(e,t){t(i)}))},c=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,a,u=e.pop(),d=u.boundingClientRect,g=d.width,l=u.intersectionRatio,f=u.intersectionRect,p=(t=d,r=(n=f).left-t.left,i=r+n.width,o=n.top-t.top,a=o+n.height,new Di(r,i,o,a));s(p,g),1===l&&c()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},bi=function(){"use strict";var e=function(e){var t=!1;return Ci.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return t.omidNativeInfo&&t.omidNativeInfo.partnerName&&e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},Ci=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],Ri=function(){"use strict";return{listenForResult:function(){ee.getAggregator().on(De.VideoBlockResult,(function(t){var n=ee.getAggregator().request(Ne.AdNode),r=!1,i="blockAd"+e.videoId;"failed"===t.action&&(r=!0),n&&$.isDef(n.blockAd)?n.blockAd(r):n&&$.isDef(n[i])&&n[i](r)}))}}};const _i=function(){"use strict";const e=[];return{registerEvent:(t,n)=>{const r=function(e,t){var n,r;const i=e=>e.getVolumeFromContext(a),o=ee.getAggregator().request(Ne.VideoTranslator).translate(e.messageType),a=(e=>{const t=e.eventData||{},n=$({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n})(e),s=(e=>{let t;const n=e.eventData&&e.eventData.ext_passthrough,r=(e,t)=>{const n={};return n[`x_${e}`]=t,n};return n&&(t=$(n).mapToObj(r)),t})(e),c=null===(n=q.measurementConfig)||void 0===n?void 0:n.birthdate,u={t:e.time-c,tp:o,sl:t};try{if(void 0!==e.volumeHandler){const t=i(e.volumeHandler);if(void 0!==t){const n=parseFloat(t),i=null===(r=null==e?void 0:e.latestScreenEvent)||void 0===r?void 0:r.percentInView,o="number"==typeof i,a="AdVideoComplete"===e.messageType;o&&a&&n>0&&i>=50?u.avoc=1:o&&a&&(u.avoc=0)}}}catch(e){}$(u).mixin(a),$(u).mixin(s);const d=$({indicatesPlaying:()=>-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(o),indicatesNotPlaying:()=>-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(o),indicatesFullscreen:()=>{const e=Yt.getWindow();return!("resizeAd"!==o&&"initAd"!==o||"fullscreen"!==a.viewMode&&a.width!==e.screen.width)},indicatesNormalSize:()=>"resizeAd"===o&&"normal"===a.viewMode,indicatesQuartile:()=>-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(o),indicatesCompletion:()=>-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(o),getVolume:i,updateScreenLoc:e=>{u.sl=e,d.sl=e},trigger:()=>{"adImpression"===o?ee.getAggregator().persistentTrigger(o,a,s):ee.getAggregator().trigger(o,a,s)},toString:()=>"{"+$(u).toParams()+"}"}).mixin(u);return d}(t,n);return e.push(r),r},toString:()=>"{"+$({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}",isEmpty:()=>0===e.length}};var Mi=function(){"use strict";var e,t,n,r=function(r){n=$.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&ee.getAggregator().trigger(De.SendDt,te.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},a=function(e){var t=(new Vi).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){ee.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:a,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=ee.getAggregator().request(Ne.IsFullyInViewProvider);return!t||n&&n.isFullyInView(e)}))}}},Pi=function(){"use strict";var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}};const Vi=function(){"use strict";return{getVolumeFromContext:e=>{let t,n=-1;return $.isDef(e)&&($.isDef(e.volume)?n=e.volume:$.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}};var Fi=function(t,n,r){"use strict";var i,o,a,s="IASid"+t,c="getIasVidBridgeVersion"+t,u=[],d=te.OUT_OF_VIEW,g=!1,l=!1,f=!1,p=!0,m=new _i,h=Mi(),v=new Ri,E=new Vi,I=new Ht,A=function(e){var t;return g=!0,t=S(e),u.push(t),a&&D(),t},S=function(e){var n,i,o={};try{o=JSON.parse(unescape(e&&e.data?e.data:e))}catch(e){o={}}if(o.id==t)if(Nt&&Nt.isVastAudio()&&o.messageType&&o.eventData){var a=!!o.eventData.volume,s=-1==="AdVideoComplete|AdStopped|AdSkipped|AdPaused|AdError|AdUserClose".indexOf(o.messageType),c=a&&s;o.eventData.width=c?te.RENDER.WIDTH_THRESHOLD:0,o.eventData.height=c?te.RENDER.WIDTH_THRESHOLD:0,p=a,l=s,d=!!c&&te.IN_VIEW,n=m.registerEvent(o,c?"i":"o")}else o.latestScreenEvent=r.getLatestEvent(),o.volumeHandler=E,(n=m.registerEvent(o,r.getCurrentLoc())).indicatesPlaying()?(l=!0,d=!!f&&te.IN_VIEW):n.indicatesNotPlaying()?(l=!1,d=te.OUT_OF_VIEW):n.indicatesFullscreen()?(f=!0,d=l?te.IN_VIEW:te.OUT_OF_VIEW):n.indicatesNormalSize()&&(f=!1,d=!l&&te.OUT_OF_VIEW),(i=parseFloat(n.getVolume(E)))>0?p=!0:0===i&&(p=!1);return n},y=function(){i||($(["*[data-integralas-vid-"+t+"]",".integral-vid-"+t,"ias-ad","object","embed"]).findFirst((function(e,t){var n=Yt.getDoc().querySelectorAll(t);return i=function(e){return $($(e).toArray()).findFirst((function(e,t){return $.isFunction(t[s])}))}(n),i})),!i&&n.on("novidnodeerr")&&Math.random()<.1&&__IntegralASDiagnosticCall("novidnode",{message:"node not found*10"},e));return i},T=function(){var n=y();return n&&!g&&function(n){var r,i,o=jt().wrapToGlobal(A);try{i=n[c]||n.getIasVidBridgeVersion,r=$.isFunction(i)&&"2"===i.call(n)?unescape(n[s].call(n,t,o)):unescape(n[s].call(n,t)),g=!0,function(e){$.isStr(e)&&(ee.getAggregator().provide(Ne.VideoChannel,(function(){return e})),ee.getAggregator().trigger(De.AddOutputItem,{output:e},be.VideoChannel,{type:te.IMPRESSION_EVENT}))}(r||"n")}catch(t){__IntegralASDiagnosticCall("handshakefailure",t,e)}}(n),n},O=function(e){var t=E.getVolumeFromContext(e);p=!!$.isDef(t)&&t>0},D=function(){I.init(),$(u).each((function(e,t){t&&($.isUndef(t.sl)&&t.updateScreenLoc(r.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&ee.getAggregator().trigger(De.AdSessionComplete),t.indicatesQuartile()&&(t.tp!==De.AdVideoComplete&&ee.getAggregator().trigger(De.SendDt,te.DT_CODES.VIDEO_EVENTS),ee.getAggregator().trigger(De.VideoQuartileEvent,t)))})),u=[],a=!0},w=function(){return f&&l};return bt.addEvent(Yt.getWindow(),"message",(function(e){A(e)})),ee.getAggregator().on({volumeChanged:O}),ee.getAggregator().provide({videoEventsString:m,videoVersion:function(){var e,t=T();try{e=t.getVersion()}catch(t){e=-1,ee.getAggregator().trigger(De.Error,te.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return o=o||new Pi},adNode:T}),T(),v.listenForResult(),h.isApplicable(Nt)&&h.start(r),{findAdNode:T,getViewStateOverride:function(){return d},isHandshakeComplete:function(){return g},triggerInitializationEvents:D,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===te.NA;if(e.isVideoPlaying=!0,e.isSoundOn=p,e.isVideoPlayingInFullscreen=!1,d){if(d===te.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=te.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:d,e.isVideoPlaying=d===te.IN_VIEW}if(w()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0),Nt&&Nt.isVastAudio&&Nt.isVastAudio()){var r=te.RENDER.WIDTH_THRESHOLD,i=te.RENDER.HEIGHT_THRESHOLD,o=l&&p,a=new _t({scrX:0,scrY:0,width:o?r:0,height:o?i:0});e.adDimensions=a,e.containerDimensions=a,e.viewState=o?te.IN_VIEW:te.OUT_OF_VIEW,e.viewStateIgnoringRender=o?te.IN_VIEW:te.OUT_OF_VIEW,e.posViewState=o?te.IN_VIEW:te.OUT_OF_VIEW,e.percentInView=o?100:0,e.percentInViewIgnoringRender=o?100:0,e.isHidden=o?0:1,e.tabHidden=o?0:1}}}},xi=function(){"use strict";var e=te.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new Bi(te.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},Li=function(){"use strict";var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():ee.getAggregator().trigger(De.SendDt,te.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new Xe,r=0,i(!0),t.start()},a=function(r,i,a,s){var c=n[r];s?($.isDef(c[i])||(c[i]=[]),c[i].push(a)):c[i]=a,t&&t.isActive()||o(),e=!0},s=function(n,r,i){ee.getAggregator().trigger(De.AddOutputItem,{output:r},n,i),t&&t.isActive()||o(),e=!0},c=function(t){$(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};$(i).isEmpty()||(ee.getAggregator().trigger(De.AddOutputItem,{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){ee.getAggregator().on(De.PreSendDt,(function(e){c(e),t&&t.kill()})),ee.getAggregator().on(De.AddThrottledProp,a),ee.getAggregator().on(De.AddThrottledOutputItem,s)},addFieldTypes:function(e){$(e).each((function(e,t){n[t]={}}))}}},Ui=function(){"use strict";var e={},t=function(t){return!e[t]&&(e[t]=new Ke(1,q.measurementConfig.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),ee.getAggregator().trigger(De.AddThrottledProp,"im",e,n.getTime())};return{start:function(){ee.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},ki=function(){"use strict";var e=te.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new Bi(te.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},Wi=function(e){"use strict";var t={},n=e instanceof Array&&e.length>0;return n&&($(e).each((function(e,n){var r;t[(r=n).getType()]=r})),ee.getAggregator().on(De.PerfCheckpoint,(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),ee.getAggregator().provide(Ne.PerfActive,(function(){return n})),{isActive:n}},Bi=function(e,t){"use strict";var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),$(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return $(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},Gi=function(){"use strict";function e(){}return e.build=function(){var e,t=[];t.push((e=te.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT,new Bi(te.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)));var n,r=(n=ee.getAggregator().request(Ne.VideoChannel))?{jv3:Hi,av3:Hi,jvw:ki,avw:xi}[n]:void 0;return r&&t.push(r()),t},e}(),Hi=function(){"use strict";var e=te.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new Bi(te.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},ji={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){"use strict";ee.getAggregator().trigger(De.MeasureTime,ji.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){"use strict";bt.addEvent(t,"load",(function(){ee.getAggregator().trigger(De.MeasureTime,ji.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){"use strict";var e=new Xe;e.onTick({4:function(){ee.getAggregator().trigger(De.MarkTime,ji.IDS.IN_BROWSER_DELAY)},5:function(){ee.getAggregator().trigger(De.MeasureTime,ji.IDS.IN_BROWSER_DELAY)}}),e.start()}},qi={name:"postMessageDetector",dependencies:[],creator:function(){"use strict";var t,n=!1,r="pmdetector"+e.asid,i=function(e){(e&&e.data)===r&&(n=!0)};t=Yt.getWindow(),bt.addEvent(t,"message",i),t.postMessage(r,"*"),Yt.execAtEndOfThread((function(){ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.IM,"pom",$.stringifyTriState(n)),bt.removeEvent(t,"message",i)}))},settings:{tier:te.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("pmdetect")&&t.hasPostMessage()}}},Yi={name:"safeFrameDetector",dependencies:[],creator:function(){"use strict";ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.IM,be.SafeFrame,$.stringifyTriState(Nt.isSafeFrame()))},settings:{tier:te.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("sfdetect")}}},Ki=function(t,n,r,i,o,a,s){"use strict";var c="adsafe_jsinfo=",u=function(e){return"&"===e.slice(-1)?"":"&"},d=function(d){var g=i.baseUrl,l=q.measurementConfig.spImpMaxLength;if(Nt.integratedBlockingApplies(g)&&(g=function(t){var n=ee.getAggregator().request(Ne.MobileApp),r=n&&n.isMobileAppEnvironment&&n.isMobileAppEnvironment(),i=t+"adContainerId="+e.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+e.contextNode.getAttribute(te.CALLBACK_IDENTIFIER.toString());i=r?i.replace("monitoring","blocking"):i.replace("skeleton.js",e.integration+".js");var o=e.protocol+":"+e.staticServer+e.integration+"a.js",a=e.protocol+":"+e.staticServer+e.integration+".js";return i+"&true_pb="+encodeURIComponent(e.passback)+(r?"&redirectUrl="+encodeURIComponent(a):"")+(r?"&passback=":"&adsafe_pb=")+encodeURIComponent(o)+"&"}(g)),g=g.replace(te.UNIQUE_ID_TOKEN,e.asid),g+=function(e,r,i){var o,a="";try{(o=r-e-q.measurementConfig.spImpJsInfoMinLength)>0&&(a+=$i(i,o,c.length,n.on("partialUrls")).join("&"))}catch(e){t.add(te.ERROR_CODES.IMPRESSION_URLS)}return a}(g.length,l,d),g+=u(g),g+=function(e,i){var u="";try{u+=Ji(i-e,c,t,n,r,o,a,s,i)}catch(e){t.add(te.ERROR_CODES.JSINFO),u+="adsafe_jsinfo=e:"+t.toString()}return u}(g.length,l),i.macroUrl&&(g+=u(g),g+=i.macroUrl),e.staticFwjsMacros&&(g+=u(g),g+=e.staticFwjsMacros),Nt.isAMZN()&&-1===g.indexOf("gdpr_consent")){var f=ee.getAggregator().request(Ne.TCString);$.isDef(f)&&(g+=u(g),g+="gdpr_consent="+f)}return g};return{send:function(t){try{var n=d(t);e.impUrl=n,i.sendImpression(n),ee.getAggregator().trigger(De.ImpressionSent),function(){if(e.rts&&e.rts.tracked){var t=e.rts.tracked;ee.getAggregator().trigger(De.Notify,t)}}()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}}},Xi=function(){try{var n,r,i,o,a,s,c=e.perf;ee.getAggregator().trigger(De.AddOutputItem,{output:Nt.getTagTime()},be.StaticImpressionRFWCallResponseTime);c.markEnd("ec"),n=c.getEnd("ec"),r=t.performance&&"function"==typeof t.performance.getEntriesByName&&t.performance.getEntriesByName(e.impUrl)[0],i=function(t){var n=c.getStart("bd"),r=c.getStart(fe);return e.jsDoSplit?Math.round(t-n):Math.round(t-r)}(n),o=function(e){return Math.round(e&&e.duration)}(r),a=function(e,t){var n=t&&t.responseEnd;return Math.round(e-n)}(n,r),$.isNumeric(i)&&$.isNumeric(o)&&$.isNumeric(a)&&(s={ttecl:i,ecd:o,tsecr:a},ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.IM,"imprf",$(s).toION()))}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.IMPRESSION_PERFORMANCE)}};const Ji=(t,n,r,i,o,a,s,c,u)=>{"use strict";const d=e=>{let t="";return e&&(t=`,${e}`),t},g=(e,n)=>e.length+n.length+5<=t;return(t=>{let r="";const a=re.TcfApi,s=ie.TcfApiLocator,c=!Nt.isDomless()&&(({apiFunctionName:e,apiFrameLocatorName:t})=>{let n=!1;try{n=!!he({apiFunctionName:e,apiFrameLocatorName:t})}catch(e){}return n})({apiFunctionName:a,apiFrameLocatorName:s});return c&&i.on("consentDetection")?r+=(e=>{let t=n;const{primary:r}=e,i=r.find((e=>e.includes("id:")));return t+=d(`${be.CmpApi}:1`),t+=d(i),o.impressionIsIdentifiable(!0),t})(t):r+=(t=>{const r=$.encodeInvalidUrlChars(t.primary.join(","),e.encodeInvalidUrlChars);let i=0,a=n;return g(a,r)?(a+=d(r),o.impressionIsIdentifiable(!0),$(t.secondary).each(((t,n)=>{const r=$.encodeInvalidUrlChars(n,e.encodeInvalidUrlChars);g(a,r)?a+=d(r):i+=1}))):i+=t.primary.length,a+=",ov:"+i})(t),r})((()=>{let e,t,n;return n=(()=>{const e={viewState:te.NA};let t,n=e;return Nt.isDomless()?n=c.checkScreenLoc(!0)||e:i.on("impFailSafe")?Yt.getDoc().body&&(t=c.checkScreenLoc(!0),n=t||e):$.isDef(Yt.getDoc().body)&&(n=c.checkScreenLoc(!0)),c.isImmediatelyMeasurable()||c.requiresDelayedViewabilityEvent(),n})(),e=zi(n.viewState,o,i),t=Qi(n,r,i,o,a,s,c,u),ee.getAggregator().trigger(De.EligibleRender),{primary:e,secondary:t}})())};var zi=function(t,n,r){"use strict";var i=ee.getAggregator().request(Ne.Page);return["id:"+e.asid,"c:"+n.getCacheBustId(),"sl:"+t,"em:"+Nt.embedded,"fr:"+Nt.friendly,"thd:"+$.stringifyTriState(i.supportsVisAPI())]},Qi=function(t,n,r,i,o,a,s,c){"use strict";const{measurementConfig:u,privacySandbox:d}=q;var g,l="NotFound",f=[];if(f.push("mn:"+e.mn),f.push("rg:"+e.region),e.iasProxyPartnerDomain&&f.push("ipp:"+encodeURIComponent(e.iasProxyPartnerDomain)),f.push("pt:"+function(){var e=s.stringifyPingTimes();return t.viewState!==te.NA&&(e+=t.details),e}()),f.push("mu:"+c),f.push($(a.params()).toParams()),r.on("mrcAudit")&&!Nt.isDomless()&&f.push("dvs:"+Yt.getDoc().visibilityState),o.iterate((function(e,t){var n=!t.props||$.isUndef(t.props.type),r=!t.props||t.props.type===te.IMPRESSION_EVENT;(n||r)&&f.push(e+":"+t.output())})),n.toString()&&f.push("e:"+n.toString()),f.push(r.output()),f.push("tt:"+q.adTag.tagType),Nt&&Nt.isVastAudio&&Nt.isVastAudio()&&f.push("vau:1"),Nt){var p=void 0;Nt.isVideo()&&(p="v"),(Nt.isVastAudio()||Nt.isOmidAudio())&&(p="a"),p&&f.push(`xmtp:${p}`)}f.push("et:"+(Yt.now()-u.birthdate)),e.perf.mark("si"),r.on("swapids")?f.push("oid:"+e.oid):f.push("uid:"+i.unq),f.push("v:19.8.577"),f.push("sp:"+(e.isSplitMode?1:0)),f.push("st:"+(u.staticMode?1:0)),f.push("fwm:"+("true"===e.fwMonitoring?1:0)),r.on("resolution")&&(f.push("wr:"+$(Mt.windowSize()).toArray().join(".")),f.push("sr:"+$(Mt.screenSize()).toArray().join(".")));var m=/iasProxyPartnerId=([\d]+)/g.exec(e.scriptUrl),h=m&&m[1],v=e.proxyPartnerId||h||"";return v&&f.push("ppi:"+v),g=function(){var t,n="ias_xpc",r=String(e.scriptUrl).toLowerCase(),i=r.indexOf(n);if(i>-1){var o=r.substring(i+n.length+1),a=o.indexOf("&");t=a>-1?o.substring(0,a):o}else t=l;return t||""}(),l!==g&&f.push("x_xpc:"+g),d&&d.isProtectedAudienceAuction&&f.push(`${be.ProtectedAudienceApi}:1`),f},$i=function(e,t,n,r){"use strict";var i,o,a="adsafe_url=",s="&adsafe_type=",c=[],u=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},d=function(e){var i,o,u,d=e.val,g=e.key,l=(o=g,u=a.length+s.length+c.join("&").length+o.length+n,t-u);r&&l<d.length&&l>0&&(d=d.substr(0,l)),(d.length||""===e.val||""===e.type)&&function(e){var n=c.join("&").length;return e.length+n<=t}(i=a+d+s+g)&&c.push(i)};return e&&e.length&&(i=$(e).map((function(e,t){if(u(t))return t})),o=$(e).map((function(e,t){if(!u(t))return t})),$(i.concat(o)).each((function(e,t){d(t)}))),c},Zi=function(){"use strict";return{isApplicable:function(e){var t=Yt.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=Yt.getWindow(),o=ro(i.navigator.plugins),a=o.hash();n=a.join("."),ee.getAggregator().trigger(De.AddOutputItem,{output:n},be.PluginList,{type:te.IMPRESSION_EVENT}),a.length&&(t=o.decode(a),r=t.join("."),ee.getAggregator().trigger(De.AddOutputItem,{output:r},be.PluginDecoded,{type:te.DT_CODES.ADTALK}))}}},eo=function(e,t){"use strict";return{start:function(){try{var n=to(),r=n.getMethodName(e),i=new ze(t.getEnabledScriptUrl(e));new io((o=Yt.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){ee.getAggregator().trigger(De.Error,te.ERROR_CODES.FEATURE_SCRIPT)}var o}}},to=function(){"use strict";var t=function(t,n,r){t===e.asid&&(r.unshift(n),ee.getAggregator().trigger.apply(null,r))};return{getMethod:function(n){return function(r){var i={asid:e.asid,constant:te,features:n,context:Nt,dtBaseURL:q.baseUrls.dtBaseUrl,spg:oo};"function"==typeof r&&r(t,i)}},getMethodName:function(e){return"register_"+e}}},no=function(){"use strict";return{start:function(e,t){$(e).each((function(e,n){t.getEnabledScriptUrl(n)&&eo(n,t).start()}))}}},ro=function(e){"use strict";var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,a=e.length,s=[];o<a;o++)r=t(e[o]),i=tn.hashCode(r),n=$.toBase(i,62).slice(-4),s.push(n);return s},decode:function(n){var r,i;return r=Yt.floor(Yt.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},io=function(t,n){"use strict";var r,i=function(){return"about:blank"};return function(n){var o;(r=Mt.createHiddenIframe()).setAttribute("src",i()),r.setAttribute("class","_ntnrjf7826-hj"),(t||e.contextNode.parentNode).appendChild(r),o=function(e){return e.contentWindow.document}(r);var a=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+n+"'\">"].join("");o.open().write(a),o.close()}(n),{getWindow:function(){return r.contentWindow}}},oo=function(t){"use strict";var n=new ke;n.listen((function(n){return n&&n.scaInfoOriginatorASID&&n.scaInfoOriginatorASID!==e.asid&&n.cache&&t.allExpectedKeysPresent(n.cache)}),(function(e,r){n.stop(),Yt.setTimeout((function(){t.isDtCallAlreadySent()||(ee.getAggregator().trigger(De.AddThrottledProp,te.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),$(r.cache).each((function(e,n){t.addToCache(e,n)})))}),Yt.round(1e3*Yt.random()))})),ee.getAggregator().on(De.AddToSpg,(function(e,n){t.addToCache(n,e),t.isFull()&&(t.sendToOtherTags(),Yt.setTimeout(t.sendToOtherTags,1300),Yt.setTimeout(t.sendToOtherTags,3200))}))},ao={name:"spg",dependencies:["spgCache"],creator:oo,settings:{tier:te.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){"use strict";return e.on("spg")}}},so={name:"spgCache",dependencies:[],creator:function(){"use strict";var t=["asp","ch","fsc","mvn","no","sd"],n={},r=!1,i=function(){return o(n)},o=function(e){return $(e).keys().sort().toString()===t.toString()},a=function(){r||(r=!0,$(n).each((function(e,t){ee.getAggregator().trigger(De.AddOutputItem,t,e,{type:te.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),ee.getAggregator().trigger(De.SendMinDt,te.DT_CODES.SCA))};return{allExpectedKeysPresent:o,isDtCallAlreadySent:function(){return r},addToCache:function(e,t){t&&t.output&&!i()&&(n[e]=t),i()&&a()},isFull:i,sendToOtherTags:function(){(new We).send({scaInfoOriginatorASID:e.asid,cache:n})}}},settings:{}},co=function(){for(var e=[Ie,Ee,Ae,ln,cn,un,on,gn,dn,an,qi,Yi,$e,bn,Lr,so,ao],t=0;t<e.length;t+=1)ee(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)};const uo=new RegExp("^(ft|ftias)_?.*_(\\d+)$"),go="?iasend?",lo=({aggregator:e,ftInstance:t,macros:n})=>{try{const r=(({ftInstance:e,macros:t})=>{const n=Object.keys(t),r=n.map((e=>`${e}=${t[e]}`)).join("&")+go;let i=e.replaceMacros(r);const o=i.indexOf(go);return o>0&&(i=i.substring(0,o)),i.split("&").reduce(((e,t)=>{const r=t.split("="),i=r?r[0]:void 0,o=r?r[1]:void 0;return i&&n.includes(i)&&i&&o&&(e[i]=o),e}),{})})({ftInstance:t,macros:n});for(const[t,n]of Object.entries(r)){const r="string"==typeof n?n:"number"==typeof n?n.toString():n;e.trigger(De.AddOutputItem,{output:r},t,{type:te.DT_CODES.ADSERVER_MACROS,standalone:!0})}Object.keys(r).length>0&&e.trigger(De.SendDt,te.DT_CODES.ADSERVER_MACROS)}catch(e){}},fo=({checkInterval:e,collectorTimeout:t,aggregator:n,macros:r,contextNode:i,scopedWindow:o})=>{const a=Yt.setInterval((()=>{const e=(({contextNode:e,scopedWindow:t})=>{var n;const r=null===(n=null==e?void 0:e.getAttribute(te.CALLBACK_IDENTIFIER.toString()))||void 0===n?void 0:n.match(uo);if(!r||r.length<3)return;const i=r[2],o=t?t[`ft${i}`]:null;return o&&"function"==typeof o.replaceMacros?o:void 0})({contextNode:i,scopedWindow:o});e&&(Yt.clearInterval(a),lo({aggregator:n,ftInstance:e,macros:r}))}),e);Yt.setTimeout((()=>{Yt.clearInterval(a)}),t)};class po{constructor({macros:e,collectorTimeout:t,checkInterval:n,aggregator:r,scopedWindow:i}){this.macros={},this.collectorTimeout=5e3,this.checkInterval=500,this.aggregator=ee.getAggregator(),this.collectorTimeout=null!=t?t:this.collectorTimeout,this.checkInterval=null!=n?n:this.checkInterval,this.aggregator=r||this.aggregator,this.scopedWindow=i||("undefined"!=typeof window?window:void 0),this.macros=e||this.macros}applies({contextNode:e,features:t}){var n;const r=null!=this.scopedWindow,i=null!=t&&1==t.on("ftPostRedirectMacros"),o=null!=e&&null!=e.getAttribute(te.CALLBACK_IDENTIFIER.toString())&&uo.test(null!==(n=null==e?void 0:e.getAttribute(te.CALLBACK_IDENTIFIER.toString()))&&void 0!==n?n:"");return!!(r&&i&&o)}start({contextNode:e}){this.aggregator.on(De.ImpressionSent,(()=>{fo({checkInterval:this.checkInterval,collectorTimeout:this.collectorTimeout,aggregator:this.aggregator,macros:this.macros,contextNode:e,scopedWindow:this.scopedWindow})}))}}class mo{constructor({contextNode:e,features:t,bootstrapper:n,macroCollector:r}){this.contextNode=e,this.features=t,this.macroCollectors=r||[new po({macros:n.ftMacros})]}start(){for(const e of this.macroCollectors)e.applies({contextNode:this.contextNode,features:this.features})&&e.start({contextNode:this.contextNode})}}const ho=e=>{try{new vo(e)}catch(e){}};class vo{constructor(e){this.context=e,this.extractSignalsTriggered=!1,ee.getAggregator().on(De.StartViewabilityLoop,(()=>{this.extractSignalsTriggered||(this.extractSignalsTriggered=!0,Yt.setTimeout((()=>{this.extractSignals()}),250))}))}extractSignals(){const e=this.detectEngine();this.executeDomlessSafeFunctions(),this.context.isDomless()||this.executeDomDependentFunctions(e)}executeDomlessSafeFunctions(){try{Io()}catch(e){}}executeDomDependentFunctions(e){try{Eo(e)}catch(e){}}detectEngine(){return Do(this.context.isDomless())}}const Eo=e=>{const t=[()=>Oo(e),bo,Ro,Po,Co,wo,_o,Mo,Vo];"b"!==e&&"e"!==e&&"o"!==e||t.push(Fo),t.push(Lo,Uo,ko);const n=e=>{if(e>=t.length)return;const r=t[e];if(r)try{r()}catch(e){}Yt.setTimeout((()=>n(e+1)),10)};n(0)},Io=()=>{No()},Ao=function(e,t){ee.getAggregator().trigger(De.AddThrottledProp,"sca",e,t)},So=(e,t)=>{try{const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&"function"==typeof n.get}catch(e){return!1}},yo=(e,t)=>{try{const n=e=>{try{return void Date.prototype.getYear.call(e)}catch(e){let t=e.message+"";t=t.replace(/\r?\n/g,"");const n=t.indexOf("function");return-1!==n?t.substring(n).trim():t.trim()}},r=n((function(){return!0}));if(!((null==r?void 0:r.includes("RANDOM_STRING"))||!1)){let n=Function.prototype.toString.call(e);return n=n.replace(/\r?\n/g,""),!t.test(n)}const i=n(e);return!(!i||t.test(i))}catch(e){return!1}},To=e=>e.replace(/[^A-Za-z0-9\-._~/|+*%]/g,""),Oo=e=>{try{let t,n=!1,r=!1;const i=()=>{try{t=new Error,Object.defineProperty(t,"stack",{configurable:!1,enumerable:!1,get:()=>(n=!0,"")}),console.debug(t)}catch(e){}return n},o=()=>{try{throw new Error("")}catch(e){(e.stack+"").includes("*")&&(r=!0)}return r},a={};"g"!==e&&(n=i(),n&&(a.cdp=$.stringifyTriState(n),Ao("bdp",$(a).toION()))),"g"===e&&(r=o(),r&&(a.rdp=$.stringifyTriState(r),Ao("bdp",$(a).toION())))}catch(e){}},Do=e=>{var t,n,r,i;let o;if(e)o="d";else{o="u";try{const e=Yt.getWindow(),a=Yt.getDoc();o=$.isDef(a.documentMode)?"t":$.isDef(e.netscape)&&"MozAppearance"in a.documentElement.style?"g":$.isDef(e.opera)||$.isDef(e.opr)||$.isDef(null===(t=e.chrome)||void 0===t?void 0:t.search)?"o":$.isDef(e.chrome)&&$.isDef(e.CryptoKeyPair)?"h":$.isDef(e.chrome)&&$.isDef(null===(n=e.external)||void 0===n?void 0:n.getHostEnvironmentValue)||$.isDef(null===(r=a.documentElement)||void 0===r?void 0:r.style)&&-1!==Object.getOwnPropertyNames(a.documentElement.style).indexOf("msHighContrastAdjust")?"e":($.isDef(e.chrome)||$.isDef(e.PERSISTENT)||$.isDef(null===(i=e.google)||void 0===i?void 0:i.gears))&&-1===Object.prototype.toString.call(HTMLElement).indexOf("Constructor")?"b":"webkitAppearance"in a.documentElement.style?"w":"u"}catch(e){o="u"}}return Ao("eng",o),o},wo=()=>{const e={exs:(()=>{let e="";try{e=""+Yt.getWindow().external,e=""===e?"empty":e.replace(/[[\]\s]/g,""),e=To(e.substring(0,50))}catch(t){e="err"}return e})()};Ao("exr",$(e).toION())},No=()=>{const e={lts:(()=>{try{const e=new Date,t=e.getFullYear().toString(),n=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),o=("0"+e.getMinutes()).slice(-2);return`${t}-${n}-${r}${i}.${o}.${("0"+e.getSeconds()).slice(-2)}`}catch(e){return"err"}})(),tzo:(()=>{try{return(new Date).getTimezoneOffset()}catch(e){return-1}})(),tzn:(()=>{try{return To(Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(e){return"err"}})()};Ao("tss",$(e).toION())},bo=()=>{const e={ori:$.stringifyTriState((()=>{let e=!1;try{e=$.isDef(Yt.getWindow().orientation)}catch(t){e=!1}return e})()),ges:$.stringifyTriState((()=>{let e=!1;try{const t=Yt.getWindow();e=$.isDef(t.GestureEvent)}catch(t){e=!1}return e})()),tch:$.stringifyTriState((()=>{let e=!1;try{e=$.isDef(Yt.getWindow().ontouchstart)||navigator.maxTouchPoints>1}catch(t){e=!1}return e})())};Ao("mob",$(e).toION())},Co=()=>{const e=Yt.getWindow(),t=[{key:"not",check:()=>!(!e.Notification&&!e.webkitNotifications)},{key:"csi",check:()=>{var t;return!!(null===(t=e.chrome)||void 0===t?void 0:t.csi)}},{key:"msl",check:()=>!!navigator.msLaunchUri},{key:"hdl",check:()=>!!e.HTMLDataListElement},{key:"aps",check:()=>!!e.ApplePaySession},{key:"hae",check:()=>!!e.HTMLAudioElement},{key:"ito",check:()=>!!e.IntersectionObserver},{key:"sec",check:()=>!!e.isSecureContext},{key:"pha",check:()=>!(!e.callPhantom&&!e._phantom),sendIfTrue:!0},{key:"plr",check:()=>!(!e.__pwInitScripts&&!e.__playwright__binding__),sendIfTrue:!0}],n={};for(const{key:e,check:r,sendIfTrue:i}of t)try{const t=r();if(i&&!t)continue;n[e]=$.stringifyTriState(t)}catch(t){n[e]=$.stringifyTriState(!1)}Ao("prp",$(n).toION())},Ro=()=>{try{const e=()=>{try{const e=Object.getOwnPropertyDescriptor(Navigator.prototype,"appName");return!(!e||!e.get)&&(e.get.call(navigator),!1)}catch(e){return!0}},t={};navigator!==clientInformation&&(t.nci=String($.stringifyTriState(!0))),e()&&(t.anc=String($.stringifyTriState(!0))),function(e){try{return Date.prototype.getFullYear.call(e),!0}catch(e){return!!e.stack.includes("Proxy.getFullYear")}}(navigator)&&(t.npx=String($.stringifyTriState(!0))),Object.keys(t).length>0&&Ao("nic",$(t).toION())}catch(e){}},_o=()=>{var e;let t,n=!1;try{const r=null===(e=Yt.getTop())||void 0===e?void 0:e.document,i=Object.getOwnPropertyDescriptor(r,"referrer");i&&"function"==typeof i.get&&(n=!0,t=i.get.toString().replace(/[\n\r]/g,"").substring(0,50),t=To(t))}catch(e){n=!1}const r={};n&&(r.tam=String($.stringifyTriState(n)),t&&(r.ref=t)),Object.keys(r).length>0&&Ao("ret",$(r).toION())},Mo=()=>{try{const e=Yt.getDoc(),t=So(e,"visibilityState"),n=So(e,"hidden");let r=!1;if("undefined"!=typeof IntersectionObserverEntry){const e=Object.getOwnPropertyDescriptor(IntersectionObserverEntry.prototype,"isIntersecting");if(e&&"function"==typeof e.get){const t=/isIntersecting\s*\(\)\s*\{\s*\[native\s+code\]\s*\}/;r=yo(e.get,t)}}const i={};t&&(i.vis=String($.stringifyTriState(t))),n&&(i.hid=String($.stringifyTriState(n))),r&&(i.itt=String($.stringifyTriState(r))),Object.keys(i).length>0&&Ao("viw",$(i).toION())}catch(e){}},Po=()=>{try{const e=()=>{try{const e=Object.getOwnPropertyDescriptor(Navigator.prototype,"webdriver");if(e&&"function"==typeof e.get){const t=/^function\s+(?:get\s+)?webdriver\(\)\s*{\s*\[native code\]\s*}$/;return yo(e.get,t)}return!1}catch(e){return!1}},t={};(()=>{try{return navigator.hasOwnProperty("webdriver")}catch(e){return!1}})()&&(t.wop=String($.stringifyTriState(!0))),e()&&(t.wgt=String($.stringifyTriState(!0))),Object.keys(t).length>0&&Ao("wdt",$(t).toION())}catch(e){}},Vo=()=>{let e=0,t=0;try{let n=Yt.getWindow();const r=Yt.getTop();do{if(!n)break;if(n===r)break;const i=n.parent;e+=1;try{i.document}catch(e){t+=1}n=i}while(e<20)}catch(n){e=-2,t=-2}Ao("ifr",$({act:e,eff:t}).toION())};function Fo(){(function(){const e=Yt.getWindow().navigator;return e.userAgentData&&$.isFunction(e.userAgentData.getHighEntropyValues)?e.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platform","platformVersion","uaFullVersion","wow64"]).then((e=>["architecture","model","platformVersion","uaFullVersion","bitness"].every((t=>""===e[t])))).catch((()=>!1)):Promise.resolve(!1)})().then((e=>{if(e){const e={ent:$.stringifyTriState(!0)};Ao("uai",$(e).toION())}})).catch((()=>{}))}const xo=e=>new Promise((t=>{var n;try{const r=null===(n=e.Notification)||void 0===n?void 0:n.permission;t(null!=r?r:"na")}catch(e){t("na")}})),Lo=()=>{const e=Yt.getWindow();(null==e?void 0:e.isSecureContext)&&Promise.all([new Promise((e=>{navigator.permissions&&$.isFunction(navigator.permissions.query)?navigator.permissions.query({name:"notifications"}).then((t=>e(t.state))).catch((()=>e("na"))):e("na")})),xo(e)]).then((([e,t])=>{Ao("nit",$({pqr:e,ntr:t}).toION())})).catch((()=>{}))},Uo=()=>{try{const e=Yt.getDoc();if(!e)return;const t=(e=>{const t={probably:2,maybe:1,"":0},n=e.createElement("video");return['video/mp4;codecs="avc1.42E01E, mp4a.40.2"','video/mp4;codecs="avc1.58A01E, mp4a.40.2"','video/mp4;codecs="avc1.4D401E, mp4a.40.2"','video/mp4;codecs="avc1.64001E, mp4a.40.2"','video/mp4;codecs="mp4v.20.8, mp4a.40.2"','video/mp4;codecs="mp4v.20.240, mp4a.40.2"','video/3gpp;codecs="mp4v.20.8, samr"','video/ogg;codecs="theora, vorbis"','video/ogg;codecs="theora, speex"',"audio/ogg;codecs=vorbis","audio/ogg;codecs=speex","audio/ogg;codecs=flac",'video/ogg;codecs="dirac, vorbis"','video/x-matroska;codecs="theora, vorbis"','video/mp4; codecs="avc1.42E01E"','audio/mp4; codecs="mp4a.40.2"','audio/mpeg;codecs="mp3"','video/webm; codecs="vorbis,vp8"'].map((e=>{var r;const i=n.canPlayType(e);return null!==(r=t[i])&&void 0!==r?r:0}))})(e);Ao("cdc",$(t).toION())}catch(e){}},ko=()=>{try{if(void 0===window.speechSynthesis)return;let e=0,t=0,n=0,r=!1,i=!1,o=!1;const a=window.speechSynthesis,s=(o,a=!1)=>{if(o.length>0){const s=new Set;t=o.filter((e=>!e.localService)).length,r=o.some((e=>e.name.includes("Chrome OS"))),e=o.length,o.forEach((e=>s.add(e.lang))),n=s.size,i=a,c()}},c=()=>{if(o)return;o=!0,a.onvoiceschanged=null;const s={vct:e,rct:t,lct:n,cos:$.stringifyTriState(r),evt:$.stringifyTriState(i)};Ao("spc",$(s).toION())},u=(e=!1)=>{const t=a.getVoices();(t.length>0||e)&&s(t,e)};u(),0===e&&(a.onvoiceschanged=()=>u(!0),Yt.setTimeout((()=>{o||u(!0)}),3e3))}catch(e){}};try{!function(){"use strict";var t,n,r,i,o,a,s,c;try{(()=>{const t=Nt.isDomless(),n=Yt.getWindow(),r=new j({contextNodeElement:null==e?void 0:e.contextNode});q.addModel(r);const i=new G({isDomless:t,currentWindow:n,defaultBootstrapperConfig:e});q.addModel(i);const o=new u;q.addModel(o);const a=new k({isDomless:t,contextNode:r,measurementConfig:i});q.addModel(a);const s=i.isStaticFrameInFrame?new j({contextNodeElement:null==e?void 0:e.currentScript}):r,c=new l({contextNode:s});q.addModel(c);const d=new g;q.addModel(d);const f=new Hn;q.addModel(f);const p=new W({bootstrapper:e});q.addModel(p)})()}catch(e){}e.perf.markStart(oe),q.measurementConfig.set("mainBirthdate",q.measurementConfig.birthdate?(new Date).getTime()-q.measurementConfig.birthdate:-1),co(),ee.startSystem();var d=ee.getAggregator();o={},a={},d.provide({[Ne.OmidAdSessionContext]:o}),d.provide({[Ne.OmidAdSessionVerificationParameters]:a}),q.measurementConfig.isResolved&&d.provide(Ne.Features,Lt()),d.provide(Ne.Browser,(new nt).createInstance());var f=d.provide(Ne.AncestorOrigins,Ze());d.provide(Ne.PageURLS,(new zt).createInstance(f,Yt)),t=Pt(),n=jt(),r=(new ot).createInstance(t,n),i=kt(),d.provide({[Ne.Errors]:t,[Ne.JSONP]:n,[Ne.Communication]:r,[Ne.IDS]:i}),s=__IASOmidVerificationClient,d.provide({[Ne.OmidVerificationClient]:s}),c=[{environment:Fn(s),adSessionReadyStrategy:Un(s)},{environment:kn(),adSessionReadyStrategy:Bn()}],new Ln(c).resolve().adSessionReadyStrategy.start(),e.perf.markEnd(oe)}()}catch(t){__IntegralASDiagnosticCall("main",t,e)}};try{!function(){var e=__IntegralASConfig.useFIF?__IASScope.parent:__IASScope;try{top.__IntegralASAdPush=function(t){(t||top.isSingleIASInstance&&top.iasAdSlots).forEach((function(t){__IntegralASConfig._cl_adpath=t.adSelector,__IntegralASConfig.iasParameters=t.iasParameters,__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}))},top.isSingleIASInstance&&top.iasAdSlots?top.__IntegralASAdPush():__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}catch(t){__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}}()}catch(e){__IntegralASDiagnosticCall("initialize",e,__IntegralASConfig)}
